(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Df={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function hT(){if(oy)return Ll;oy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var cy;function fT(){return cy||(cy=1,Df.exports=hT()),Df.exports}var te=fT(),Vf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function dT(){if(hy)return St;hy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,J={};function j(V,W,st){this.props=V,this.context=W,this.refs=J,this.updater=st||P}j.prototype.isReactComponent={},j.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=j.prototype;function rt(V,W,st){this.props=V,this.context=W,this.refs=J,this.updater=st||P}var et=rt.prototype=new X;et.constructor=rt,k(et,j.prototype),et.isPureReactComponent=!0;var mt=Array.isArray,ot={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function N(V,W,st,nt,ft,Ct){return st=Ct.ref,{$$typeof:a,type:V,key:W,ref:st!==void 0?st:null,props:Ct}}function S(V,W){return N(V.type,W,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function O(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return W[st]})}var M=/\/+/g;function U(V,W){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):W.toString(36)}function C(){}function Me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ae(V,W,st,nt,ft){var Ct=typeof V;(Ct==="undefined"||Ct==="boolean")&&(V=null);var Et=!1;if(V===null)Et=!0;else switch(Ct){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(V.$$typeof){case a:case e:Et=!0;break;case T:return Et=V._init,ae(Et(V._payload),W,st,nt,ft)}}if(Et)return ft=ft(V),Et=nt===""?"."+U(V,0):nt,mt(ft)?(st="",Et!=null&&(st=Et.replace(M,"$&/")+"/"),ae(ft,W,st,"",function(Un){return Un})):ft!=null&&(R(ft)&&(ft=S(ft,st+(ft.key==null||V&&V.key===ft.key?"":(""+ft.key).replace(M,"$&/")+"/")+Et)),W.push(ft)),1;Et=0;var we=nt===""?".":nt+":";if(mt(V))for(var $t=0;$t<V.length;$t++)nt=V[$t],Ct=we+U(nt,$t),Et+=ae(nt,W,st,Ct,ft);else if($t=D(V),typeof $t=="function")for(V=$t.call(V),$t=0;!(nt=V.next()).done;)nt=nt.value,Ct=we+U(nt,$t++),Et+=ae(nt,W,st,Ct,ft);else if(Ct==="object"){if(typeof V.then=="function")return ae(Me(V),W,st,nt,ft);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Et}function F(V,W,st){if(V==null)return V;var nt=[],ft=0;return ae(V,nt,"","",function(Ct){return W.call(st,Ct,ft++)}),nt}function at(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var ht=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function zt(){}return St.Children={map:F,forEach:function(V,W,st){F(V,function(){W.apply(this,arguments)},st)},count:function(V){var W=0;return F(V,function(){W++}),W},toArray:function(V){return F(V,function(W){return W})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},St.Component=j,St.Fragment=i,St.Profiler=u,St.PureComponent=rt,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,St.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ot.H.useMemoCache(V)}},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cloneElement=function(V,W,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var nt=k({},V.props),ft=V.key,Ct=void 0;if(W!=null)for(Et in W.ref!==void 0&&(Ct=void 0),W.key!==void 0&&(ft=""+W.key),W)!wt.call(W,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&W.ref===void 0||(nt[Et]=W[Et]);var Et=arguments.length-2;if(Et===1)nt.children=st;else if(1<Et){for(var we=Array(Et),$t=0;$t<Et;$t++)we[$t]=arguments[$t+2];nt.children=we}return N(V.type,ft,void 0,void 0,Ct,nt)},St.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},St.createElement=function(V,W,st){var nt,ft={},Ct=null;if(W!=null)for(nt in W.key!==void 0&&(Ct=""+W.key),W)wt.call(W,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(ft[nt]=W[nt]);var Et=arguments.length-2;if(Et===1)ft.children=st;else if(1<Et){for(var we=Array(Et),$t=0;$t<Et;$t++)we[$t]=arguments[$t+2];ft.children=we}if(V&&V.defaultProps)for(nt in Et=V.defaultProps,Et)ft[nt]===void 0&&(ft[nt]=Et[nt]);return N(V,Ct,void 0,void 0,null,ft)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:g,render:V}},St.isValidElement=R,St.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:at}},St.memo=function(V,W){return{$$typeof:y,type:V,compare:W===void 0?null:W}},St.startTransition=function(V){var W=ot.T,st={};ot.T=st;try{var nt=V(),ft=ot.S;ft!==null&&ft(st,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(zt,ht)}catch(Ct){ht(Ct)}finally{ot.T=W}},St.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},St.use=function(V){return ot.H.use(V)},St.useActionState=function(V,W,st){return ot.H.useActionState(V,W,st)},St.useCallback=function(V,W){return ot.H.useCallback(V,W)},St.useContext=function(V){return ot.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,W){return ot.H.useDeferredValue(V,W)},St.useEffect=function(V,W,st){var nt=ot.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(V,W)},St.useId=function(){return ot.H.useId()},St.useImperativeHandle=function(V,W,st){return ot.H.useImperativeHandle(V,W,st)},St.useInsertionEffect=function(V,W){return ot.H.useInsertionEffect(V,W)},St.useLayoutEffect=function(V,W){return ot.H.useLayoutEffect(V,W)},St.useMemo=function(V,W){return ot.H.useMemo(V,W)},St.useOptimistic=function(V,W){return ot.H.useOptimistic(V,W)},St.useReducer=function(V,W,st){return ot.H.useReducer(V,W,st)},St.useRef=function(V){return ot.H.useRef(V)},St.useState=function(V){return ot.H.useState(V)},St.useSyncExternalStore=function(V,W,st){return ot.H.useSyncExternalStore(V,W,st)},St.useTransition=function(){return ot.H.useTransition()},St.version="19.1.0",St}var fy;function md(){return fy||(fy=1,Vf.exports=dT()),Vf.exports}var K=md(),Pl={},dy;function mT(){if(dy)return Pl;dy=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=d,Pl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,h=(()=>{const D=function(){};return D.prototype=Object.create(null),D})();function d(D,P){const k=new h,J=D.length;if(J<2)return k;const j=(P==null?void 0:P.decode)||T;let X=0;do{const rt=D.indexOf("=",X);if(rt===-1)break;const et=D.indexOf(";",X),mt=et===-1?J:et;if(rt>mt){X=D.lastIndexOf(";",rt-1)+1;continue}const ot=g(D,X,rt),wt=p(D,rt,ot),N=D.slice(ot,wt);if(k[N]===void 0){let S=g(D,rt+1,mt),R=p(D,mt,S);const O=j(D.slice(S,R));k[N]=O}X=mt+1}while(X<J);return k}function g(D,P,k){do{const J=D.charCodeAt(P);if(J!==32&&J!==9)return P}while(++P<k);return k}function p(D,P,k){for(;P>k;){const J=D.charCodeAt(--P);if(J!==32&&J!==9)return P+1}return k}function y(D,P,k){const J=(k==null?void 0:k.encode)||encodeURIComponent;if(!a.test(D))throw new TypeError(`argument name is invalid: ${D}`);const j=J(P);if(!e.test(j))throw new TypeError(`argument val is invalid: ${P}`);let X=D+"="+j;if(!k)return X;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);X+="; Max-Age="+k.maxAge}if(k.domain){if(!i.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);X+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);X+="; Path="+k.path}if(k.expires){if(!b(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);X+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(X+="; HttpOnly"),k.secure&&(X+="; Secure"),k.partitioned&&(X+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return X}function T(D){if(D.indexOf("%")===-1)return D;try{return decodeURIComponent(D)}catch{return D}}function b(D){return u.call(D)==="[object Date]"}return Pl}mT();var my="popstate";function gT(a={}){function e(u,h){let{pathname:d="/",search:g="",hash:p=""}=ha(u.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Gf("",{pathname:d,search:g,hash:p},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function i(u,h){let d=u.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let p=u.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof h=="string"?h:Yl(h))}function s(u,h){xn(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return yT(e,i,s,a)}function ie(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function xn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pT(){return Math.random().toString(36).substring(2,10)}function gy(a,e){return{usr:a.state,key:a.key,idx:e}}function Gf(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:i,key:e&&e.key||s||pT()}}function Yl({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function ha(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function yT(a,e,i,s={}){let{window:u=document.defaultView,v5Compat:h=!1}=s,d=u.history,g="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function b(){g="POP";let j=T(),X=j==null?null:j-y;y=j,p&&p({action:g,location:J.location,delta:X})}function D(j,X){g="PUSH";let rt=Gf(J.location,j,X);i&&i(rt,j),y=T()+1;let et=gy(rt,y),mt=J.createHref(rt);try{d.pushState(et,"",mt)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;u.location.assign(mt)}h&&p&&p({action:g,location:J.location,delta:1})}function P(j,X){g="REPLACE";let rt=Gf(J.location,j,X);i&&i(rt,j),y=T();let et=gy(rt,y),mt=J.createHref(rt);d.replaceState(et,"",mt),h&&p&&p({action:g,location:J.location,delta:0})}function k(j){let X=u.location.origin!=="null"?u.location.origin:u.location.href,rt=typeof j=="string"?j:Yl(j);return rt=rt.replace(/ $/,"%20"),ie(X,`No window.location.(origin|href) available to create URL for href: ${rt}`),new URL(rt,X)}let J={get action(){return g},get location(){return a(u,d)},listen(j){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(my,b),p=j,()=>{u.removeEventListener(my,b),p=null}},createHref(j){return e(u,j)},createURL:k,encodeLocation(j){let X=k(j);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:D,replace:P,go(j){return d.go(j)}};return J}function M_(a,e,i="/"){return _T(a,e,i,!1)}function _T(a,e,i,s){let u=typeof e=="string"?ha(e):e,h=Mi(u.pathname||"/",i);if(h==null)return null;let d=x_(a);vT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=IT(h);g=DT(d[p],y,s)}return g}function x_(a,e=[],i=[],s=""){let u=(h,d,g)=>{let p={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};p.relativePath.startsWith("/")&&(ie(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Oi([s,p.relativePath]),T=i.concat(p);h.children&&h.children.length>0&&(ie(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),x_(h.children,e,T,y)),!(h.path==null&&!h.index)&&e.push({path:y,score:wT(y,h.index),routesMeta:T})};return a.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))u(h,d);else for(let p of U_(h.path))u(h,d,p)}),e}function U_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,u=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return u?[h,""]:[h];let d=U_(s.join("/")),g=[];return g.push(...d.map(p=>p===""?h:[h,p].join("/"))),u&&g.push(...d),g.map(p=>a.startsWith("/")&&p===""?"/":p)}function vT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:CT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var ET=/^:[\w-]+$/,TT=3,AT=2,ST=1,bT=10,RT=-2,py=a=>a==="*";function wT(a,e){let i=a.split("/"),s=i.length;return i.some(py)&&(s+=RT),e&&(s+=AT),i.filter(u=>!py(u)).reduce((u,h)=>u+(ET.test(h)?TT:h===""?ST:bT),s)}function CT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,u)=>s===e[u])?a[a.length-1]-e[e.length-1]:0}function DT(a,e,i=!1){let{routesMeta:s}=a,u={},h="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,T=h==="/"?e:e.slice(h.length)||"/",b=Ko({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),D=p.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=Ko({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(u,b.params),d.push({params:u,pathname:Oi([h,b.pathname]),pathnameBase:xT(Oi([h,b.pathnameBase])),route:D}),b.pathnameBase!=="/"&&(h=Oi([h,b.pathnameBase]))}return d}function Ko(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=VT(a.path,a.caseSensitive,a.end),u=e.match(i);if(!u)return null;let h=u[0],d=h.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:b},D)=>{if(T==="*"){let k=g[D]||"";d=h.slice(0,h.length-k.length).replace(/(.)\/+$/,"$1")}const P=g[D];return b&&!P?y[T]=void 0:y[T]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:d,pattern:a}}function VT(a,e=!1,i=!0){xn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),s]}function IT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Mi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function OT(a,e="/"){let{pathname:i,search:s="",hash:u=""}=typeof a=="string"?ha(a):a;return{pathname:i?i.startsWith("/")?i:NT(i,e):e,search:UT(s),hash:LT(u)}}function NT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function If(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function L_(a){let e=MT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function P_(a,e,i,s=!1){let u;typeof a=="string"?u=ha(a):(u={...a},ie(!u.pathname||!u.pathname.includes("?"),If("?","pathname","search",u)),ie(!u.pathname||!u.pathname.includes("#"),If("#","pathname","hash",u)),ie(!u.search||!u.search.includes("#"),If("#","search","hash",u)));let h=a===""||u.pathname==="",d=h?"/":u.pathname,g;if(d==null)g=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let D=d.split("/");for(;D[0]==="..";)D.shift(),b-=1;u.pathname=D.join("/")}g=b>=0?e[b]:"/"}let p=OT(u,g),y=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Oi=a=>a.join("/").replace(/\/\/+/g,"/"),xT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),UT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,LT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function PT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var z_=["POST","PUT","PATCH","DELETE"];new Set(z_);var zT=["GET",...z_];new Set(zT);var As=K.createContext(null);As.displayName="DataRouter";var fc=K.createContext(null);fc.displayName="DataRouterState";var k_=K.createContext({isTransitioning:!1});k_.displayName="ViewTransition";var kT=K.createContext(new Map);kT.displayName="Fetchers";var BT=K.createContext(null);BT.displayName="Await";var ii=K.createContext(null);ii.displayName="Navigation";var iu=K.createContext(null);iu.displayName="Location";var ri=K.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var gd=K.createContext(null);gd.displayName="RouteError";function qT(a,{relative:e}={}){ie(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=K.useContext(ii),{hash:u,pathname:h,search:d}=au(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:Oi([i,h])),s.createHref({pathname:g,search:d,hash:u})}function ru(){return K.useContext(iu)!=null}function fa(){return ie(ru(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(iu).location}var B_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q_(a){K.useContext(ii).static||K.useLayoutEffect(a)}function H_(){let{isDataRoute:a}=K.useContext(ri);return a?eA():HT()}function HT(){ie(ru(),"useNavigate() may be used only in the context of a <Router> component.");let a=K.useContext(As),{basename:e,navigator:i}=K.useContext(ii),{matches:s}=K.useContext(ri),{pathname:u}=fa(),h=JSON.stringify(L_(s)),d=K.useRef(!1);return q_(()=>{d.current=!0}),K.useCallback((p,y={})=>{if(xn(d.current,B_),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=P_(p,JSON.parse(h),u,y.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Oi([e,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[e,i,h,u,a])}K.createContext(null);function jT(){let{matches:a}=K.useContext(ri),e=a[a.length-1];return e?e.params:{}}function au(a,{relative:e}={}){let{matches:i}=K.useContext(ri),{pathname:s}=fa(),u=JSON.stringify(L_(i));return K.useMemo(()=>P_(a,JSON.parse(u),s,e==="path"),[a,u,s,e])}function GT(a,e){return j_(a,e)}function j_(a,e,i,s){var rt;ie(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:h}=K.useContext(ii),{matches:d}=K.useContext(ri),g=d[d.length-1],p=g?g.params:{},y=g?g.pathname:"/",T=g?g.pathnameBase:"/",b=g&&g.route;{let et=b&&b.path||"";G_(y,!b||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let D=fa(),P;if(e){let et=typeof e=="string"?ha(e):e;ie(T==="/"||((rt=et.pathname)==null?void 0:rt.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${et.pathname}" was given in the \`location\` prop.`),P=et}else P=D;let k=P.pathname||"/",J=k;if(T!=="/"){let et=T.replace(/^\//,"").split("/");J="/"+k.replace(/^\//,"").split("/").slice(et.length).join("/")}let j=!h&&i&&i.matches&&i.matches.length>0?i.matches:M_(a,{pathname:J});xn(b||j!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),xn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=XT(j&&j.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:Oi([T,u.encodeLocation?u.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?T:Oi([T,u.encodeLocation?u.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),d,i,s);return e&&X?K.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},X):X}function FT(){let a=tA(),e=PT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:h},"ErrorBoundary")," or"," ",K.createElement("code",{style:h},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),i?K.createElement("pre",{style:u},i):null,d)}var QT=K.createElement(FT,null),YT=class extends K.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?K.createElement(ri.Provider,{value:this.props.routeContext},K.createElement(gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KT({routeContext:a,match:e,children:i}){let s=K.useContext(As);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(ri.Provider,{value:a},i)}function XT(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,h=i==null?void 0:i.errors;if(h!=null){let p=u.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);ie(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<u.length;p++){let y=u[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:T,errors:b}=i,D=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||D){d=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((p,y,T)=>{let b,D=!1,P=null,k=null;i&&(b=h&&y.route.id?h[y.route.id]:void 0,P=y.route.errorElement||QT,d&&(g<0&&T===0?(G_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,k=null):g===T&&(D=!0,k=y.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,T+1)),j=()=>{let X;return b?X=P:D?X=k:y.route.Component?X=K.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=p,K.createElement(KT,{match:y,routeContext:{outlet:p,matches:J,isDataRoute:i!=null},children:X})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?K.createElement(YT,{location:i.location,revalidation:i.revalidation,component:P,error:b,children:j(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):j()},null)}function pd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $T(a){let e=K.useContext(As);return ie(e,pd(a)),e}function ZT(a){let e=K.useContext(fc);return ie(e,pd(a)),e}function JT(a){let e=K.useContext(ri);return ie(e,pd(a)),e}function yd(a){let e=JT(a),i=e.matches[e.matches.length-1];return ie(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function WT(){return yd("useRouteId")}function tA(){var s;let a=K.useContext(gd),e=ZT("useRouteError"),i=yd("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function eA(){let{router:a}=$T("useNavigate"),e=yd("useNavigate"),i=K.useRef(!1);return q_(()=>{i.current=!0}),K.useCallback(async(u,h={})=>{xn(i.current,B_),i.current&&(typeof u=="number"?a.navigate(u):await a.navigate(u,{fromRouteId:e,...h}))},[a,e])}var yy={};function G_(a,e,i){!e&&!yy[a]&&(yy[a]=!0,xn(!1,i))}K.memo(nA);function nA({routes:a,future:e,state:i}){return j_(a,void 0,i,e)}function Ff(a){ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iA({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:u,static:h=!1}){ie(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=K.useMemo(()=>({basename:d,navigator:u,static:h,future:{}}),[d,u,h]);typeof i=="string"&&(i=ha(i));let{pathname:p="/",search:y="",hash:T="",state:b=null,key:D="default"}=i,P=K.useMemo(()=>{let k=Mi(p,d);return k==null?null:{location:{pathname:k,search:y,hash:T,state:b,key:D},navigationType:s}},[d,p,y,T,b,D,s]);return xn(P!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:K.createElement(ii.Provider,{value:g},K.createElement(iu.Provider,{children:e,value:P}))}function rA({children:a,location:e}){return GT(Qf(a),e)}function Qf(a,e=[]){let i=[];return K.Children.forEach(a,(s,u)=>{if(!K.isValidElement(s))return;let h=[...e,u];if(s.type===K.Fragment){i.push.apply(i,Qf(s.props.children,h));return}ie(s.type===Ff,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ie(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Qf(s.props.children,h)),i.push(d)}),i}var qo="get",Ho="application/x-www-form-urlencoded";function dc(a){return a!=null&&typeof a.tagName=="string"}function aA(a){return dc(a)&&a.tagName.toLowerCase()==="button"}function sA(a){return dc(a)&&a.tagName.toLowerCase()==="form"}function lA(a){return dc(a)&&a.tagName.toLowerCase()==="input"}function uA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function oA(a,e){return a.button===0&&(!e||e==="_self")&&!uA(a)}var Uo=null;function cA(){if(Uo===null)try{new FormData(document.createElement("form"),0),Uo=!1}catch{Uo=!0}return Uo}var hA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Of(a){return a!=null&&!hA.has(a)?(xn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ho}"`),null):a}function fA(a,e){let i,s,u,h,d;if(sA(a)){let g=a.getAttribute("action");s=g?Mi(g,e):null,i=a.getAttribute("method")||qo,u=Of(a.getAttribute("enctype"))||Ho,h=new FormData(a)}else if(aA(a)||lA(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||g.getAttribute("action");if(s=p?Mi(p,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||qo,u=Of(a.getAttribute("formenctype"))||Of(g.getAttribute("enctype"))||Ho,h=new FormData(g,a),!cA()){let{name:y,type:T,value:b}=a;if(T==="image"){let D=y?`${y}.`:"";h.append(`${D}x`,"0"),h.append(`${D}y`,"0")}else y&&h.append(y,b)}}else{if(dc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=qo,s=null,u=Ho,d=a}return h&&u==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:u,formData:h,body:d}}function _d(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function dA(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function gA(a,e,i){let s=await Promise.all(a.map(async u=>{let h=e.routes[u.route.id];if(h){let d=await dA(h,i);return d.links?d.links():[]}return[]}));return vA(s.flat(1).filter(mA).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function _y(a,e,i,s,u,h){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return h==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):h==="data"?e.filter((p,y)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let D=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function pA(a,e,{includeHydrateFallback:i}={}){return yA(a.map(s=>{let u=e.routes[s.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function yA(a){return[...new Set(a)]}function _A(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function vA(a,e){let i=new Set;return new Set(e),a.reduce((s,u)=>{let h=JSON.stringify(_A(u));return i.has(h)||(i.add(h),s.push({key:h,link:u})),s},[])}var EA=new Set([100,101,204,205]);function TA(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&Mi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function F_(){let a=K.useContext(As);return _d(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function AA(){let a=K.useContext(fc);return _d(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var vd=K.createContext(void 0);vd.displayName="FrameworkContext";function Q_(){let a=K.useContext(vd);return _d(a,"You must render this element inside a <HydratedRouter> element"),a}function SA(a,e){let i=K.useContext(vd),[s,u]=K.useState(!1),[h,d]=K.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=e,D=K.useRef(null);K.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let J=X=>{X.forEach(rt=>{d(rt.isIntersecting)})},j=new IntersectionObserver(J,{threshold:.5});return D.current&&j.observe(D.current),()=>{j.disconnect()}}},[a]),K.useEffect(()=>{if(s){let J=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(J)}}},[s]);let P=()=>{u(!0)},k=()=>{u(!1),d(!1)};return i?a!=="intent"?[h,D,{}]:[h,D,{onFocus:zl(g,P),onBlur:zl(p,k),onMouseEnter:zl(y,P),onMouseLeave:zl(T,k),onTouchStart:zl(b,P)}]:[!1,D,{}]}function zl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function bA({page:a,...e}){let{router:i}=F_(),s=K.useMemo(()=>M_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?K.createElement(wA,{page:a,matches:s,...e}):null}function RA(a){let{manifest:e,routeModules:i}=Q_(),[s,u]=K.useState([]);return K.useEffect(()=>{let h=!1;return gA(a,e,i).then(d=>{h||u(d)}),()=>{h=!0}},[a,e,i]),s}function wA({page:a,matches:e,...i}){let s=fa(),{manifest:u,routeModules:h}=Q_(),{basename:d}=F_(),{loaderData:g,matches:p}=AA(),y=K.useMemo(()=>_y(a,e,p,u,s,"data"),[a,e,p,u,s]),T=K.useMemo(()=>_y(a,e,p,u,s,"assets"),[a,e,p,u,s]),b=K.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let k=new Set,J=!1;if(e.forEach(X=>{var et;let rt=u.routes[X.route.id];!rt||!rt.hasLoader||(!y.some(mt=>mt.route.id===X.route.id)&&X.route.id in g&&((et=h[X.route.id])!=null&&et.shouldRevalidate)||rt.hasClientLoader?J=!0:k.add(X.route.id))}),k.size===0)return[];let j=TA(a,d);return J&&k.size>0&&j.searchParams.set("_routes",e.filter(X=>k.has(X.route.id)).map(X=>X.route.id).join(",")),[j.pathname+j.search]},[d,g,s,u,y,e,a,h]),D=K.useMemo(()=>pA(T,u),[T,u]),P=RA(T);return K.createElement(K.Fragment,null,b.map(k=>K.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),D.map(k=>K.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),P.map(({key:k,link:J})=>K.createElement("link",{key:k,...J})))}function CA(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y_&&(window.__reactRouterVersion="7.5.3")}catch{}function DA({basename:a,children:e,window:i}){let s=K.useRef();s.current==null&&(s.current=gT({window:i,v5Compat:!0}));let u=s.current,[h,d]=K.useState({action:u.action,location:u.location}),g=K.useCallback(p=>{K.startTransition(()=>d(p))},[d]);return K.useLayoutEffect(()=>u.listen(g),[u,g]),K.createElement(iA,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:u})}var K_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X_=K.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:u,reloadDocument:h,replace:d,state:g,target:p,to:y,preventScrollReset:T,viewTransition:b,...D},P){let{basename:k}=K.useContext(ii),J=typeof y=="string"&&K_.test(y),j,X=!1;if(typeof y=="string"&&J&&(j=y,Y_))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=Mi(O.pathname,k);O.origin===R.origin&&M!=null?y=M+O.search+O.hash:X=!0}catch{xn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let rt=qT(y,{relative:u}),[et,mt,ot]=SA(s,D),wt=NA(y,{replace:d,state:g,target:p,preventScrollReset:T,relative:u,viewTransition:b});function N(R){e&&e(R),R.defaultPrevented||wt(R)}let S=K.createElement("a",{...D,...ot,href:j||rt,onClick:X||h?e:N,ref:CA(P,mt),target:p,"data-discover":!J&&i==="render"?"true":void 0});return et&&!J?K.createElement(K.Fragment,null,S,K.createElement(bA,{page:rt})):S});X_.displayName="Link";var VA=K.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:u=!1,style:h,to:d,viewTransition:g,children:p,...y},T){let b=au(d,{relative:y.relative}),D=fa(),P=K.useContext(fc),{navigator:k,basename:J}=K.useContext(ii),j=P!=null&&PA(b)&&g===!0,X=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,rt=D.pathname,et=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(rt=rt.toLowerCase(),et=et?et.toLowerCase():null,X=X.toLowerCase()),et&&J&&(et=Mi(et,J)||et);const mt=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ot=rt===X||!u&&rt.startsWith(X)&&rt.charAt(mt)==="/",wt=et!=null&&(et===X||!u&&et.startsWith(X)&&et.charAt(X.length)==="/"),N={isActive:ot,isPending:wt,isTransitioning:j},S=ot?e:void 0,R;typeof s=="function"?R=s(N):R=[s,ot?"active":null,wt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof h=="function"?h(N):h;return K.createElement(X_,{...y,"aria-current":S,className:R,ref:T,style:O,to:d,viewTransition:g},typeof p=="function"?p(N):p)});VA.displayName="NavLink";var IA=K.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:u,state:h,method:d=qo,action:g,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:b,...D},P)=>{let k=UA(),J=LA(g,{relative:y}),j=d.toLowerCase()==="get"?"get":"post",X=typeof g=="string"&&K_.test(g),rt=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let mt=et.nativeEvent.submitter,ot=(mt==null?void 0:mt.getAttribute("formmethod"))||d;k(mt||et.currentTarget,{fetcherKey:e,method:ot,navigate:i,replace:u,state:h,relative:y,preventScrollReset:T,viewTransition:b})};return K.createElement("form",{ref:P,method:j,action:J,onSubmit:s?p:rt,...D,"data-discover":!X&&a==="render"?"true":void 0})});IA.displayName="Form";function OA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $_(a){let e=K.useContext(As);return ie(e,OA(a)),e}function NA(a,{target:e,replace:i,state:s,preventScrollReset:u,relative:h,viewTransition:d}={}){let g=H_(),p=fa(),y=au(a,{relative:h});return K.useCallback(T=>{if(oA(T,e)){T.preventDefault();let b=i!==void 0?i:Yl(p)===Yl(y);g(a,{replace:b,state:s,preventScrollReset:u,relative:h,viewTransition:d})}},[p,g,y,i,s,e,a,u,h,d])}var MA=0,xA=()=>`__${String(++MA)}__`;function UA(){let{router:a}=$_("useSubmit"),{basename:e}=K.useContext(ii),i=WT();return K.useCallback(async(s,u={})=>{let{action:h,method:d,encType:g,formData:p,body:y}=fA(s,e);if(u.navigate===!1){let T=u.fetcherKey||xA();await a.fetch(T,i,u.action||h,{preventScrollReset:u.preventScrollReset,formData:p,body:y,formMethod:u.method||d,formEncType:u.encType||g,flushSync:u.flushSync})}else await a.navigate(u.action||h,{preventScrollReset:u.preventScrollReset,formData:p,body:y,formMethod:u.method||d,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,e,i])}function LA(a,{relative:e}={}){let{basename:i}=K.useContext(ii),s=K.useContext(ri);ie(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),h={...au(a||".",{relative:e})},d=fa();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),p=g.getAll("index");if(p.some(T=>T==="")){g.delete("index"),p.filter(b=>b).forEach(b=>g.append("index",b));let T=g.toString();h.search=T?`?${T}`:""}}return(!a||a===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Oi([i,h.pathname])),Yl(h)}function PA(a,e={}){let i=K.useContext(k_);ie(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$_("useViewTransitionState"),u=au(a,{relative:e.relative});if(!i.isTransitioning)return!1;let h=Mi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Mi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Ko(u.pathname,d)!=null||Ko(u.pathname,h)!=null}new TextEncoder;[...EA];var Nf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function zA(){if(vy)return Ge;vy=1;var a=md();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(p,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:p,containerInfo:y,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(p,y,null,T)},Ge.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:D,fetchPriority:P}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:D,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var Ey;function kA(){if(Ey)return Nf.exports;Ey=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nf.exports=zA(),Nf.exports}var Mf={exports:{}},kl={},xf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function BA(){return Ty||(Ty=1,function(a){function e(F,at){var ht=F.length;F.push(at);t:for(;0<ht;){var zt=ht-1>>>1,V=F[zt];if(0<u(V,at))F[zt]=at,F[ht]=V,ht=zt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var at=F[0],ht=F.pop();if(ht!==at){F[0]=ht;t:for(var zt=0,V=F.length,W=V>>>1;zt<W;){var st=2*(zt+1)-1,nt=F[st],ft=st+1,Ct=F[ft];if(0>u(nt,ht))ft<V&&0>u(Ct,nt)?(F[zt]=Ct,F[ft]=ht,zt=ft):(F[zt]=nt,F[st]=ht,zt=st);else if(ft<V&&0>u(Ct,ht))F[zt]=Ct,F[ft]=ht,zt=ft;else break t}}return at}function u(F,at){var ht=F.sortIndex-at.sortIndex;return ht!==0?ht:F.id-at.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,b=null,D=3,P=!1,k=!1,J=!1,j=!1,X=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function mt(F){for(var at=i(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=F)s(y),at.sortIndex=at.expirationTime,e(p,at);else break;at=i(y)}}function ot(F){if(J=!1,mt(F),!k)if(i(p)!==null)k=!0,wt||(wt=!0,U());else{var at=i(y);at!==null&&ae(ot,at.startTime-F)}}var wt=!1,N=-1,S=5,R=-1;function O(){return j?!0:!(a.unstable_now()-R<S)}function M(){if(j=!1,wt){var F=a.unstable_now();R=F;var at=!0;try{t:{k=!1,J&&(J=!1,rt(N),N=-1),P=!0;var ht=D;try{e:{for(mt(F),b=i(p);b!==null&&!(b.expirationTime>F&&O());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,D=b.priorityLevel;var V=zt(b.expirationTime<=F);if(F=a.unstable_now(),typeof V=="function"){b.callback=V,mt(F),at=!0;break e}b===i(p)&&s(p),mt(F)}else s(p);b=i(p)}if(b!==null)at=!0;else{var W=i(y);W!==null&&ae(ot,W.startTime-F),at=!1}}break t}finally{b=null,D=ht,P=!1}at=void 0}}finally{at?U():wt=!1}}}var U;if(typeof et=="function")U=function(){et(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Me=C.port2;C.port1.onmessage=M,U=function(){Me.postMessage(null)}}else U=function(){X(M,0)};function ae(F,at){N=X(function(){F(a.unstable_now())},at)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(F){switch(D){case 1:case 2:case 3:var at=3;break;default:at=D}var ht=D;D=at;try{return F()}finally{D=ht}},a.unstable_requestPaint=function(){j=!0},a.unstable_runWithPriority=function(F,at){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=D;D=F;try{return at()}finally{D=ht}},a.unstable_scheduleCallback=function(F,at,ht){var zt=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?zt+ht:zt):ht=zt,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ht+V,F={id:T++,callback:at,priorityLevel:F,startTime:ht,expirationTime:V,sortIndex:-1},ht>zt?(F.sortIndex=ht,e(y,F),i(p)===null&&F===i(y)&&(J?(rt(N),N=-1):J=!0,ae(ot,ht-zt))):(F.sortIndex=V,e(p,F),k||P||(k=!0,wt||(wt=!0,U()))),F},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(F){var at=D;return function(){var ht=D;D=at;try{return F.apply(this,arguments)}finally{D=ht}}}}(Uf)),Uf}var Ay;function qA(){return Ay||(Ay=1,xf.exports=BA()),xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function HA(){if(Sy)return kl;Sy=1;var a=qA(),e=md(),i=kA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===r){v=!0,r=c,l=f;break}if(E===l){v=!0,l=c,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=c;break}if(E===l){v=!0,l=f,r=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),et=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case j:return"Profiler";case J:return"StrictMode";case ot:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case et:return(t.displayName||"Context")+".Provider";case rt:return(t._context.displayName||"Context")+".Consumer";case mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var ae=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},zt=[],V=-1;function W(t){return{current:t}}function st(t){0>V||(t.current=zt[V],zt[V]=null,V--)}function nt(t,n){V++,zt[V]=t.current,t.current=n}var ft=W(null),Ct=W(null),Et=W(null),we=W(null);function $t(t,n){switch(nt(Et,n),nt(Ct,t),nt(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Pp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Pp(n),t=zp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}st(ft),nt(ft,t)}function Un(){st(ft),st(Ct),st(Et)}function Pi(t){t.memoizedState!==null&&nt(we,t);var n=ft.current,r=zp(n,t.type);n!==r&&(nt(Ct,t),nt(ft,r))}function ai(t){Ct.current===t&&(st(ft),st(Ct)),we.current===t&&(st(we),Ol._currentValue=ht)}var br=Object.prototype.hasOwnProperty,Rr=a.unstable_scheduleCallback,wr=a.unstable_cancelCallback,Ds=a.unstable_shouldYield,cu=a.unstable_requestPaint,fn=a.unstable_now,Cc=a.unstable_getCurrentPriorityLevel,Vs=a.unstable_ImmediatePriority,ya=a.unstable_UserBlockingPriority,Cr=a.unstable_NormalPriority,Dc=a.unstable_LowPriority,_a=a.unstable_IdlePriority,Is=a.log,hu=a.unstable_setDisableYieldValue,se=null,Ht=null;function nn(t){if(typeof Is=="function"&&hu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,t)}catch{}}var He=Math.clz32?Math.clz32:Dr,fu=Math.log,Vc=Math.LN2;function Dr(t){return t>>>=0,t===0?32:31-(fu(t)/Vc|0)|0}var Vr=256,Ir=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function va(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(v&=E,v!==0?c=Cn(v):r||(r=E&~t,r!==0&&(c=Cn(r))))):(E=l&~f,E!==0?c=Cn(E):v!==0?c=Cn(v):r||(r=l&~t,r!==0&&(c=Cn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var t=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),t}function Ms(){var t=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),t}function si(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function li(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xs(t,n,r,l,c,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(r=v&~r;0<r;){var Q=31-He(r),$=1<<Q;E[Q]=0,w[Q]=-1;var q=B[Q];if(q!==null)for(B[Q]=null,Q=0;Q<q.length;Q++){var H=q[Q];H!==null&&(H.lane&=-536870913)}r&=~$}l!==0&&Ln(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Ln(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Us(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-He(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ki(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:iy(t.type))}function du(t,n){var r=at.p;try{return at.p=t,n()}finally{at.p=r}}var Jt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Jt,de="__reactProps$"+Jt,dn="__reactContainer$"+Jt,Ls="__reactEvents$"+Jt,Ic="__reactListeners$"+Jt,Bi="__reactHandles$"+Jt,mu="__reactResources$"+Jt,Nr="__reactMarker$"+Jt;function qi(t){delete t[_e],delete t[de],delete t[Ls],delete t[Ic],delete t[Bi]}function ui(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[dn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Hp(t);t!==null;){if(r=t[_e])return r;t=Hp(t)}return n}t=r,r=t.parentNode}return null}function Pn(t){if(t=t[_e]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ke(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Nr]=!0}var Ps=new Set,Ta={};function Dn(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(Ta[t]=n,t=0;t<n.length;t++)Ps.add(n[t])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},Mr={};function yu(t){return br.call(Mr,t)?!0:br.call(pu,t)?!1:gu.test(t)?Mr[t]=!0:(pu[t]=!0,!1)}function Hi(t,n,r){if(yu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var xr,_u;function ci(t){if(xr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);xr=n&&n[1]||"",_u=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+t+_u}var Aa=!1;function Sa(t,n){if(!t||Aa)return"";Aa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var q=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){q=H}t.call($.prototype)}}else{try{throw Error()}catch(H){q=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var w=v.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var Q=`
`+w[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Aa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ci(r):""}function zs(t){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Sa(t.type,!1);case 11:return Sa(t.type.render,!1);case 1:return Sa(t.type,!0);case 31:return ci("Activity");default:return""}}function ba(t){try{var n="";do n+=zs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oc(t){var n=ks(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ra(t){t._valueTracker||(t._valueTracker=Oc(t))}function Bs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ks(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ur(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nc=/[\n"\\]/g;function me(t){return t.replace(Nc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?ji(t,v,Xe(n)):r!=null?ji(t,v,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Lr(t,n,r,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ji(t,n,r){n==="number"&&Ur(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function hi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Pr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||zr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&vu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&vu(t,f,n[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fi=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function js(t){var n=Pn(t);if(n&&(t=n.stateNode)){var r=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(s(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Bs(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&hi(t,!!r.multiple,n,!1)}}}var Bn=!1;function Eu(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(di!==null||mi!==null)&&(mo(),di&&(n=di,t=mi,mi=di=null,js(n),t)))for(n=0;n<t.length;n++)js(t[n])}}function kr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Vn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{pn=!1}var qn=null,Gi=null,gi=null;function Gs(){if(gi)return gi;var t,n=Gi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===c[f-l];l++);return gi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function Fs(){return!1}function Ce(t){function n(r,l,c,f,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:Fs,this.isPropagationStopped=Fs,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Ce(Bt),qr=T({},Bt,{view:0,detail:0}),Tu=Ce(qr),Da,Va,Gn,Hr=T({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(Da=t.screenX-Gn.screenX,Va=t.screenY-Gn.screenY):Va=Da=0,Gn=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),yn=Ce(Hr),Au=T({},Hr,{dataTransfer:0}),Uc=Ce(Au),jr=T({},qr,{relatedTarget:0}),Ia=Ce(jr),Qs=T({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=Ce(Qs),Su=T({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=Ce(Su),Lc=T({},Bt,{data:0}),Ys=Ce(Lc),Gr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function Fr(){return Ks}var wu=T({},qr,{key:function(t){if(t.key){var n=Gr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ma=Ce(wu),Cu=T({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=Ce(Cu),pi=T({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),Du=Ce(pi),Vu=T({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iu=Ce(Vu),Ou=T({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Ce(Ou),$e=T({},Bt,{newState:0,oldState:0}),Nu=Ce($e),Mu=[9,13,27,32],Fn=Vn&&"CompositionEvent"in window,o=null;Vn&&"documentMode"in document&&(o=document.documentMode);var m=Vn&&"TextEvent"in window&&!o,_=Vn&&(!Fn||o&&8<o&&11>=o),A=" ",L=!1;function G(t,n){switch(t){case"keyup":return Mu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function ve(t,n){switch(t){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(L=!0,A);case"textInput":return t=n.data,t===A&&L?null:t;default:return null}}function Mt(t,n){if(Nt)return t==="compositionend"||!Fn&&G(t,n)?(t=Gs(),gi=Gi=qn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function yi(t,n,r,l){di?mi?mi.push(l):mi=[l]:di=l,n=Eo(n,"onChange"),0<n.length&&(r=new Ca("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Qn=null;function $s(t){Np(t,0)}function xu(t){var n=zn(t);if(Bs(n))return t}function Wd(t,n){if(t==="change")return n}var tm=!1;if(Vn){var Pc;if(Vn){var zc="oninput"in document;if(!zc){var em=document.createElement("div");em.setAttribute("oninput","return;"),zc=typeof em.oninput=="function"}Pc=zc}else Pc=!1;tm=Pc&&(!document.documentMode||9<document.documentMode)}function nm(){Ue&&(Ue.detachEvent("onpropertychange",im),Qn=Ue=null)}function im(t){if(t.propertyName==="value"&&xu(Qn)){var n=[];yi(n,Qn,t,gn(t)),Eu($s,n)}}function q0(t,n,r){t==="focusin"?(nm(),Ue=n,Qn=r,Ue.attachEvent("onpropertychange",im)):t==="focusout"&&nm()}function H0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Qn)}function j0(t,n){if(t==="click")return xu(n)}function G0(t,n){if(t==="input"||t==="change")return xu(n)}function F0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:F0;function Zs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!br.call(n,c)||!an(t[c],n[c]))return!1}return!0}function rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function am(t,n){var r=rm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=rm(r)}}function sm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?sm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function lm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ur(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ur(t.document)}return n}function kc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Q0=Vn&&"documentMode"in document&&11>=document.documentMode,Ua=null,Bc=null,Js=null,qc=!1;function um(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qc||Ua==null||Ua!==Ur(l)||(l=Ua,"selectionStart"in l&&kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&Zs(Js,l)||(Js=l,l=Eo(Bc,"onSelect"),0<l.length&&(n=new Ca("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ua)))}function Qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var La={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Hc={},om={};Vn&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Yr(t){if(Hc[t])return Hc[t];if(!La[t])return t;var n=La[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in om)return Hc[t]=n[r];return t}var cm=Yr("animationend"),hm=Yr("animationiteration"),fm=Yr("animationstart"),Y0=Yr("transitionrun"),K0=Yr("transitionstart"),X0=Yr("transitioncancel"),dm=Yr("transitionend"),mm=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function In(t,n){mm.set(t,n),Dn(n,[t])}var gm=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=gm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ba(n)},gm.set(t,n),n)}return{value:t,source:n,stack:ba(n)}}var vn=[],Pa=0,Gc=0;function Uu(){for(var t=Pa,n=Gc=Pa=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&pm(r,c,f)}}function Lu(t,n,r,l){vn[Pa++]=t,vn[Pa++]=n,vn[Pa++]=r,vn[Pa++]=l,Gc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fc(t,n,r,l){return Lu(t,n,r,l),Pu(t)}function za(t,n){return Lu(t,null,null,n),Pu(t)}function pm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-He(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Pu(t){if(50<Sl)throw Sl=0,Zh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function $0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new $0(t,n,r,l)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _i(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function ym(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,r,l,c,f){var v=0;if(l=t,typeof t=="function")Qc(t)&&(v=1);else if(typeof t=="string")v=JE(t,r,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=sn(31,r,n,c),t.elementType=R,t.lanes=f,t;case k:return Kr(r.children,c,f,n);case J:v=8,c|=24;break;case j:return t=sn(12,r,n,c|2),t.elementType=j,t.lanes=f,t;case ot:return t=sn(13,r,n,c),t.elementType=ot,t.lanes=f,t;case wt:return t=sn(19,r,n,c),t.elementType=wt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case et:v=10;break t;case rt:v=9;break t;case mt:v=11;break t;case N:v=14;break t;case S:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=sn(v,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function Yc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Kc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ba=[],qa=0,ku=null,Bu=0,En=[],Tn=0,Xr=null,vi=1,Ei="";function $r(t,n){Ba[qa++]=Bu,Ba[qa++]=ku,ku=t,Bu=n}function _m(t,n,r){En[Tn++]=vi,En[Tn++]=Ei,En[Tn++]=Xr,Xr=t;var l=vi;t=Ei;var c=32-He(l)-1;l&=~(1<<c),r+=1;var f=32-He(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,vi=1<<32-He(n)+c|r<<c|l,Ei=f+t}else vi=1<<f|r<<c|l,Ei=t}function Xc(t){t.return!==null&&($r(t,1),_m(t,1,0))}function $c(t){for(;t===ku;)ku=Ba[--qa],Ba[qa]=null,Bu=Ba[--qa],Ba[qa]=null;for(;t===Xr;)Xr=En[--Tn],En[Tn]=null,Ei=En[--Tn],En[Tn]=null,vi=En[--Tn],En[Tn]=null}var Ze=null,le=null,kt=!1,Zr=null,Yn=!1,Zc=Error(s(519));function Jr(t){var n=Error(s(418,""));throw el(_n(n,t)),Zc}function vm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[de]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)It(Rl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Lr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Pr(n,l.value,l.defaultValue,l.children),Ra(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Lp(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=To),n=!0):n=!1,n||Jr(t)}function Em(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ze=Ze.return}}function Ws(t){if(t!==Ze)return!1;if(!kt)return Em(t),kt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||mf(t.type,t.memoizedProps)),r=!r),r&&le&&Jr(t),Em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=Nn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,sr(t.type)?(t=_f,_f=null,le=t):le=n):le=Ze?Nn(t.stateNode.nextSibling):null;return!0}function tl(){le=Ze=null,kt=!1}function Tm(){var t=Zr;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),Zr=null),t}function el(t){Zr===null?Zr=[t]:Zr.push(t)}var Jc=W(null),Wr=null,Ti=null;function Fi(t,n,r){nt(Jc,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=Jc.current,st(Jc)}function Wc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function th(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Wc(f.return,r,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),Wc(v,r,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function nl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;an(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&th(n,t,r,l),n.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){Wr=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return Am(Wr,t)}function Hu(t,n){return Wr===null&&ta(t),Am(t,n)}function Am(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(s(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var Z0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},J0=a.unstable_scheduleCallback,W0=a.unstable_NormalPriority,Te={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new Z0,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&J0(W0,function(){t.controller.abort()})}var rl=null,nh=0,Ha=0,ja=null;function tE(t,n){if(rl===null){var r=rl=[];nh=0,Ha=af(),ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return nh++,n.then(Sm,Sm),n}function Sm(){if(--nh===0&&rl!==null){ja!==null&&(ja.status="fulfilled");var t=rl;rl=null,Ha=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function eE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var bm=F.S;F.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&tE(t,n),bm!==null&&bm(t,n)};var ea=W(null);function ih(){var t=ea.current;return t!==null?t:Zt.pooledCache}function ju(t,n){n===null?nt(ea,ea.current):nt(ea,n.pool)}function Rm(){var t=ih();return t===null?null:{parent:Te._currentValue,pool:t}}var al=Error(s(460)),wm=Error(s(474)),Gu=Error(s(542)),rh={then:function(){}};function Cm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fu(){}function Dm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Fu,Fu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Im(t),t;default:if(typeof n.status=="string")n.then(Fu,Fu);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Im(t),t}throw sl=n,al}}var sl=null;function Vm(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}function Im(t){if(t===al||t===Gu)throw Error(s(483))}var Qi=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Pu(t),pm(t,null,r),n}return Lu(t,l,n,r),Pu(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Us(t,r)}}function lh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var uh=!1;function ul(){if(uh){var t=ja;if(t!==null)throw t}}function ol(t,n,r,l){uh=!1;var c=t.updateQueue;Qi=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,v===null?f=B:v.next=B,v=w;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=w))}if(f!==null){var $=c.baseState;v=0,Q=B=w=null,E=f;do{var q=E.lane&-536870913,H=q!==E.lane;if(H?(xt&q)===q:(l&q)===q){q!==0&&q===Ha&&(uh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,pt=E;q=n;var Kt=r;switch(pt.tag){case 1:if(_t=pt.payload,typeof _t=="function"){$=_t.call(Kt,$,q);break t}$=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=pt.payload,q=typeof _t=="function"?_t.call(Kt,$,q):_t,q==null)break t;$=T({},$,q);break t;case 2:Qi=!0}}q=E.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[q]:H.push(q))}else H={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=H,w=$):Q=Q.next=H,v|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);Q===null&&(w=$),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),nr|=v,t.lanes=v,t.memoizedState=$}}function Om(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Nm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Om(r[t],n)}var Ga=W(null),Qu=W(0);function Mm(t,n){t=Vi,nt(Qu,t),nt(Ga,n),Vi=t|n.baseLanes}function oh(){nt(Qu,Vi),nt(Ga,Ga.current)}function ch(){Vi=Qu.current,st(Ga),st(Qu)}var Xi=0,bt=null,Qt=null,ge=null,Yu=!1,Fa=!1,na=!1,Ku=0,cl=0,Qa=null,nE=0;function ce(){throw Error(s(321))}function hh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function fh(t,n,r,l,c,f){return Xi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?pg:yg,na=!1,f=r(l,c),na=!1,Fa&&(f=Um(n,r,l,c)),xm(t),f}function xm(t){F.H=to;var n=Qt!==null&&Qt.next!==null;if(Xi=0,ge=Qt=bt=null,Yu=!1,cl=0,Qa=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&qu(t)&&(Ve=!0))}function Um(t,n,r,l){bt=t;var c=0;do{if(Fa&&(Qa=null),cl=0,Fa=!1,25<=c)throw Error(s(301));if(c+=1,ge=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=oE,f=n(r,l)}while(Fa);return f}function iE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(bt.flags|=1024),n}function dh(){var t=Ku!==0;return Ku=0,t}function mh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function gh(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}Xi=0,ge=Qt=bt=null,Fa=!1,cl=Ku=0,Qa=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Qt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ge===null?bt.memoizedState:ge.next;if(n!==null)ge=n,Qt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?bt.memoizedState=ge=t:ge=ge.next=t}return ge}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Qa===null&&(Qa=[]),t=Dm(Qa,t,n),n=bt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?pg:yg),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===et)return je(t)}throw Error(s(438,String(t)))}function yh(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ph(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function $u(t){var n=pe();return _h(n,Qt,t)}function _h(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,w=null,B=n,Q=!1;do{var $=B.lane&-536870913;if($!==B.lane?(xt&$)===$:(Xi&$)===$){var q=B.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Ha&&(Q=!0);else if((Xi&q)===q){B=B.next,q===Ha&&(Q=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=$,v=f):w=w.next=$,bt.lanes|=q,nr|=q;$=B.action,na&&r(f,$),f=B.hasEagerState?B.eagerState:r(f,$)}else q={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=q,v=f):w=w.next=q,bt.lanes|=$,nr|=$;B=B.next}while(B!==null&&B!==n);if(w===null?v=f:w.next=E,!an(f,t.memoizedState)&&(Ve=!0,Q&&(r=ja,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vh(t){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);an(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Lm(t,n,r){var l=bt,c=pe(),f=kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!an((Qt||c).memoizedState,r);v&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=km.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Ya(9,Zu(),zm.bind(null,l,c,r,n),null),Zt===null)throw Error(s(349));f||(Xi&124)!==0||Pm(l,n,r)}return r}function Pm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=ph(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function zm(t,n,r,l){n.value=r,n.getSnapshot=l,Bm(n)&&qm(t)}function km(t,n,r){return r(function(){Bm(n)&&qm(t)})}function Bm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function qm(t){var n=za(t,2);n!==null&&hn(n,t,2)}function Eh(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),na){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function Hm(t,n,r,l){return t.baseState=r,_h(t,Qt,typeof l=="function"?l:Si)}function rE(t,n,r,l,c){if(Wu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,jm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function jm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=F.T,v={};F.T=v;try{var E=r(c,l),w=F.S;w!==null&&w(v,E),Gm(t,n,E)}catch(B){Th(t,n,B)}finally{F.T=f}}else try{f=r(c,l),Gm(t,n,f)}catch(B){Th(t,n,B)}}function Gm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Fm(t,n,l)},function(l){return Th(t,n,l)}):Fm(t,n,r)}function Fm(t,n,r){n.status="fulfilled",n.value=r,Qm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,jm(t,r)))}function Th(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Qm(n),n=n.next;while(n!==l)}t.action=null}function Qm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ym(t,n){return n}function Km(t,n){if(kt){var r=Zt.formState;if(r!==null){t:{var l=bt;if(kt){if(le){e:{for(var c=le,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=Nn(c.nextSibling),l=c.data==="F!";break t}}Jr(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:n},r.queue=l,r=dg.bind(null,bt,l),l.dispatch=r,l=Eh(!1),f=wh.bind(null,bt,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=rE.bind(null,bt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Xm(t){var n=pe();return $m(n,Qt,t)}function $m(t,n,r){if(n=_h(t,n,Ym)[0],t=$u(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(v){throw v===al?Gu:v}else l=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,Ya(9,Zu(),aE.bind(null,c,r),null)),[l,f,t]}function aE(t,n){t.action=n}function Zm(t){var n=pe(),r=Qt;if(r!==null)return $m(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=ph(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Zu(){return{destroy:void 0,resource:void 0}}function Jm(){return pe().memoizedState}function Ju(t,n,r,l){var c=Je();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=Ya(1|n,Zu(),r,l)}function fl(t,n,r,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&hh(l,Qt.memoizedState.deps)?c.memoizedState=Ya(n,f,r,l):(bt.flags|=t,c.memoizedState=Ya(1|n,f,r,l))}function Wm(t,n){Ju(8390656,8,t,n)}function tg(t,n){fl(2048,8,t,n)}function eg(t,n){return fl(4,2,t,n)}function ng(t,n){return fl(4,4,t,n)}function ig(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function rg(t,n,r){r=r!=null?r.concat([t]):null,fl(4,4,ig.bind(null,n,t),r)}function Ah(){}function ag(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&hh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function sg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&hh(n,l[1]))return l[0];if(l=t(),na){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function Sh(t,n,r){return r===void 0||(Xi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=op(),bt.lanes|=t,nr|=t,r)}function lg(t,n,r,l){return an(r,n)?r:Ga.current!==null?(t=Sh(t,r,l),an(t,n)||(Ve=!0),t):(Xi&42)===0?(Ve=!0,t.memoizedState=r):(t=op(),bt.lanes|=t,nr|=t,n)}function ug(t,n,r,l,c){var f=at.p;at.p=f!==0&&8>f?f:8;var v=F.T,E={};F.T=E,wh(t,!1,n,r);try{var w=c(),B=F.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=eE(w,l);dl(t,n,Q,cn(t))}else dl(t,n,l,cn(t))}catch($){dl(t,n,{then:function(){},status:"rejected",reason:$},cn())}finally{at.p=f,F.T=v}}function sE(){}function bh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=og(t).queue;ug(t,c,n,ht,r===null?sE:function(){return cg(t),r(l)})}function og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cg(t){var n=og(t).next.queue;dl(t,n,{},cn())}function Rh(){return je(Ol)}function hg(){return pe().memoizedState}function fg(){return pe().memoizedState}function lE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Yi(r);var l=Ki(n,t,r);l!==null&&(hn(l,n,r),ll(l,n,r)),n={cache:eh()},t.payload=n;return}n=n.return}}function uE(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Wu(t)?mg(n,r):(r=Fc(t,n,r,l),r!==null&&(hn(r,t,l),gg(r,n,l)))}function dg(t,n,r){var l=cn();dl(t,n,r,l)}function dl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))mg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,v))return Lu(t,n,c,0),Zt===null&&Uu(),!1}catch{}finally{}if(r=Fc(t,n,c,l),r!==null)return hn(r,t,l),gg(r,n,l),!0}return!1}function wh(t,n,r,l){if(l={lane:2,revertLane:af(),action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(s(479))}else n=Fc(t,r,l,2),n!==null&&hn(n,t,2)}function Wu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function mg(t,n){Fa=Yu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function gg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Us(t,r)}}var to={readContext:je,use:Xu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},pg={readContext:je,use:Xu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Wm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ju(4194308,4,ig.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(na){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var c=r(n);if(na){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=uE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,r=dg.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ah,useDeferredValue:function(t,n){var r=Je();return Sh(r,t,n)},useTransition:function(){var t=Eh(!1);return t=ug.bind(null,bt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=Je();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Zt===null)throw Error(s(349));(xt&124)!==0||Pm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Wm(km.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,Zu(),zm.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Zt.identifierPrefix;if(kt){var r=Ei,l=vi;r=(l&~(1<<32-He(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Ku++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=nE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Rh,useFormState:Km,useActionState:Km,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=wh.bind(null,bt,!0,r),r.dispatch=n,[t,n]},useMemoCache:yh,useCacheRefresh:function(){return Je().memoizedState=lE.bind(null,bt)}},yg={readContext:je,use:Xu,useCallback:ag,useContext:je,useEffect:tg,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:$u,useRef:Jm,useState:function(){return $u(Si)},useDebugValue:Ah,useDeferredValue:function(t,n){var r=pe();return lg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=$u(Si)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Lm,useId:hg,useHostTransitionStatus:Rh,useFormState:Xm,useActionState:Xm,useOptimistic:function(t,n){var r=pe();return Hm(r,Qt,t,n)},useMemoCache:yh,useCacheRefresh:fg},oE={readContext:je,use:Xu,useCallback:ag,useContext:je,useEffect:tg,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:vh,useRef:Jm,useState:function(){return vh(Si)},useDebugValue:Ah,useDeferredValue:function(t,n){var r=pe();return Qt===null?Sh(r,t,n):lg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=vh(Si)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:Lm,useId:hg,useHostTransitionStatus:Rh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t,n){var r=pe();return Qt!==null?Hm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:yh,useCacheRefresh:fg},Ka=null,ml=0;function eo(t){var n=ml;return ml+=1,Ka===null&&(Ka=[]),Dm(Ka,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function no(t,n){throw n.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _g(t){var n=t._init;return n(t._payload)}function vg(t){function n(x,I){if(t){var z=x.deletions;z===null?(x.deletions=[I],x.flags|=16):z.push(I)}}function r(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=_i(x,I),x.index=0,x.sibling=null,x}function f(x,I,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<I?(x.flags|=67108866,I):z):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,z,Y){return I===null||I.tag!==6?(I=Yc(z,x.mode,Y),I.return=x,I):(I=c(I,z),I.return=x,I)}function w(x,I,z,Y){var ut=z.type;return ut===k?Q(x,I,z.props.children,Y,z.key):I!==null&&(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&_g(ut)===I.type)?(I=c(I,z.props),gl(I,z),I.return=x,I):(I=zu(z.type,z.key,z.props,null,x.mode,Y),gl(I,z),I.return=x,I)}function B(x,I,z,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Kc(z,x.mode,Y),I.return=x,I):(I=c(I,z.children||[]),I.return=x,I)}function Q(x,I,z,Y,ut){return I===null||I.tag!==7?(I=Kr(z,x.mode,Y,ut),I.return=x,I):(I=c(I,z),I.return=x,I)}function $(x,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Yc(""+I,x.mode,z),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return z=zu(I.type,I.key,I.props,null,x.mode,z),gl(z,I),z.return=x,z;case P:return I=Kc(I,x.mode,z),I.return=x,I;case S:var Y=I._init;return I=Y(I._payload),$(x,I,z)}if(ae(I)||U(I))return I=Kr(I,x.mode,z,null),I.return=x,I;if(typeof I.then=="function")return $(x,eo(I),z);if(I.$$typeof===et)return $(x,Hu(x,I),z);no(x,I)}return null}function q(x,I,z,Y){var ut=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ut!==null?null:E(x,I,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===ut?w(x,I,z,Y):null;case P:return z.key===ut?B(x,I,z,Y):null;case S:return ut=z._init,z=ut(z._payload),q(x,I,z,Y)}if(ae(z)||U(z))return ut!==null?null:Q(x,I,z,Y,null);if(typeof z.then=="function")return q(x,I,eo(z),Y);if(z.$$typeof===et)return q(x,I,Hu(x,z),Y);no(x,z)}return null}function H(x,I,z,Y,ut){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(z)||null,E(I,x,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return x=x.get(Y.key===null?z:Y.key)||null,w(I,x,Y,ut);case P:return x=x.get(Y.key===null?z:Y.key)||null,B(I,x,Y,ut);case S:var Dt=Y._init;return Y=Dt(Y._payload),H(x,I,z,Y,ut)}if(ae(Y)||U(Y))return x=x.get(z)||null,Q(I,x,Y,ut,null);if(typeof Y.then=="function")return H(x,I,z,eo(Y),ut);if(Y.$$typeof===et)return H(x,I,z,Hu(I,Y),ut);no(I,Y)}return null}function _t(x,I,z,Y){for(var ut=null,Dt=null,ct=I,yt=I=0,Oe=null;ct!==null&&yt<z.length;yt++){ct.index>yt?(Oe=ct,ct=null):Oe=ct.sibling;var Pt=q(x,ct,z[yt],Y);if(Pt===null){ct===null&&(ct=Oe);break}t&&ct&&Pt.alternate===null&&n(x,ct),I=f(Pt,I,yt),Dt===null?ut=Pt:Dt.sibling=Pt,Dt=Pt,ct=Oe}if(yt===z.length)return r(x,ct),kt&&$r(x,yt),ut;if(ct===null){for(;yt<z.length;yt++)ct=$(x,z[yt],Y),ct!==null&&(I=f(ct,I,yt),Dt===null?ut=ct:Dt.sibling=ct,Dt=ct);return kt&&$r(x,yt),ut}for(ct=l(ct);yt<z.length;yt++)Oe=H(ct,x,yt,z[yt],Y),Oe!==null&&(t&&Oe.alternate!==null&&ct.delete(Oe.key===null?yt:Oe.key),I=f(Oe,I,yt),Dt===null?ut=Oe:Dt.sibling=Oe,Dt=Oe);return t&&ct.forEach(function(hr){return n(x,hr)}),kt&&$r(x,yt),ut}function pt(x,I,z,Y){if(z==null)throw Error(s(151));for(var ut=null,Dt=null,ct=I,yt=I=0,Oe=null,Pt=z.next();ct!==null&&!Pt.done;yt++,Pt=z.next()){ct.index>yt?(Oe=ct,ct=null):Oe=ct.sibling;var hr=q(x,ct,Pt.value,Y);if(hr===null){ct===null&&(ct=Oe);break}t&&ct&&hr.alternate===null&&n(x,ct),I=f(hr,I,yt),Dt===null?ut=hr:Dt.sibling=hr,Dt=hr,ct=Oe}if(Pt.done)return r(x,ct),kt&&$r(x,yt),ut;if(ct===null){for(;!Pt.done;yt++,Pt=z.next())Pt=$(x,Pt.value,Y),Pt!==null&&(I=f(Pt,I,yt),Dt===null?ut=Pt:Dt.sibling=Pt,Dt=Pt);return kt&&$r(x,yt),ut}for(ct=l(ct);!Pt.done;yt++,Pt=z.next())Pt=H(ct,x,yt,Pt.value,Y),Pt!==null&&(t&&Pt.alternate!==null&&ct.delete(Pt.key===null?yt:Pt.key),I=f(Pt,I,yt),Dt===null?ut=Pt:Dt.sibling=Pt,Dt=Pt);return t&&ct.forEach(function(cT){return n(x,cT)}),kt&&$r(x,yt),ut}function Kt(x,I,z,Y){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:t:{for(var ut=z.key;I!==null;){if(I.key===ut){if(ut=z.type,ut===k){if(I.tag===7){r(x,I.sibling),Y=c(I,z.props.children),Y.return=x,x=Y;break t}}else if(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&_g(ut)===I.type){r(x,I.sibling),Y=c(I,z.props),gl(Y,z),Y.return=x,x=Y;break t}r(x,I);break}else n(x,I);I=I.sibling}z.type===k?(Y=Kr(z.props.children,x.mode,Y,z.key),Y.return=x,x=Y):(Y=zu(z.type,z.key,z.props,null,x.mode,Y),gl(Y,z),Y.return=x,x=Y)}return v(x);case P:t:{for(ut=z.key;I!==null;){if(I.key===ut)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){r(x,I.sibling),Y=c(I,z.children||[]),Y.return=x,x=Y;break t}else{r(x,I);break}else n(x,I);I=I.sibling}Y=Kc(z,x.mode,Y),Y.return=x,x=Y}return v(x);case S:return ut=z._init,z=ut(z._payload),Kt(x,I,z,Y)}if(ae(z))return _t(x,I,z,Y);if(U(z)){if(ut=U(z),typeof ut!="function")throw Error(s(150));return z=ut.call(z),pt(x,I,z,Y)}if(typeof z.then=="function")return Kt(x,I,eo(z),Y);if(z.$$typeof===et)return Kt(x,I,Hu(x,z),Y);no(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(r(x,I.sibling),Y=c(I,z),Y.return=x,x=Y):(r(x,I),Y=Yc(z,x.mode,Y),Y.return=x,x=Y),v(x)):r(x,I)}return function(x,I,z,Y){try{ml=0;var ut=Kt(x,I,z,Y);return Ka=null,ut}catch(ct){if(ct===al||ct===Gu)throw ct;var Dt=sn(29,ct,null,x.mode);return Dt.lanes=Y,Dt.return=x,Dt}finally{}}}var Xa=vg(!0),Eg=vg(!1),An=W(null),Kn=null;function $i(t){var n=t.alternate;nt(Ae,Ae.current&1),nt(An,t),Kn===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(Kn=t)}function Tg(t){if(t.tag===22){if(nt(Ae,Ae.current),nt(An,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else Zi()}function Zi(){nt(Ae,Ae.current),nt(An,An.current)}function bi(t){st(An),Kn===t&&(Kn=null),st(Ae)}var Ae=W(0);function io(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||yf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ch(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Dh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Yi(l);c.payload=n,r!=null&&(c.callback=r),n=Ki(t,c,l),n!==null&&(hn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Yi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Ki(t,c,l),n!==null&&(hn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Yi(r);l.tag=2,n!=null&&(l.callback=n),n=Ki(t,l,r),n!==null&&(hn(n,t,r),ll(n,t,r))}};function Ag(t,n,r,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!Zs(r,l)||!Zs(c,f):!0}function Sg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var ro=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function bg(t){ro(t)}function Rg(t){console.error(t)}function wg(t){ro(t)}function ao(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Cg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,r){return r=Yi(r),r.tag=3,r.payload={element:null},r.callback=function(){ao(t,n)},r}function Dg(t){return t=Yi(t),t.tag=3,t}function Vg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Cg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Cg(n,r,l),typeof c!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function cE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&nl(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Kn===null?Wh():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===rh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ef(t,l,c)),!1;case 22:return r.flags|=65536,l===rh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ef(t,l,c)),!1}throw Error(s(435,r.tag))}return ef(t,l,c),Wh(),!1}if(kt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(s(422),{cause:l}),el(_n(t,r)))):(l!==Zc&&(n=Error(s(423),{cause:l}),el(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=Vh(t.stateNode,l,c),lh(t,c),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=_n(f,r),Al===null?Al=[f]:Al.push(f),ue!==4&&(ue=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Vh(r.stateNode,l,t),lh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ir===null||!ir.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Dg(c),Vg(c,t,r,l),lh(r,c),!1}r=r.return}while(r!==null);return!1}var Ig=Error(s(461)),Ve=!1;function Le(t,n,r,l){n.child=t===null?Eg(n,null,r,l):Xa(n,t.child,r,l)}function Og(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ta(n),l=fh(t,n,r,v,f,c),E=dh(),t!==null&&!Ve?(mh(t,n,c),Ri(t,n,c)):(kt&&E&&Xc(n),n.flags|=1,Le(t,n,l,c),n.child)}function Ng(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Mg(t,n,f,l,c)):(t=zu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ph(t,c)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zs,r(v,l)&&t.ref===n.ref)return Ri(t,n,c)}return n.flags|=1,t=_i(f,l),t.ref=n.ref,t.return=n,n.child=t}function Mg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Zs(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Ph(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ri(t,n,c)}return Ih(t,n,r,l,c)}function xg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Ug(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?Mm(n,f):oh(),Tg(n);else return n.lanes=n.childLanes=536870912,Ug(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(ju(n,f.cachePool),Mm(n,f),Zi(),n.memoizedState=null):(t!==null&&ju(n,null),oh(),Zi());return Le(t,n,c,r),n.child}function Ug(t,n,r,l){var c=ih();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&ju(n,null),oh(),Tg(n),t!==null&&nl(t,n,l,!0),null}function so(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ih(t,n,r,l,c){return ta(n),r=fh(t,n,r,l,void 0,c),l=dh(),t!==null&&!Ve?(mh(t,n,c),Ri(t,n,c)):(kt&&l&&Xc(n),n.flags|=1,Le(t,n,r,c),n.child)}function Lg(t,n,r,l,c,f){return ta(n),n.updateQueue=null,r=Um(n,l,r,c),xm(t),l=dh(),t!==null&&!Ve?(mh(t,n,f),Ri(t,n,f)):(kt&&l&&Xc(n),n.flags|=1,Le(t,n,r,f),n.child)}function Pg(t,n,r,l,c){if(ta(n),n.stateNode===null){var f=ka,v=r.contextType;typeof v=="object"&&v!==null&&(f=je(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?je(v):ka,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Ch(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Dh.enqueueReplaceState(f,f.state,null),ol(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=ia(r,E);f.props=w;var B=f.context,Q=r.contextType;v=ka,typeof Q=="object"&&Q!==null&&(v=je(Q));var $=r.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==v)&&Sg(n,f,l,v),Qi=!1;var q=n.memoizedState;f.state=q,ol(n,l,f,c),ul(),B=n.memoizedState,E||q!==B||Qi?(typeof $=="function"&&(Ch(n,r,$,l),B=n.memoizedState),(w=Qi||Ag(n,r,w,l,q,B,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sh(t,n),v=n.memoizedProps,Q=ia(r,v),f.props=Q,$=n.pendingProps,q=f.context,B=r.contextType,w=ka,typeof B=="object"&&B!==null&&(w=je(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==$||q!==w)&&Sg(n,f,l,w),Qi=!1,q=n.memoizedState,f.state=q,ol(n,l,f,c),ul();var H=n.memoizedState;v!==$||q!==H||Qi||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof E=="function"&&(Ch(n,r,E,l),H=n.memoizedState),(Q=Qi||Ag(n,r,Q,l,q,H,w)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=w,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,so(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Xa(n,t.child,null,c),n.child=Xa(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ri(t,n,c),t}function zg(t,n,r,l){return tl(),n.flags|=256,Le(t,n,r,l),n.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(t){return{baseLanes:t,cachePool:Rm()}}function Mh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function kg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?$i(n):Zi(),kt){var E=le,w;if(w=E){t:{for(w=E,E=Yn;w.nodeType!==8;){if(!E){E=null;break t}if(w=Nn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xr!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},w=sn(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,Ze=n,le=null,w=!0):w=!1}w||Jr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return yf(E)?n.lanes=32:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,c?(Zi(),c=n.mode,E=lo({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Nh(r),c.childLanes=Mh(t,v,r),n.memoizedState=Oh,l):($i(n),xh(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?($i(n),n.flags&=-257,n=Uh(t,n,r)):n.memoizedState!==null?(Zi(),n.child=t.child,n.flags|=128,n=null):(Zi(),c=l.fallback,E=n.mode,l=lo({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Xa(n,t.child,null,r),l=n.child,l.memoizedState=Nh(r),l.childLanes=Mh(t,v,r),n.memoizedState=Oh,n=c);else if($i(n),yf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,el({value:l,source:null,stack:null}),n=Uh(t,n,r)}else if(Ve||nl(t,n,r,!1),v=(r&t.childLanes)!==0,Ve||v){if(v=Zt,v!==null&&(l=r&-r,l=(l&42)!==0?1:zi(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,za(t,l),hn(v,t,l),Ig;E.data==="$?"||Wh(),n=Uh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,le=Nn(E.nextSibling),Ze=n,kt=!0,Zr=null,Yn=!1,t!==null&&(En[Tn++]=vi,En[Tn++]=Ei,En[Tn++]=Xr,vi=t.id,Ei=t.overflow,Xr=n),n=xh(n,l.children),n.flags|=4096);return n}return c?(Zi(),c=l.fallback,E=n.mode,w=t.child,B=w.sibling,l=_i(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?c=_i(B,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Nh(r):(w=E.cachePool,w!==null?(B=Te._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=Rm(),E={baseLanes:E.baseLanes|r,cachePool:w}),c.memoizedState=E,c.childLanes=Mh(t,v,r),n.memoizedState=Oh,l):($i(n),r=t.child,t=r.sibling,r=_i(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function xh(t,n){return n=lo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lo(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Uh(t,n,r){return Xa(n,t.child,null,r),t=xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Bg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wc(t.return,n,r)}function Lh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function qg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bg(t,r,n);else if(t.tag===19)Bg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(nt(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&io(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Lh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&io(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Lh(n,!0,r,null,f);break;case"together":Lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ri(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),nr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(nl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=_i(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=_i(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ph(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function hE(t,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Fi(n,Te,t.memoizedState.cache),tl();break;case 27:case 5:Pi(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Fi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):(r&n.child.childLanes)!==0?kg(t,n,r):($i(n),t=Ri(t,n,r),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(nl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return qg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,xg(t,n,r);case 24:Fi(n,Te,t.memoizedState.cache)}return Ri(t,n,r)}function Hg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Ph(t,r)&&(n.flags&128)===0)return Ve=!1,hE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,kt&&(n.flags&1048576)!==0&&_m(n,Bu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Qc(l)?(t=ia(l,t),n.tag=1,n=Pg(null,n,l,t,r)):(n.tag=0,n=Ih(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===mt){n.tag=11,n=Og(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=Ng(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(s(306,n,""))}}return n;case 0:return Ih(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ia(l,n.pendingProps),Pg(t,n,l,c,r);case 3:t:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,sh(t,n),ol(n,l,null,r);var v=n.memoizedState;if(l=v.cache,Fi(n,Te,l),l!==f.cache&&th(n,[Te],r,!0),ul(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zg(t,n,l,r);break t}else if(l!==c){c=_n(Error(s(424)),n),el(c),n=zg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Nn(t.firstChild),Ze=n,kt=!0,Zr=null,Yn=!0,r=Eg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(tl(),l===c){n=Ri(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return so(t,n),t===null?(r=Qp(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,t=n.pendingProps,l=Ao(Et.current).createElement(r),l[_e]=n,l[de]=t,ze(l,r,t),oe(l),n.stateNode=l):n.memoizedState=Qp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pi(n),t===null&&kt&&(l=n.stateNode=jp(n.type,n.pendingProps,Et.current),Ze=n,Yn=!0,c=le,sr(n.type)?(_f=c,le=Nn(l.firstChild)):le=c),Le(t,n,n.pendingProps.children,r),so(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((c=l=le)&&(l=kE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,le=Nn(l.firstChild),Yn=!1,c=!0):c=!1),c||Jr(n)),Pi(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,mf(c,f)?l=null:v!==null&&mf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=fh(t,n,iE,null,null,r),Ol._currentValue=c),so(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&kt&&((t=r=le)&&(r=BE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,le=null,t=!0):t=!1),t||Jr(n)),null;case 13:return kg(t,n,r);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xa(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Og(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ta(n),c=je(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Ng(t,n,n.type,n.pendingProps,r);case 15:return Mg(t,n,n.type,n.pendingProps,r);case 19:return qg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=lo(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=_i(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return xg(t,n,r);case 24:return ta(n),l=je(Te),t===null?(c=ih(),c===null&&(c=Zt,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ah(n),Fi(n,Te,c)):((t.lanes&r)!==0&&(sh(t,n),ol(n,null,null,r),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Fi(n,Te,l)):(l=f.cache,Fi(n,Te,l),l!==c.cache&&th(n,[Te],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function wi(t){t.flags|=4}function jg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zp(n)){if(n=An.current,n!==null&&((xt&4194048)===xt?Kn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Kn))throw sl=rh,wm;t.flags|=8192}}function uo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ms():536870912,t.lanes|=n,Wa|=n)}function pl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function fE(t,n,r){var l=n.pendingProps;switch($c(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Te),Un(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ws(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tm())),ne(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?(ne(n),jg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),ne(n),jg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),ne(n),n.flags&=-16777217),null;case 27:ai(n),r=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=ft.current,Ws(n)?vm(n):(t=jp(c,l,r),n.stateNode=t,wi(n))}return ne(n),null;case 5:if(ai(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=ft.current,Ws(n))vm(n);else{switch(c=Ao(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,Ws(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Lp(t.nodeValue,r)),t||Jr(n)}else t=Ao(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ws(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_e]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Tm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),uo(n,n.updateQueue),ne(n),null;case 4:return Un(),t===null&&of(n.stateNode.containerInfo),ne(n),null;case 10:return Ai(n.type),ne(n),null;case 19:if(st(Ae),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=io(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,uo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)ym(r,t),r=r.sibling;return nt(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>ho&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=io(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,uo(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!kt)return ne(n),null}else 2*fn()-c.renderingStartTime>ho&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ae.current,nt(Ae,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return bi(n),ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&uo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&st(ea),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function dE(t,n){switch($c(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Te),Un(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ai(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return st(Ae),null;case 4:return Un(),null;case 10:return Ai(n.type),null;case 22:case 23:return bi(n),ch(),t!==null&&st(ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Te),null;case 25:return null;default:return null}}function Gg(t,n){switch($c(n),n.tag){case 3:Ai(Te),Un();break;case 26:case 27:case 5:ai(n);break;case 4:Un();break;case 13:bi(n);break;case 19:st(Ae);break;case 10:Ai(n.type);break;case 22:case 23:bi(n),ch(),t!==null&&st(ea);break;case 24:Ai(Te)}}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Ji(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var w=r,B=E;try{B()}catch(Q){Xt(c,w,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xt(n,n.return,Q)}}function Fg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Nm(n,r)}catch(l){Xt(t,t.return,l)}}}function Qg(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function _l(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Xn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Yg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function zh(t,n,r){try{var l=t.stateNode;xE(l,t.type,r,n),l[de]=n}catch(c){Xt(t,t.return,c)}}function Kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sr(t.type)||t.tag===4}function kh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=To));else if(l!==4&&(l===27&&sr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Bh(t,n,r),t=t.sibling;t!==null;)Bh(t,n,r),t=t.sibling}function oo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&sr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(oo(t,n,r),t=t.sibling;t!==null;)oo(t,n,r),t=t.sibling}function Xg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[_e]=t,n[de]=r}catch(f){Xt(t,t.return,f)}}var Ci=!1,he=!1,qh=!1,$g=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function mE(t,n){if(t=t.containerInfo,ff=Do,t=lm(t),kc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,w=-1,B=0,Q=0,$=t,q=null;e:for(;;){for(var H;$!==r||c!==0&&$.nodeType!==3||(E=v+c),$!==f||l!==0&&$.nodeType!==3||(w=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(H=$.firstChild)!==null;)q=$,$=H;for(;;){if($===t)break e;if(q===r&&++B===c&&(E=v),q===f&&++Q===l&&(w=v),(H=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=H}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(df={focusedElem:t,selectionRange:r},Do=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=ia(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Xt(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)pf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Zg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(t,r),l&4&&yl(5,r);break;case 1:if(Wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){Xt(r,r.return,v)}else{var c=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(r,r.return,v)}}l&64&&Fg(r),l&512&&_l(r,r.return);break;case 3:if(Wi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Nm(t,n)}catch(v){Xt(r,r.return,v)}}break;case 27:n===null&&l&4&&Xg(r);case 26:case 5:Wi(t,r),n===null&&l&4&&Yg(r),l&512&&_l(r,r.return);break;case 12:Wi(t,r);break;case 13:Wi(t,r),l&4&&tp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=SE.bind(null,r),qE(t,r))));break;case 22:if(l=r.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||he,c=Ci;var f=he;Ci=l,(he=n)&&!f?tr(t,r,(r.subtreeFlags&8772)!==0):Wi(t,r),Ci=c,he=f}break;case 30:break;default:Wi(t,r)}}function Jg(t){var n=t.alternate;n!==null&&(t.alternate=null,Jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,We=!1;function Di(t,n,r){for(r=r.child;r!==null;)Wg(t,n,r),r=r.sibling}function Wg(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:he||Xn(r,n),Di(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||Xn(r,n);var l=Wt,c=We;sr(r.type)&&(Wt=r.stateNode,We=!1),Di(t,n,r),Cl(r.stateNode),Wt=l,We=c;break;case 5:he||Xn(r,n);case 6:if(l=Wt,c=We,Wt=null,Di(t,n,r),Wt=l,We=c,Wt!==null)if(We)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{Wt.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:Wt!==null&&(We?(t=Wt,qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ul(t)):qp(Wt,r.stateNode));break;case 4:l=Wt,c=We,Wt=r.stateNode.containerInfo,We=!0,Di(t,n,r),Wt=l,We=c;break;case 0:case 11:case 14:case 15:he||Ji(2,r,n),he||Ji(4,r,n),Di(t,n,r);break;case 1:he||(Xn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Qg(r,n,l)),Di(t,n,r);break;case 21:Di(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Di(t,n,r),he=l;break;default:Di(t,n,r)}}function tp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){Xt(n,n.return,r)}}function gE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new $g),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new $g),n;default:throw Error(s(435,t.tag))}}function Hh(t,n){var r=gE(t);n.forEach(function(l){var c=bE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(sr(E.type)){Wt=E.stateNode,We=!1;break t}break;case 5:Wt=E.stateNode,We=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(Wt===null)throw Error(s(160));Wg(f,v,c),Wt=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ep(n,t),n=n.sibling}var On=null;function ep(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(Ji(3,t,t.return),yl(3,t),Ji(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(he||r===null||Xn(r,r.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=On;if(ln(n,t),un(t),l&512&&(he||r===null||Xn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Nr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[_e]=t,oe(f),l=f;break t;case"link":var v=Xp("link","href",c).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(v=Xp("meta","content",c).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,oe(f),l=f}t.stateNode=l}else $p(c,t.type,t.stateNode);else t.stateNode=Kp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?$p(c,t.type,t.stateNode):Kp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(he||r===null||Xn(r,r.return)),r!==null&&l&4&&zh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(he||r===null||Xn(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(H){Xt(t,t.return,H)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,zh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(qh=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(H){Xt(t,t.return,H)}}break;case 3:if(Ro=null,c=On,On=So(n.containerInfo),ln(n,t),On=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(H){Xt(t,t.return,H)}qh&&(qh=!1,np(t));break;case 4:l=On,On=So(t.stateNode.containerInfo),ln(n,t),un(t),On=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Kh=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hh(t,l)));break;case 22:c=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,B=Ci,Q=he;if(Ci=B||c,he=Q||w,ln(n,t),he=Q,Ci=B,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||Ci||he||ra(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=w.stateNode;var $=w.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Xt(w,w.return,H)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(H){Xt(w,w.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Hh(t,r))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Kg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=kh(t);oo(t,f,c);break;case 5:var v=r.stateNode;r.flags&32&&(mn(v,""),r.flags&=-33);var E=kh(t);oo(t,E,v);break;case 3:case 4:var w=r.stateNode.containerInfo,B=kh(t);Bh(t,B,w);break;default:throw Error(s(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function np(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zg(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ji(4,n,n.return),ra(n);break;case 1:Xn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Qg(n,n.return,r),ra(n);break;case 27:Cl(n.stateNode);case 26:case 5:Xn(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function tr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:tr(c,f,r),yl(4,f);break;case 1:if(tr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Om(w[c],E)}catch(B){Xt(l,l.return,B)}}r&&v&64&&Fg(f),_l(f,f.return);break;case 27:Xg(f);case 26:case 5:tr(c,f,r),r&&l===null&&v&4&&Yg(f),_l(f,f.return);break;case 12:tr(c,f,r);break;case 13:tr(c,f,r),r&&v&4&&tp(c,f);break;case 22:f.memoizedState===null&&tr(c,f,r),_l(f,f.return);break;case 30:break;default:tr(c,f,r)}n=n.sibling}}function jh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function Gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function $n(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ip(t,n,r,l),n=n.sibling}function ip(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,r,l),c&2048&&yl(9,n);break;case 1:$n(t,n,r,l);break;case 3:$n(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){$n(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Xt(n,n.return,w)}}else $n(t,n,r,l);break;case 13:$n(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,r,l):vl(t,n):f._visibility&2?$n(t,n,r,l):(f._visibility|=2,$a(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&jh(v,n);break;case 24:$n(t,n,r,l),c&2048&&Gh(n.alternate,n);break;default:$n(t,n,r,l)}}function $a(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,w=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:$a(f,v,E,w,c),yl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?$a(f,v,E,w,c):vl(f,v):(Q._visibility|=2,$a(f,v,E,w,c)),c&&B&2048&&jh(v.alternate,v);break;case 24:$a(f,v,E,w,c),c&&B&2048&&Gh(v.alternate,v);break;default:$a(f,v,E,w,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:vl(r,l),c&2048&&jh(l.alternate,l);break;case 24:vl(r,l),c&2048&&Gh(l.alternate,l);break;default:vl(r,l)}n=n.sibling}}var El=8192;function Za(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)rp(t),t=t.sibling}function rp(t){switch(t.tag){case 26:Za(t),t.flags&El&&t.memoizedState!==null&&tT(On,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var n=On;On=So(t.stateNode.containerInfo),Za(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,Za(t),El=n):Za(t));break;default:Za(t)}}function ap(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,lp(l,t)}ap(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sp(t),t=t.sibling}function sp(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,co(t)):Tl(t);break;default:Tl(t)}}function co(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,lp(l,t)}ap(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ji(8,n,n.return),co(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,co(n));break;default:co(n)}t=t.sibling}}function lp(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Ji(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Jg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var pE={getCacheForType:function(t){var n=je(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},yE=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,Vt=null,xt=0,Gt=0,on=null,er=!1,Ja=!1,Fh=!1,Vi=0,ue=0,nr=0,aa=0,Qh=0,Sn=0,Wa=0,Al=null,tn=null,Yh=!1,Kh=0,ho=1/0,fo=null,ir=null,Pe=0,rr=null,ts=null,es=0,Xh=0,$h=null,up=null,Sl=0,Zh=null;function cn(){if((jt&2)!==0&&xt!==0)return xt&-xt;if(F.T!==null){var t=Ha;return t!==0?t:af()}return ki()}function op(){Sn===0&&(Sn=(xt&536870912)===0||kt?Ns():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function hn(t,n,r){(t===Zt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(ns(t,0),ar(t,xt,Sn,!1)),li(t,r),((jt&2)===0||t!==Zt)&&(t===Zt&&((jt&2)===0&&(aa|=r),ue===4&&ar(t,xt,Sn,!1)),Zn(t))}function cp(t,n,r){if((jt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),c=l?EE(t,n):tf(t,n,!0),f=l;do{if(c===0){Ja&&!l&&ar(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!_E(r)){c=tf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Al;var w=E.current.memoizedState.isDehydrated;if(w&&(ns(E,v).flags|=256),v=tf(E,v,!1),v!==2){if(Fh&&!w){E.errorRecoveryDisabledLanes|=f,aa|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){ns(t,0),ar(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ar(l,n,Sn,!er);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Kh+300-fn(),10<c)){if(ar(l,n,Sn,!er),va(l,0,!0)!==0)break t;l.timeoutHandle=kp(hp.bind(null,l,r,tn,fo,Yh,n,Sn,aa,Wa,er,f,2,-0,0),c);break t}hp(l,r,tn,fo,Yh,n,Sn,aa,Wa,er,f,0,-0,0)}}break}while(!0);Zn(t)}function hp(t,n,r,l,c,f,v,E,w,B,Q,$,q,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:WE},rp(n),$=eT(),$!==null)){t.cancelPendingCommit=$(_p.bind(null,t,n,f,r,l,c,v,E,w,Q,1,q,H)),ar(t,f,v,!B);return}_p(t,n,f,r,l,c,v,E,w)}function _E(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ar(t,n,r,l){n&=~Qh,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-He(c),v=1<<f;l[f]=-1,c&=~v}r!==0&&Ln(t,r,n)}function mo(){return(jt&6)===0?(bl(0),!1):!0}function Jh(){if(Vt!==null){if(Gt===0)var t=Vt.return;else t=Vt,Ti=Wr=null,gh(t),Ka=null,ml=0,t=Vt;for(;t!==null;)Gg(t.alternate,t),t=t.return;Vt=null}}function ns(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,LE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Jh(),Zt=t,Vt=r=_i(t.current,null),xt=n,Gt=0,on=null,er=!1,Ja=Or(t,n),Fh=!1,Wa=Sn=Qh=aa=nr=ue=0,tn=Al=null,Yh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-He(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Uu(),r}function fp(t,n){bt=null,F.H=to,n===al||n===Gu?(n=Vm(),Gt=3):n===wm?(n=Vm(),Gt=4):Gt=n===Ig?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Vt===null&&(ue=1,ao(t,_n(n,t.current)))}function dp(){var t=F.H;return F.H=to,t===null?to:t}function mp(){var t=F.A;return F.A=pE,t}function Wh(){ue=4,er||(xt&4194048)!==xt&&An.current!==null||(Ja=!0),(nr&134217727)===0&&(aa&134217727)===0||Zt===null||ar(Zt,xt,Sn,!1)}function tf(t,n,r){var l=jt;jt|=2;var c=dp(),f=mp();(Zt!==t||xt!==n)&&(fo=null,ns(t,n)),n=!1;var v=ue;t:do try{if(Gt!==0&&Vt!==null){var E=Vt,w=on;switch(Gt){case 8:Jh(),v=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var B=Gt;if(Gt=0,on=null,is(t,E,w,B),r&&Ja){v=0;break t}break;default:B=Gt,Gt=0,on=null,is(t,E,w,B)}}vE(),v=ue;break}catch(Q){fp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ti=Wr=null,jt=l,F.H=c,F.A=f,Vt===null&&(Zt=null,xt=0,Uu()),v}function vE(){for(;Vt!==null;)gp(Vt)}function EE(t,n){var r=jt;jt|=2;var l=dp(),c=mp();Zt!==t||xt!==n?(fo=null,ho=fn()+500,ns(t,n)):Ja=Or(t,n);t:do try{if(Gt!==0&&Vt!==null){n=Vt;var f=on;e:switch(Gt){case 1:Gt=0,on=null,is(t,n,f,1);break;case 2:case 9:if(Cm(f)){Gt=0,on=null,pp(n);break}n=function(){Gt!==2&&Gt!==9||Zt!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Cm(f)?(Gt=0,on=null,pp(n)):(Gt=0,on=null,is(t,n,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||Zp(v)){Gt=0,on=null;var w=E.sibling;if(w!==null)Vt=w;else{var B=E.return;B!==null?(Vt=B,go(B)):Vt=null}break e}}Gt=0,on=null,is(t,n,f,5);break;case 6:Gt=0,on=null,is(t,n,f,6);break;case 8:Jh(),ue=6;break t;default:throw Error(s(462))}}TE();break}catch(Q){fp(t,Q)}while(!0);return Ti=Wr=null,F.H=l,F.A=c,jt=r,Vt!==null?0:(Zt=null,xt=0,Uu(),ue)}function TE(){for(;Vt!==null&&!Ds();)gp(Vt)}function gp(t){var n=Hg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?go(t):Vt=n}function pp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Lg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Lg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:gh(n);default:Gg(r,n),n=Vt=ym(n,Vi),n=Hg(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?go(t):Vt=n}function is(t,n,r,l){Ti=Wr=null,gh(n),Ka=null,ml=0;var c=n.return;try{if(cE(t,c,n,r,xt)){ue=1,ao(t,_n(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;ue=1,ao(t,_n(r,t.current)),Vt=null;return}n.flags&32768?(kt||l===1?t=!0:Ja||(xt&536870912)!==0?t=!1:(er=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),yp(n,t)):go(n)}function go(t){var n=t;do{if((n.flags&32768)!==0){yp(n,er);return}t=n.return;var r=fE(n.alternate,n,Vi);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);ue===0&&(ue=5)}function yp(t,n){do{var r=dE(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);ue=6,Vt=null}function _p(t,n,r,l,c,f,v,E,w){t.cancelPendingCommit=null;do po();while(Pe!==0);if((jt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Gc,xs(t,r,f,v,E,w),t===Zt&&(Vt=Zt=null,xt=0),ts=n,rr=t,es=r,Xh=f,$h=c,up=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RE(Cr,function(){return Sp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=at.p,at.p=2,v=jt,jt|=4;try{mE(t,n,r)}finally{jt=v,at.p=c,F.T=l}}Pe=1,vp(),Ep(),Tp()}}function vp(){if(Pe===1){Pe=0;var t=rr,n=ts,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=at.p;at.p=2;var c=jt;jt|=4;try{ep(n,t);var f=df,v=lm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&sm(E.ownerDocument.documentElement,E)){if(w!==null&&kc(E)){var B=w.start,Q=w.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var H=q.getSelection(),_t=E.textContent.length,pt=Math.min(w.start,_t),Kt=w.end===void 0?pt:Math.min(w.end,_t);!H.extend&&pt>Kt&&(v=Kt,Kt=pt,pt=v);var x=am(E,pt),I=am(E,Kt);if(x&&I&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var z=$.createRange();z.setStart(x.node,x.offset),H.removeAllRanges(),pt>Kt?(H.addRange(z),H.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),H.addRange(z))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Do=!!ff,df=ff=null}finally{jt=c,at.p=l,F.T=r}}t.current=n,Pe=2}}function Ep(){if(Pe===2){Pe=0;var t=rr,n=ts,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=at.p;at.p=2;var c=jt;jt|=4;try{Zg(t,n.alternate,n)}finally{jt=c,at.p=l,F.T=r}}Pe=3}}function Tp(){if(Pe===4||Pe===3){Pe=0,cu();var t=rr,n=ts,r=es,l=up;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,ts=rr=null,Ap(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ir=null),Ea(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,c=at.p,at.p=2,F.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{F.T=n,at.p=c}}(es&3)!==0&&po(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Zh?Sl++:(Sl=0,Zh=t):Sl=0,bl(0)}}function Ap(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function po(t){return vp(),Ep(),Tp(),Sp()}function Sp(){if(Pe!==5)return!1;var t=rr,n=Xh;Xh=0;var r=Ea(es),l=F.T,c=at.p;try{at.p=32>r?32:r,F.T=null,r=$h,$h=null;var f=rr,v=es;if(Pe=0,ts=rr=null,es=0,(jt&6)!==0)throw Error(s(331));var E=jt;if(jt|=4,sp(f.current),ip(f,f.current,v,r),jt=E,bl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{at.p=c,F.T=l,Ap(t,n)}}function bp(t,n,r){n=_n(r,n),n=Vh(t.stateNode,n,2),t=Ki(t,n,2),t!==null&&(li(t,2),Zn(t))}function Xt(t,n,r){if(t.tag===3)bp(t,t,r);else for(;n!==null;){if(n.tag===3){bp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ir===null||!ir.has(l))){t=_n(r,t),r=Dg(2),l=Ki(n,r,2),l!==null&&(Vg(r,l,n,t),li(l,2),Zn(l));break}}n=n.return}}function ef(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new yE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Fh=!0,c.add(r),t=AE.bind(null,t,n,r),n.then(t,t))}function AE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(xt&r)===r&&(ue===4||ue===3&&(xt&62914560)===xt&&300>fn()-Kh?(jt&2)===0&&ns(t,0):Qh|=r,Wa===xt&&(Wa=0)),Zn(t)}function Rp(t,n){n===0&&(n=Ms()),t=za(t,n),t!==null&&(li(t,n),Zn(t))}function SE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Rp(t,r)}function bE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Rp(t,r)}function RE(t,n){return Rr(t,n)}var yo=null,rs=null,nf=!1,_o=!1,rf=!1,sa=0;function Zn(t){t!==rs&&t.next===null&&(rs===null?yo=rs=t:rs=rs.next=t),_o=!0,nf||(nf=!0,CE())}function bl(t,n){if(!rf&&_o){rf=!0;do for(var r=!1,l=yo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Vp(l,f))}else f=xt,f=va(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Or(l,f)||(r=!0,Vp(l,f));l=l.next}while(r);rf=!1}}function wE(){wp()}function wp(){_o=nf=!1;var t=0;sa!==0&&(UE()&&(t=sa),sa=0);for(var n=fn(),r=null,l=yo;l!==null;){var c=l.next,f=Cp(l,n);f===0?(l.next=null,r===null?yo=c:r.next=c,c===null&&(rs=r)):(r=l,(t!==0||(f&3)!==0)&&(_o=!0)),l=c}bl(t)}function Cp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-He(f),E=1<<v,w=c[v];w===-1?((E&r)===0||(E&l)!==0)&&(c[v]=Os(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,r=xt,r=va(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Or(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&wr(l),Ea(r)){case 2:case 8:r=ya;break;case 32:r=Cr;break;case 268435456:r=_a;break;default:r=Cr}return l=Dp.bind(null,t),r=Rr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&wr(l),t.callbackPriority=2,t.callbackNode=null,2}function Dp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(po()&&t.callbackNode!==r)return null;var l=xt;return l=va(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(cp(t,l,n),Cp(t,fn()),t.callbackNode!=null&&t.callbackNode===r?Dp.bind(null,t):null)}function Vp(t,n){if(po())return null;cp(t,n,!0)}function CE(){PE(function(){(jt&6)!==0?Rr(Vs,wE):wp()})}function af(){return sa===0&&(sa=Ns()),sa}function Ip(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function Op(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function DE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Ip((c[de]||null).action),v=l.submitter;v&&(n=(n=v[de]||null)?Ip(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ca("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var w=v?Op(c,v):new FormData(c);bh(r,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=v?Op(c,v):new FormData(c),bh(r,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var sf=0;sf<jc.length;sf++){var lf=jc[sf],VE=lf.toLowerCase(),IE=lf[0].toUpperCase()+lf.slice(1);In(VE,"on"+IE)}In(cm,"onAnimationEnd"),In(hm,"onAnimationIteration"),In(fm,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Y0,"onTransitionRun"),In(K0,"onTransitionStart"),In(X0,"onTransitionCancel"),In(dm,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Np(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){ro(Q)}c.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){ro(Q)}c.currentTarget=null,f=w}}}}function It(t,n){var r=n[Ls];r===void 0&&(r=n[Ls]=new Set);var l=t+"__bubble";r.has(l)||(Mp(n,t,2,!1),r.add(l))}function uf(t,n,r){var l=0;n&&(l|=4),Mp(r,t,l,n)}var vo="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[vo]){t[vo]=!0,Ps.forEach(function(r){r!=="selectionchange"&&(OE.has(r)||uf(r,!1,t),uf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vo]||(n[vo]=!0,uf("selectionchange",!1,n))}}function Mp(t,n,r,l){switch(iy(n)){case 2:var c=rT;break;case 8:c=aT;break;default:c=Sf}r=c.bind(null,n,r,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function cf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=ui(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Eu(function(){var B=f,Q=gn(r),$=[];t:{var q=mm.get(t);if(q!==void 0){var H=Ca,_t=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":H=Ma;break;case"focusin":_t="focus",H=Ia;break;case"focusout":_t="blur",H=Ia;break;case"beforeblur":case"afterblur":H=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Du;break;case cm:case hm:case fm:H=Oa;break;case dm:H=Iu;break;case"scroll":case"scrollend":H=Tu;break;case"wheel":H=xa;break;case"copy":case"cut":case"paste":H=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Xs;break;case"toggle":case"beforetoggle":H=Nu}var pt=(n&4)!==0,Kt=!pt&&(t==="scroll"||t==="scrollend"),x=pt?q!==null?q+"Capture":null:q;pt=[];for(var I=B,z;I!==null;){var Y=I;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||x===null||(Y=kr(I,x),Y!=null&&pt.push(wl(I,Y,z))),Kt)break;I=I.return}0<pt.length&&(q=new H(q,_t,null,r,Q),$.push({event:q,listeners:pt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&r!==fi&&(_t=r.relatedTarget||r.fromElement)&&(ui(_t)||_t[dn]))break t;if((H||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,H?(_t=r.relatedTarget||r.toElement,H=B,_t=_t?ui(_t):null,_t!==null&&(Kt=h(_t),pt=_t.tag,_t!==Kt||pt!==5&&pt!==27&&pt!==6)&&(_t=null)):(H=null,_t=B),H!==_t)){if(pt=yn,Y="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Xs,Y="onPointerLeave",x="onPointerEnter",I="pointer"),Kt=H==null?q:zn(H),z=_t==null?q:zn(_t),q=new pt(Y,I+"leave",H,r,Q),q.target=Kt,q.relatedTarget=z,Y=null,ui(Q)===B&&(pt=new pt(x,I+"enter",_t,r,Q),pt.target=z,pt.relatedTarget=Kt,Y=pt),Kt=Y,H&&_t)e:{for(pt=H,x=_t,I=0,z=pt;z;z=as(z))I++;for(z=0,Y=x;Y;Y=as(Y))z++;for(;0<I-z;)pt=as(pt),I--;for(;0<z-I;)x=as(x),z--;for(;I--;){if(pt===x||x!==null&&pt===x.alternate)break e;pt=as(pt),x=as(x)}pt=null}else pt=null;H!==null&&xp($,q,H,pt,!1),_t!==null&&Kt!==null&&xp($,Kt,_t,pt,!0)}}t:{if(q=B?zn(B):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ut=Wd;else if(Ee(q))if(tm)ut=G0;else{ut=H0;var Dt=q0}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Hs(B.elementType)&&(ut=Wd):ut=j0;if(ut&&(ut=ut(t,B))){yi($,ut,r,Q);break t}Dt&&Dt(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&ji(q,"number",q.value)}switch(Dt=B?zn(B):window,t){case"focusin":(Ee(Dt)||Dt.contentEditable==="true")&&(Ua=Dt,Bc=B,Js=null);break;case"focusout":Js=Bc=Ua=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,um($,r,Q);break;case"selectionchange":if(Q0)break;case"keydown":case"keyup":um($,r,Q)}var ct;if(Fn)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Nt?G(t,r)&&(yt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(_&&r.locale!=="ko"&&(Nt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Nt&&(ct=Gs()):(qn=Q,Gi="value"in qn?qn.value:qn.textContent,Nt=!0)),Dt=Eo(B,yt),0<Dt.length&&(yt=new Ys(yt,t,null,r,Q),$.push({event:yt,listeners:Dt}),ct?yt.data=ct:(ct=it(r),ct!==null&&(yt.data=ct)))),(ct=m?ve(t,r):Mt(t,r))&&(yt=Eo(B,"onBeforeInput"),0<yt.length&&(Dt=new Ys("onBeforeInput","beforeinput",null,r,Q),$.push({event:Dt,listeners:yt}),Dt.data=ct)),DE($,t,B,r,Q)}Np($,n)})}function wl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Eo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=kr(t,r),c!=null&&l.unshift(wl(t,c,f)),c=kr(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xp(t,n,r,l,c){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=kr(r,f),B!=null&&v.unshift(wl(r,B,w))):c||(B=kr(r,f),B!=null&&v.push(wl(r,B,w)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var NE=/\r\n?/g,ME=/\u0000|\uFFFD/g;function Up(t){return(typeof t=="string"?t:""+t).replace(NE,`
`).replace(ME,"")}function Lp(t,n){return n=Up(n),Up(t)===n}function To(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=wa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=wa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=To);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Hi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Mc.get(r)||r,Hi(t,r,l))}}function hf(t,n,r,l,c,f){switch(r){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=To);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Hi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,v,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=v=c=null,w=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":v=Q;break;case"checked":w=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Yt(t,n,l,Q,r,null)}}Lr(t,f,E,w,B,v,c,!1),Ra(t);return;case"select":It("invalid",t),l=v=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?hi(t,!!l,n,!1):r!=null&&hi(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,v,E,r,null)}Pr(t,l,c,f),Ra(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,w,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)It(Rl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,B,l,r,null)}return;default:if(Hs(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&hf(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function xE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,w=null,B=null,Q=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=$;default:l.hasOwnProperty(H)||Yt(t,n,H,null,l,$)}}for(var q in l){var H=l[q];if($=r[q],l.hasOwnProperty(q)&&(H!=null||$!=null))switch(q){case"type":f=H;break;case"name":c=H;break;case"checked":B=H;break;case"defaultChecked":Q=H;break;case"value":v=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==$&&Yt(t,n,q,H,l,$)}}rn(t,v,E,w,B,Q,f,c);return;case"select":H=v=E=q=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=r[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==w&&Yt(t,n,c,f,l,w)}n=E,r=v,l=H,q!=null?hi(t,!!r,q,!1):!!l!=!!r&&(n!=null?hi(t,!!r,n,!0):hi(t,!!r,r?[]:"",!1));return;case"textarea":H=q=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=r[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":q=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,v,c,l,f)}Ft(t,q,H);return;case"option":for(var _t in r)if(q=r[_t],r.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Yt(t,n,_t,null,l,q)}for(w in l)if(q=l[w],H=r[w],l.hasOwnProperty(w)&&q!==H&&(q!=null||H!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Yt(t,n,w,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)q=r[pt],r.hasOwnProperty(pt)&&q!=null&&!l.hasOwnProperty(pt)&&Yt(t,n,pt,null,l,q);for(B in l)if(q=l[B],H=r[B],l.hasOwnProperty(B)&&q!==H&&(q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Yt(t,n,B,q,l,H)}return;default:if(Hs(n)){for(var Kt in r)q=r[Kt],r.hasOwnProperty(Kt)&&q!==void 0&&!l.hasOwnProperty(Kt)&&hf(t,n,Kt,void 0,l,q);for(Q in l)q=l[Q],H=r[Q],!l.hasOwnProperty(Q)||q===H||q===void 0&&H===void 0||hf(t,n,Q,q,l,H);return}}for(var x in r)q=r[x],r.hasOwnProperty(x)&&q!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,q);for($ in l)q=l[$],H=r[$],!l.hasOwnProperty($)||q===H||q==null&&H==null||Yt(t,n,$,q,l,H)}var ff=null,df=null;function Ao(t){return t.nodeType===9?t:t.ownerDocument}function Pp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gf=null;function UE(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,LE=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,PE=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(t){return Bp.resolve(null).then(t).catch(zE)}:kp;function zE(t){setTimeout(function(){throw t})}function sr(t){return t==="head"}function qp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Cl(v.documentElement),r&2&&Cl(v.body),r&4)for(r=v.head,Cl(r),v=r.firstChild;v;){var E=v.nextSibling,w=v.nodeName;v[Nr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=E}}if(c===0){t.removeChild(f),Ul(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ul(n)}function pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pf(r),qi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function kE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Nr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function BE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Nn(t.nextSibling),t===null))return null;return t}function yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function qE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var _f=null;function Hp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function jp(t,n,r){switch(n=Ao(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qi(t)}var bn=new Map,Gp=new Set;function So(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=at.d;at.d={f:HE,r:jE,D:GE,C:FE,L:QE,m:YE,X:XE,S:KE,M:$E};function HE(){var t=Ii.f(),n=mo();return t||n}function jE(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?cg(n):Ii.r(t)}var ss=typeof document>"u"?null:document;function Fp(t,n,r){var l=ss;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Gp.has(c)||(Gp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),oe(n),l.head.appendChild(n)))}}function GE(t){Ii.D(t),Fp("dns-prefetch",t,null)}function FE(t,n){Ii.C(t,n),Fp("preconnect",t,n)}function QE(t,n,r){Ii.L(t,n,r);var l=ss;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+me(r.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=ls(t);break;case"script":f=us(t)}bn.has(f)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),bn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(f))||n==="script"&&l.querySelector(Vl(f))||(n=l.createElement("link"),ze(n,"link",t),oe(n),l.head.appendChild(n)))}}function YE(t,n){Ii.m(t,n);var r=ss;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=us(t)}if(!bn.has(f)&&(t=T({rel:"modulepreload",href:t},n),bn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vl(f)))return}l=r.createElement("link"),ze(l,"link",t),oe(l),r.head.appendChild(l)}}}function KE(t,n,r){Ii.S(t,n,r);var l=ss;if(l&&t){var c=Ke(l).hoistableStyles,f=ls(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Dl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=bn.get(f))&&vf(t,r);var w=v=l.createElement("link");oe(w),ze(w,"link",t),w._p=new Promise(function(B,Q){w.onload=B,w.onerror=Q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bo(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function XE(t,n){Ii.X(t,n);var r=ss;if(r&&t){var l=Ke(r).hoistableScripts,c=us(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=T({src:t,async:!0},n),(n=bn.get(c))&&Ef(t,n),f=r.createElement("script"),oe(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $E(t,n){Ii.M(t,n);var r=ss;if(r&&t){var l=Ke(r).hoistableScripts,c=us(t),f=l.get(c);f||(f=r.querySelector(Vl(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=bn.get(c))&&Ef(t,n),f=r.createElement("script"),oe(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Qp(t,n,r,l){var c=(c=Et.current)?So(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ls(r.href),r=Ke(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ls(r.href);var f=Ke(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Dl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),bn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(t,r),f||ZE(c,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=us(r),r=Ke(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ls(t){return'href="'+me(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Yp(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function ZE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),oe(n),t.head.appendChild(n))}function us(t){return'[src="'+me(t)+'"]'}function Vl(t){return"script[async]"+t}function Kp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),ze(l,"style",c),bo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ls(r.href);var f=t.querySelector(Dl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=Yp(r),(c=bn.get(c))&&vf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var v=f;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ze(f,"link",l),n.state.loading|=4,bo(f,r.precedence,t),n.instance=f;case"script":return f=us(r.src),(c=t.querySelector(Vl(f)))?(n.instance=c,oe(c),c):(l=r,(c=bn.get(f))&&(l=T({},r),Ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bo(l,r.precedence,t));return n.instance}function bo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ro=null;function Xp(t,n,r){if(Ro===null){var l=new Map,c=Ro=new Map;c.set(r,l)}else c=Ro,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Nr]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function $p(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function JE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function WE(){}function tT(t,n,r){if(Il===null)throw Error(s(475));var l=Il;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ls(r.href),f=t.querySelector(Dl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=Yp(r),(c=bn.get(c))&&vf(r,c),f=f.createElement("link"),oe(f);var v=f;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=wo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function eT(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&Tf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function wo(){if(this.count--,this.count===0){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Co=null;function Tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Co=new Map,n.forEach(nT,t),Co=null,wo.call(t))}function nT(t,n){if(!(n.state.loading&4)){var r=Co.get(t);if(r)var l=r.get(null);else{r=new Map,Co.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,c),r.set(v,c),this.count++,l=wo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:et,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function iT(t,n,r,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Jp(t,n,r,l,c,f,v,E,w,B,Q,$){return t=new iT(t,n,r,v,E,w,B,$),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ah(f),t}function Wp(t){return t?(t=ka,t):ka}function ty(t,n,r,l,c,f){c=Wp(c),l.context===null?l.context=c:l.pendingContext=c,l=Yi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ki(t,l,n),r!==null&&(hn(r,t,n),ll(r,t,n))}function ey(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Af(t,n){ey(t,n),(t=t.alternate)&&ey(t,n)}function ny(t){if(t.tag===13){var n=za(t,67108864);n!==null&&hn(n,t,67108864),Af(t,67108864)}}var Do=!0;function rT(t,n,r,l){var c=F.T;F.T=null;var f=at.p;try{at.p=2,Sf(t,n,r,l)}finally{at.p=f,F.T=c}}function aT(t,n,r,l){var c=F.T;F.T=null;var f=at.p;try{at.p=8,Sf(t,n,r,l)}finally{at.p=f,F.T=c}}function Sf(t,n,r,l){if(Do){var c=bf(l);if(c===null)cf(t,n,l,Vo,r),ry(t,l);else if(lT(c,t,n,r,l))l.stopPropagation();else if(ry(t,l),n&4&&-1<sT.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Cn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-He(v);E.entanglements[1]|=w,v&=~w}Zn(f),(jt&6)===0&&(ho=fn()+500,bl(0))}}break;case 13:E=za(f,2),E!==null&&hn(E,f,2),mo(),Af(f,2)}if(f=bf(l),f===null&&cf(t,n,l,Vo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else cf(t,n,l,null,r)}}function bf(t){return t=gn(t),Rf(t)}var Vo=null;function Rf(t){if(Vo=null,t=ui(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vo=t,null}function iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cc()){case Vs:return 2;case ya:return 8;case Cr:case Dc:return 32;case _a:return 268435456;default:return 32}default:return 32}}var wf=!1,lr=null,ur=null,or=null,Nl=new Map,Ml=new Map,cr=[],sT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ry(t,n){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function xl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&ny(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function lT(t,n,r,l,c){switch(n){case"focusin":return lr=xl(lr,t,n,r,l,c),!0;case"dragenter":return ur=xl(ur,t,n,r,l,c),!0;case"mouseover":return or=xl(or,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Nl.set(f,xl(Nl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,xl(Ml.get(f)||null,t,n,r,l,c)),!0}return!1}function ay(t){var n=ui(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,du(t.priority,function(){if(r.tag===13){var l=cn();l=zi(l);var c=za(r,l);c!==null&&hn(c,r,l),Af(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Io(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=bf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);fi=l,r.target.dispatchEvent(l),fi=null}else return n=Pn(r),n!==null&&ny(n),t.blockedOn=r,!1;n.shift()}return!0}function sy(t,n,r){Io(t)&&r.delete(n)}function uT(){wf=!1,lr!==null&&Io(lr)&&(lr=null),ur!==null&&Io(ur)&&(ur=null),or!==null&&Io(or)&&(or=null),Nl.forEach(sy),Ml.forEach(sy)}function Oo(t,n){t.blockedOn===n&&(t.blockedOn=null,wf||(wf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,uT)))}var No=null;function ly(t){No!==t&&(No=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){No===t&&(No=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Rf(l||r)===null)continue;break}var f=Pn(r);f!==null&&(t.splice(n,3),n-=3,bh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ul(t){function n(w){return Oo(w,t)}lr!==null&&Oo(lr,t),ur!==null&&Oo(ur,t),or!==null&&Oo(or,t),Nl.forEach(n),Ml.forEach(n);for(var r=0;r<cr.length;r++){var l=cr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)ay(r),r.blockedOn===null&&cr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],v=c[de]||null;if(typeof f=="function")v||ly(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[de]||null)E=v.formAction;else if(Rf(c)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),ly(r)}}}function Cf(t){this._internalRoot=t}Mo.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=cn();ty(r,l,t,n,null,null)},Mo.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ty(t.current,2,null,t,null,null),mo(),n[dn]=null}};function Mo(t){this._internalRoot=t}Mo.prototype.unstable_scheduleHydration=function(t){if(t){var n=ki();t={blockedOn:null,target:t,priority:n};for(var r=0;r<cr.length&&n!==0&&n<cr[r].priority;r++);cr.splice(r,0,t),r===0&&ay(t)}};var uy=e.version;if(uy!=="19.1.0")throw Error(s(527,uy,"19.1.0"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var oT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{se=xo.inject(oT),Ht=xo}catch{}}return kl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",c=bg,f=Rg,v=wg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Jp(t,1,!1,null,null,r,l,c,f,v,E,null),t[dn]=n.current,of(t),new Cf(n)},kl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,c="",f=bg,v=Rg,E=wg,w=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=Jp(t,1,!0,n,r??null,l,c,f,v,E,w,B),n.context=Wp(null),r=n.current,l=cn(),l=zi(l),c=Yi(l),c.callback=null,Ki(r,c,l),r=l,n.current.lanes=r,li(n,r),Zn(n),t[dn]=n.current,of(t),new Mo(n)},kl.version="19.1.0",kl}var by;function jA(){if(by)return Mf.exports;by=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Mf.exports=HA(),Mf.exports}var GA=jA();const FA=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},QA=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],d=a[i++],g=a[i++],p=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},J_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const h=a[u],d=u+1<a.length,g=d?a[u+1]:0,p=u+2<a.length,y=p?a[u+2]:0,T=h>>2,b=(h&3)<<4|g>>4;let D=(g&15)<<2|y>>6,P=y&63;p||(P=64,d||(D=64)),s.push(i[T],i[b],i[D],i[P])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Z_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):QA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const y=u<a.length?i[a.charAt(u)]:64;++u;const b=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||g==null||y==null||b==null)throw new YA;const D=h<<2|g>>4;if(s.push(D),y!==64){const P=g<<4&240|y>>2;if(s.push(P),b!==64){const k=y<<6&192|b;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class YA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(a){const e=Z_(a);return J_.encodeByteArray(e,!0)},Xo=function(a){return KA(a).replace(/\./g,"")},XA=function(a){try{return J_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=()=>$A().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof Ry>"u")return;const a=Ry.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},WA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&XA(a[1]);return e&&JSON.parse(e)},Ed=()=>{try{return FA()||ZA()||JA()||WA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},tS=a=>{var e,i;return(i=(e=Ed())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},eS=a=>{const e=tS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},W_=()=>{var a;return(a=Ed())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Xo(JSON.stringify(i)),Xo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aS(){var a;const e=(a=Ed())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lS(){try{return typeof indexedDB=="object"}catch{return!1}}function uS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="FirebaseError";class Ss extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=oS,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tv.prototype.create)}}class tv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?cS(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ss(u,g,s)}}function cS(a,e){return a.replace(hS,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const hS=/\{\$([^}]+)}/g;function $o(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=a[u],d=e[u];if(wy(h)&&wy(d)){if(!$o(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function wy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(a){return a&&a._delegate?a._delegate:a}class Xl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new nS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mS(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(a){return a===la?void 0:a}function mS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new fS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const pS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},yS=Lt.INFO,_S={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},vS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),u=_S[e];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ev{constructor(e){this.name=e,this._logLevel=yS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const ES=(a,e)=>e.some(i=>a instanceof i);let Cy,Dy;function TS(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AS(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nv=new WeakMap,Yf=new WeakMap,iv=new WeakMap,Lf=new WeakMap,Td=new WeakMap;function SS(a){const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(dr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&nv.set(i,a)}).catch(()=>{}),Td.set(e,a),e}function bS(a){if(Yf.has(a))return;const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Yf.set(a,e)}let Kf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Yf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||iv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function RS(a){Kf=a(Kf)}function wS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Pf(this),e,...i);return iv.set(s,e.sort?e.sort():[e]),dr(s)}:AS().includes(a)?function(...e){return a.apply(Pf(this),e),dr(nv.get(this))}:function(...e){return dr(a.apply(Pf(this),e))}}function CS(a){return typeof a=="function"?wS(a):(a instanceof IDBTransaction&&bS(a),ES(a,TS())?new Proxy(a,Kf):a)}function dr(a){if(a instanceof IDBRequest)return SS(a);if(Lf.has(a))return Lf.get(a);const e=CS(a);return e!==a&&(Lf.set(a,e),Td.set(e,a)),e}const Pf=a=>Td.get(a);function DS(a,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(a,e),g=dr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(dr(d.result),p.oldVersion,p.newVersion,dr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),u&&p.addEventListener("versionchange",y=>u(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const VS=["get","getKey","getAll","getAllKeys","count"],IS=["put","add","delete","clear"],zf=new Map;function Vy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=IS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||VS.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,u?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),u&&p.done]))[0]};return zf.set(e,h),h}RS(a=>({...a,get:(e,i,s)=>Vy(e,i)||a.get(e,i,s),has:(e,i)=>!!Vy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function NS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",Iy="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new ev("@firebase/app"),MS="@firebase/app-compat",xS="@firebase/analytics-compat",US="@firebase/analytics",LS="@firebase/app-check-compat",PS="@firebase/app-check",zS="@firebase/auth",kS="@firebase/auth-compat",BS="@firebase/database",qS="@firebase/data-connect",HS="@firebase/database-compat",jS="@firebase/functions",GS="@firebase/functions-compat",FS="@firebase/installations",QS="@firebase/installations-compat",YS="@firebase/messaging",KS="@firebase/messaging-compat",XS="@firebase/performance",$S="@firebase/performance-compat",ZS="@firebase/remote-config",JS="@firebase/remote-config-compat",WS="@firebase/storage",t1="@firebase/storage-compat",e1="@firebase/firestore",n1="@firebase/vertexai",i1="@firebase/firestore-compat",r1="firebase",a1="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="[DEFAULT]",s1={[Xf]:"fire-core",[MS]:"fire-core-compat",[US]:"fire-analytics",[xS]:"fire-analytics-compat",[PS]:"fire-app-check",[LS]:"fire-app-check-compat",[zS]:"fire-auth",[kS]:"fire-auth-compat",[BS]:"fire-rtdb",[qS]:"fire-data-connect",[HS]:"fire-rtdb-compat",[jS]:"fire-fn",[GS]:"fire-fn-compat",[FS]:"fire-iid",[QS]:"fire-iid-compat",[YS]:"fire-fcm",[KS]:"fire-fcm-compat",[XS]:"fire-perf",[$S]:"fire-perf-compat",[ZS]:"fire-rc",[JS]:"fire-rc-compat",[WS]:"fire-gcs",[t1]:"fire-gcs-compat",[e1]:"fire-fst",[i1]:"fire-fst-compat",[n1]:"fire-vertex","fire-js":"fire-js",[r1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Map,l1=new Map,Zf=new Map;function Oy(a,e){try{a.container.addComponent(e)}catch(i){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Jo(a){const e=a.name;if(Zf.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,a);for(const i of Zo.values())Oy(i,a);for(const i of l1.values())Oy(i,a);return!0}function u1(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function o1(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new tv("app","Firebase",c1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=a1;function rv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:$f,automaticDataCollectionEnabled:!1},e),u=s.name;if(typeof u!="string"||!u)throw mr.create("bad-app-name",{appName:String(u)});if(i||(i=W_()),!i)throw mr.create("no-options");const h=Zo.get(u);if(h){if($o(i,h.options)&&$o(s,h.config))return h;throw mr.create("duplicate-app",{appName:u})}const d=new gS(u);for(const p of Zf.values())d.addComponent(p);const g=new h1(i,s,d);return Zo.set(u,g),g}function d1(a=$f){const e=Zo.get(a);if(!e&&a===$f&&W_())return rv();if(!e)throw mr.create("no-app",{appName:a});return e}function ds(a,e,i){var s;let u=(s=s1[a])!==null&&s!==void 0?s:a;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(g.join(" "));return}Jo(new Xl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebase-heartbeat-database",g1=1,$l="firebase-heartbeat-store";let kf=null;function av(){return kf||(kf=DS(m1,g1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore($l)}catch(i){console.warn(i)}}}}).catch(a=>{throw mr.create("idb-open",{originalErrorMessage:a.message})})),kf}async function p1(a){try{const i=(await av()).transaction($l),s=await i.objectStore($l).get(sv(a));return await i.done,s}catch(e){if(e instanceof Ss)xi.warn(e.message);else{const i=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(i.message)}}}async function Ny(a,e){try{const s=(await av()).transaction($l,"readwrite");await s.objectStore($l).put(e,sv(a)),await s.done}catch(i){if(i instanceof Ss)xi.warn(i.message);else{const s=mr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(s.message)}}}function sv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1024,_1=30;class v1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new T1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=My();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>_1){const d=A1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=My(),{heartbeatsToSend:s,unsentEntries:u}=E1(this._heartbeatsCache.heartbeats),h=Xo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return xi.warn(i),""}}}function My(){return new Date().toISOString().substring(0,10)}function E1(a,e=y1){const i=[];let s=a.slice();for(const u of a){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),xy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),xy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class T1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lS()?uS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await p1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function xy(a){return Xo(JSON.stringify({version:2,heartbeats:a})).length}function A1(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(a){Jo(new Xl("platform-logger",e=>new OS(e),"PRIVATE")),Jo(new Xl("heartbeat",e=>new v1(e),"PRIVATE")),ds(Xf,Iy,a),ds(Xf,Iy,"esm2017"),ds("fire-js","")}S1("");var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,lv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,M,U){for(var C=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)C[Me-2]=arguments[Me];return S.prototype[M].apply(O,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],M=N.g[2];var U=N.g[3],C=S+(U^R&(M^U))+O[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=U+(M^S&(R^M))+O[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=M+(R^U&(S^R))+O[2]+606105819&4294967295,M=U+(C<<17&4294967295|C>>>15),C=R+(S^M&(U^S))+O[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=S+(U^R&(M^U))+O[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(M^S&(R^M))+O[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=M+(R^U&(S^R))+O[6]+2821735955&4294967295,M=U+(C<<17&4294967295|C>>>15),C=R+(S^M&(U^S))+O[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=S+(U^R&(M^U))+O[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(M^S&(R^M))+O[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=M+(R^U&(S^R))+O[10]+4294925233&4294967295,M=U+(C<<17&4294967295|C>>>15),C=R+(S^M&(U^S))+O[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=S+(U^R&(M^U))+O[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(M^S&(R^M))+O[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=M+(R^U&(S^R))+O[14]+2792965006&4294967295,M=U+(C<<17&4294967295|C>>>15),C=R+(S^M&(U^S))+O[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=S+(M^U&(R^M))+O[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^M&(S^R))+O[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=M+(S^R&(U^S))+O[11]+643717713&4294967295,M=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(M^U))+O[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=S+(M^U&(R^M))+O[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^M&(S^R))+O[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=M+(S^R&(U^S))+O[15]+3634488961&4294967295,M=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(M^U))+O[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=S+(M^U&(R^M))+O[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^M&(S^R))+O[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=M+(S^R&(U^S))+O[3]+4107603335&4294967295,M=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(M^U))+O[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=S+(M^U&(R^M))+O[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^M&(S^R))+O[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=M+(S^R&(U^S))+O[7]+1735328473&4294967295,M=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(M^U))+O[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=S+(R^M^U)+O[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^M)+O[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=M+(U^S^R)+O[11]+1839030562&4294967295,M=U+(C<<16&4294967295|C>>>16),C=R+(M^U^S)+O[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=S+(R^M^U)+O[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^M)+O[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=M+(U^S^R)+O[7]+4139469664&4294967295,M=U+(C<<16&4294967295|C>>>16),C=R+(M^U^S)+O[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=S+(R^M^U)+O[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^M)+O[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=M+(U^S^R)+O[3]+3572445317&4294967295,M=U+(C<<16&4294967295|C>>>16),C=R+(M^U^S)+O[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=S+(R^M^U)+O[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^M)+O[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=M+(U^S^R)+O[15]+530742520&4294967295,M=U+(C<<16&4294967295|C>>>16),C=R+(M^U^S)+O[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=S+(M^(R|~U))+O[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~M))+O[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=M+(S^(U|~R))+O[14]+2878612391&4294967295,M=U+(C<<15&4294967295|C>>>17),C=R+(U^(M|~S))+O[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=S+(M^(R|~U))+O[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~M))+O[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=M+(S^(U|~R))+O[10]+4293915773&4294967295,M=U+(C<<15&4294967295|C>>>17),C=R+(U^(M|~S))+O[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=S+(M^(R|~U))+O[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~M))+O[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=M+(S^(U|~R))+O[6]+2734768916&4294967295,M=U+(C<<15&4294967295|C>>>17),C=R+(U^(M|~S))+O[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=S+(M^(R|~U))+O[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~M))+O[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=M+(S^(U|~R))+O[2]+718787259&4294967295,M=U+(C<<15&4294967295|C>>>17),C=R+(U^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,O=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=R;)u(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[M++]=N.charCodeAt(U++),M==this.blockSize){u(this,O),M=0;break}}else for(;U<S;)if(O[M++]=N[U++],M==this.blockSize){u(this,O),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)N[R++]=this.g[S]>>>O&255;return N};function h(N,S){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;for(var R=[],O=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;O&&U==S||(R[M]=U,O=!1)}this.g=R}var g={};function p(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return j(y(-N));for(var S=[],R=1,O=0;N>=R;O++)S[O]=N/R|0,R*=4294967296;return new d(S,0)}function T(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return j(T(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),O=b,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),C=parseInt(N.substring(M,M+U),S);8>U?(U=y(Math.pow(S,U)),O=O.j(U).add(y(C))):(O=O.j(R),O=O.add(y(C)))}return O}var b=p(0),D=p(1),P=p(16777216);a=d.prototype,a.m=function(){if(J(this))return-j(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(J(this))return"-"+j(this).toString(N);for(var S=y(Math.pow(N,6)),R=this,O="";;){var M=mt(R,S).g;R=X(R,M.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=M,k(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function J(N){return N.h==-1}a.l=function(N){return N=X(this,N),J(N)?-1:k(N)?0:1};function j(N){for(var S=N.g.length,R=[],O=0;O<S;O++)R[O]=~N.g[O];return new d(R,~N.h).add(D)}a.abs=function(){return J(this)?j(this):this},a.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0,M=0;M<=S;M++){var U=O+(this.i(M)&65535)+(N.i(M)&65535),C=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=C>>>16,U&=65535,C&=65535,R[M]=C<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function X(N,S){return N.add(j(S))}a.j=function(N){if(k(this)||k(N))return b;if(J(this))return J(N)?j(this).j(j(N)):j(j(this).j(N));if(J(N))return j(this.j(j(N)));if(0>this.l(P)&&0>N.l(P))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var U=this.i(O)>>>16,C=this.i(O)&65535,Me=N.i(M)>>>16,ae=N.i(M)&65535;R[2*O+2*M]+=C*ae,rt(R,2*O+2*M),R[2*O+2*M+1]+=U*ae,rt(R,2*O+2*M+1),R[2*O+2*M+1]+=C*Me,rt(R,2*O+2*M+1),R[2*O+2*M+2]+=U*Me,rt(R,2*O+2*M+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function rt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function et(N,S){this.g=N,this.h=S}function mt(N,S){if(k(S))throw Error("division by zero");if(k(N))return new et(b,b);if(J(N))return S=mt(j(N),S),new et(j(S.g),j(S.h));if(J(S))return S=mt(N,j(S)),new et(j(S.g),S.h);if(30<N.g.length){if(J(N)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var R=D,O=S;0>=O.l(N);)R=ot(R),O=ot(O);var M=wt(R,1),U=wt(O,1);for(O=wt(O,2),R=wt(R,2);!k(O);){var C=U.add(O);0>=C.l(N)&&(M=M.add(R),U=C),O=wt(O,1),R=wt(R,1)}return S=X(N,M.j(S)),new et(M,S)}for(M=b;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=y(R),C=U.j(S);J(C)||0<C.l(N);)R-=O,U=y(R),C=U.j(S);k(U)&&(U=D),M=M.add(U),N=X(N,C)}return new et(M,N)}a.A=function(N){return mt(this,N).h},a.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&N.i(O);return new d(R,this.h&N.h)},a.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|N.i(O);return new d(R,this.h|N.h)},a.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^N.i(O);return new d(R,this.h^N.h)};function ot(N){for(var S=N.g.length+1,R=[],O=0;O<S;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(R,N.h)}function wt(N,S){var R=S>>5;S%=32;for(var O=N.g.length-R,M=[],U=0;U<O;U++)M[U]=0<S?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new d(M,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,lv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,gr=d}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var Lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uv,Bl,ov,jo,Jf,cv,hv,fv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,_){return o==Array.prototype||o==Object.prototype||(o[m]=_.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lo=="object"&&Lo];for(var m=0;m<o.length;++m){var _=o[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var _=s;o=o.split(".");for(var A=0;A<o.length-1;A++){var L=o[A];if(!(L in _))break t;_=_[L]}o=o[o.length-1],A=_[o],m=m(A),m!=A&&m!=null&&e(_,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var _=0,A=!1,L={next:function(){if(!A&&_<o.length){var G=_++;return{value:m(G,o[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function T(o,m,_){return o.call.apply(o.bind,arguments)}function b(o,m,_){if(!o)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function D(o,m,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,D.apply(null,arguments)}function P(o,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),o.apply(this,A)}}function k(o,m){function _(){}_.prototype=m.prototype,o.aa=m.prototype,o.prototype=new _,o.prototype.constructor=o,o.Qb=function(A,L,G){for(var it=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)it[Nt-2]=arguments[Nt];return m.prototype[L].apply(A,it)}}function J(o){const m=o.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=o[A];return _}return[]}function j(o,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const L=o.length||0,G=A.length||0;o.length=L+G;for(let it=0;it<G;it++)o[L+it]=A[it]}else o.push(A)}}class X{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function rt(o){return/^[\s\xa0]*$/.test(o)}function et(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function mt(o){return mt[" "](o),o}mt[" "]=function(){};var ot=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function wt(o,m,_){for(const A in o)m.call(_,o[A],A,o)}function N(o,m){for(const _ in o)m.call(void 0,o[_],_,o)}function S(o){const m={};for(const _ in o)m[_]=o[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(o,m){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)o[_]=A[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(A,_)&&(o[_]=A[_])}}function M(o){var m=1;o=o.split(":");const _=[];for(;0<m&&o.length;)_.push(o.shift()),m--;return o.length&&_.push(o.join(":")),_}function U(o){g.setTimeout(()=>{throw o},0)}function C(){var o=zt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,_){const A=ae.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new X(()=>new F,o=>o.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ht=!1,zt=new Me,V=()=>{const o=g.Promise.resolve(void 0);at=()=>{o.then(W)}};var W=()=>{for(var o;o=C();){try{o.h.call(o.g)}catch(_){U(_)}var m=ae;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ht=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return o}();function Ct(o,m){if(nt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var _=this.type=o.type,A=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(ot){t:{try{mt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=o.fromElement:_=="mouseout"&&(m=o.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Et[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ct.aa.h.call(this)}}k(Ct,nt);var Et={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Un(o,m,_,A,L){this.listener=o,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=L,this.key=++$t,this.da=this.fa=!1}function Pi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ai(o){this.src=o,this.g={},this.h=0}ai.prototype.add=function(o,m,_,A,L){var G=o.toString();o=this.g[G],o||(o=this.g[G]=[],this.h++);var it=Rr(o,m,A,L);return-1<it?(m=o[it],_||(m.fa=!1)):(m=new Un(m,this.src,G,!!A,L),m.fa=_,o.push(m)),m};function br(o,m){var _=m.type;if(_ in o.g){var A=o.g[_],L=Array.prototype.indexOf.call(A,m,void 0),G;(G=0<=L)&&Array.prototype.splice.call(A,L,1),G&&(Pi(m),o.g[_].length==0&&(delete o.g[_],o.h--))}}function Rr(o,m,_,A){for(var L=0;L<o.length;++L){var G=o[L];if(!G.da&&G.listener==m&&G.capture==!!_&&G.ha==A)return L}return-1}var wr="closure_lm_"+(1e6*Math.random()|0),Ds={};function cu(o,m,_,A,L){if(Array.isArray(m)){for(var G=0;G<m.length;G++)cu(o,m[G],_,A,L);return null}return _=hu(_),o&&o[we]?o.K(m,_,y(A)?!!A.capture:!1,L):fn(o,m,_,!1,A,L)}function fn(o,m,_,A,L,G){if(!m)throw Error("Invalid event type");var it=y(L)?!!L.capture:!!L,Nt=_a(o);if(Nt||(o[wr]=Nt=new ai(o)),_=Nt.add(m,_,A,it,G),_.proxy)return _;if(A=Cc(),_.proxy=A,A.src=o,A.listener=_,o.addEventListener)ft||(L=it),L===void 0&&(L=!1),o.addEventListener(m.toString(),A,L);else if(o.attachEvent)o.attachEvent(Cr(m.toString()),A);else if(o.addListener&&o.removeListener)o.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Cc(){function o(_){return m.call(o.src,o.listener,_)}const m=Dc;return o}function Vs(o,m,_,A,L){if(Array.isArray(m))for(var G=0;G<m.length;G++)Vs(o,m[G],_,A,L);else A=y(A)?!!A.capture:!!A,_=hu(_),o&&o[we]?(o=o.i,m=String(m).toString(),m in o.g&&(G=o.g[m],_=Rr(G,_,A,L),-1<_&&(Pi(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete o.g[m],o.h--)))):o&&(o=_a(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Rr(m,_,A,L)),(_=-1<o?m[o]:null)&&ya(_))}function ya(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[we])br(m.i,o);else{var _=o.type,A=o.proxy;m.removeEventListener?m.removeEventListener(_,A,o.capture):m.detachEvent?m.detachEvent(Cr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=_a(m))?(br(_,o),_.h==0&&(_.src=null,m[wr]=null)):Pi(o)}}}function Cr(o){return o in Ds?Ds[o]:Ds[o]="on"+o}function Dc(o,m){if(o.da)o=!0;else{m=new Ct(m,this);var _=o.listener,A=o.ha||o.src;o.fa&&ya(o),o=_.call(A,m)}return o}function _a(o){return o=o[wr],o instanceof ai?o:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(o){return typeof o=="function"?o:(o[Is]||(o[Is]=function(m){return o.handleEvent(m)}),o[Is])}function se(){st.call(this),this.i=new ai(this),this.M=this,this.F=null}k(se,st),se.prototype[we]=!0,se.prototype.removeEventListener=function(o,m,_,A){Vs(this,o,m,_,A)};function Ht(o,m){var _,A=o.F;if(A)for(_=[];A;A=A.F)_.push(A);if(o=o.M,A=m.type||m,typeof m=="string")m=new nt(m,o);else if(m instanceof nt)m.target=m.target||o;else{var L=m;m=new nt(A,o),O(m,L)}if(L=!0,_)for(var G=_.length-1;0<=G;G--){var it=m.g=_[G];L=nn(it,A,!0,m)&&L}if(it=m.g=o,L=nn(it,A,!0,m)&&L,L=nn(it,A,!1,m)&&L,_)for(G=0;G<_.length;G++)it=m.g=_[G],L=nn(it,A,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var _=o.g[m],A=0;A<_.length;A++)Pi(_[A]);delete o.g[m],o.h--}}this.F=null},se.prototype.K=function(o,m,_,A){return this.i.add(String(o),m,!1,_,A)},se.prototype.L=function(o,m,_,A){return this.i.add(String(o),m,!0,_,A)};function nn(o,m,_,A){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,G=0;G<m.length;++G){var it=m[G];if(it&&!it.da&&it.capture==_){var Nt=it.listener,ve=it.ha||it.src;it.fa&&br(o.i,it),L=Nt.call(ve,A)!==!1&&L}}return L&&!A.defaultPrevented}function He(o,m,_){if(typeof o=="function")_&&(o=D(o,_));else if(o&&typeof o.handleEvent=="function")o=D(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function fu(o){o.g=He(()=>{o.g=null,o.i&&(o.i=!1,fu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Vc extends st{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(o){st.call(this),this.h=o,this.g={}}k(Dr,st);var Vr=[];function Ir(o){wt(o.g,function(m,_){this.g.hasOwnProperty(_)&&ya(m)},o),o.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Ir(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,va=g.JSON.parse,Or=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Os(){}Os.prototype.h=null;function Ns(o){return o.h||(o.h=o.i())}function Ms(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){nt.call(this,"d")}k(li,nt);function xs(){nt.call(this,"c")}k(xs,nt);var Ln={},Us=null;function zi(){return Us=Us||new se}Ln.La="serverreachability";function Ea(o){nt.call(this,Ln.La,o)}k(Ea,nt);function ki(o){const m=zi();Ht(m,new Ea(m))}Ln.STAT_EVENT="statevent";function du(o,m){nt.call(this,Ln.STAT_EVENT,o),this.stat=m}k(du,nt);function Jt(o){const m=zi();Ht(m,new du(m,o))}Ln.Ma="timingevent";function _e(o,m){nt.call(this,Ln.Ma,o),this.size=m}k(_e,nt);function de(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Ls(o,m,_,A,L,G){o.info(function(){if(o.g)if(G)for(var it="",Nt=G.split("&"),ve=0;ve<Nt.length;ve++){var Mt=Nt[ve].split("=");if(1<Mt.length){var De=Mt[0];Mt=Mt[1];var Ee=De.split("_");it=2<=Ee.length&&Ee[1]=="type"?it+(De+"="+Mt+"&"):it+(De+"=redacted&")}}else it=null;else it=G;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+_+`
`+it})}function Ic(o,m,_,A,L,G,it){o.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+_+`
`+G+" "+it})}function Bi(o,m,_,A){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nr(o,_)+(A?" "+A:"")})}function mu(o,m){o.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function Nr(o,m){if(!o.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(o=0;o<_.length;o++)if(Array.isArray(_[o])){var A=_[o];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var G=L[0];if(G!="noop"&&G!="stop"&&G!="close")for(var it=1;it<L.length;it++)L[it]=""}}}}return Cn(_)}catch{return m}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function zn(){}k(zn,Os),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Pn=new zn;function Ke(o,m,_,A){this.j=o,this.i=m,this.l=_,this.R=A||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Ps={},Ta={};function Dn(o,m,_){o.L=1,o.v=Pr(rn(m)),o.m=_,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),Mr(o),o.A=rn(o.v);var _=o.A,A=o.R;Array.isArray(A)||(A=[String(A)]),js(_.i,"t",A),o.C=0,_=o.j.J,o.h=new oe,o.g=Iu(o.j,_?m:null,!o.m),0<o.O&&(o.M=new Vc(D(o.Y,o,o.g),o.O)),m=o.U,_=o.g,A=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Vr[0]=L.toString()),L=Vr);for(var G=0;G<L.length;G++){var it=cu(_,L[G],A||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ki(),Ls(o.i,o.u,o.A,o.l,o.R,o.m)}Ke.prototype.ca=function(o){o=o.target;const m=this.M;m&&yn(o)==3?m.j():this.Y(o)},Ke.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=yn(this.g);var m=this.g.Ba();const yi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=yi?ki(3):ki(2)),Hi(this);var _=this.g.Z();this.X=_;e:if(gu(this)){var A=Au(this.g);o="";var L=A.length,G=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),kn(this);var it="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(A[m],{stream:!(G&&m==L-1)});A.length=0,this.h.g+=o,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,Ic(this.i,this.u,this.A,this.l,this.R,Ee,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,ve=this.g;if((Nt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Nt)){var Mt=Nt;break e}}Mt=null}if(_=Mt)Bi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xr(this,_);else{this.o=!1,this.s=3,Jt(12),xe(this),kn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<it.length;)if(Ue=pu(this,it),Ue==Ta){Ee==4&&(this.s=4,Jt(14),_=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ps){this.s=4,Jt(15),Bi(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else Bi(this.i,this.l,Ue,null),xr(this,Ue);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||it.length!=0||this.h.h||(this.s=1,Jt(16),_=!1),this.o=this.o&&_,!_)Bi(this.i,this.l,it,"[Invalid Chunked Response]"),xe(this),kn(this);else if(0<it.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),Fr(De),De.M=!0,Jt(11))}}else Bi(this.i,this.l,it,null),xr(this,it);Ee==4&&xe(this),this.o&&!this.J&&(Ee==4?Cu(this.j,this):(this.o=!1,Mr(this)))}else Uc(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),xe(this),kn(this)}}}catch{}finally{}};function gu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function pu(o,m){var _=o.C,A=m.indexOf(`
`,_);return A==-1?Ta:(_=Number(m.substring(_,A)),isNaN(_)?Ps:(A+=1,A+_>m.length?Ta:(m=m.slice(A,A+_),o.C=A+_,m)))}Ke.prototype.cancel=function(){this.J=!0,xe(this)};function Mr(o){o.S=Date.now()+o.I,yu(o,o.I)}function yu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=de(D(o.ba,o),m)}function Hi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Ke.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(mu(this.i,this.A),this.L!=2&&(ki(),Jt(17)),xe(this),this.s=2,kn(this)):yu(this,this.S-o)};function kn(o){o.j.G==0||o.J||Cu(o.j,o)}function xe(o){Hi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Ir(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function xr(o,m){try{var _=o.j;if(_.G!=0&&(_.g==o||zs(_.h,o))){if(!o.K&&zs(_.h,o)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<o.F)Ma(_),Oa(_);else break t;Ks(_),Jt(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(D(_.Za,_),6e3));if(1>=Sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else pi(_,11)}else if((o.K||_.g==o)&&Ma(_),!rt(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const De=Mt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Ee=Mt[4];Ee!=null&&(_.Aa=Ee,_.j.info("SVER="+_.Aa));const yi=Mt[5];yi!=null&&typeof yi=="number"&&0<yi&&(A=1.5*yi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=o.g;if(Ue){const Qn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var G=A.h;G.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ba(G,G.h),G.h=null))}if(A.D){const $s=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(A.ya=$s,Ft(A.I,A.D,$s))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-o.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var it=o;if(A.qa=Vu(A,A.J?A.ia:null,A.W),it.K){Xe(A.h,it);var Nt=it,ve=A.L;ve&&(Nt.I=ve),Nt.B&&(Hi(Nt),Mr(Nt)),A.g=it}else Ru(A);0<_.i.length&&Na(_)}else Mt[0]!="stop"&&Mt[0]!="close"||pi(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?pi(_,7):Qs(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}ki(4)}catch{}}var _u=class{constructor(o,m){this.g=o,this.map=m}};function ci(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Sa(o){return o.h?1:o.g?o.g.size:0}function zs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function ba(o,m){o.g?o.g.add(m):o.h=m}function Xe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}ci.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ks(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const _ of o.g.values())m=m.concat(_.D);return m}return J(o.i)}function Oc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(p(o)){for(var m=[],_=o.length,A=0;A<_;A++)m.push(o[A]);return m}m=[],_=0;for(A in o)m[_++]=o[A];return m}function Ra(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(p(o)||typeof o=="string"){var m=[];o=o.length;for(var _=0;_<o;_++)m.push(_);return m}m=[],_=0;for(const A in o)m[_++]=A;return m}}}function Bs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(p(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var _=Ra(o),A=Oc(o),L=A.length,G=0;G<L;G++)m.call(void 0,A[G],_&&_[G],o)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nc(o,m){if(o){o=o.split("&");for(var _=0;_<o.length;_++){var A=o[_].indexOf("="),L=null;if(0<=A){var G=o[_].substring(0,A);L=o[_].substring(A+1)}else G=o[_];m(G,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function me(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof me){this.h=o.h,Lr(this,o.j),this.o=o.o,this.g=o.g,ji(this,o.s),this.l=o.l;var m=o.i,_=new fi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),hi(this,_),this.m=o.m}else o&&(m=String(o).match(Ur))?(this.h=!1,Lr(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),ji(this,m[4]),this.l=mn(m[5]||"",!0),hi(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}me.prototype.toString=function(){var o=[],m=this.j;m&&o.push(zr(m,qs,!0),":");var _=this.g;return(_||m=="file")&&(o.push("//"),(m=this.o)&&o.push(zr(m,qs,!0),"@"),o.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&o.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&o.push("/"),o.push(zr(_,_.charAt(0)=="/"?Mc:Hs,!0))),(_=this.i.toString())&&o.push("?",_),(_=this.m)&&o.push("#",zr(_,wa)),o.join("")};function rn(o){return new me(o)}function Lr(o,m,_){o.j=_?mn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function ji(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function hi(o,m,_){m instanceof fi?(o.i=m,Eu(o.i,o.h)):(_||(m=zr(m,xc)),o.i=new fi(m,o.h))}function Ft(o,m,_){o.i.set(m,_)}function Pr(o){return Ft(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function mn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function zr(o,m,_){return typeof o=="string"?(o=encodeURI(o).replace(m,vu),_&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function vu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qs=/[#\/\?@]/g,Hs=/[#\?:]/g,Mc=/[#\?]/g,xc=/[#\?@]/g,wa=/#/g;function fi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function gn(o){o.g||(o.g=new Map,o.h=0,o.i&&Nc(o.i,function(m,_){o.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=fi.prototype,a.add=function(o,m){gn(this),this.i=null,o=Bn(this,o);var _=this.g.get(o);return _||this.g.set(o,_=[]),_.push(m),this.h+=1,this};function di(o,m){gn(o),m=Bn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function mi(o,m){return gn(o),m=Bn(o,m),o.g.has(m)}a.forEach=function(o,m){gn(this),this.g.forEach(function(_,A){_.forEach(function(L){o.call(m,L,A,this)},this)},this)},a.na=function(){gn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const L=o[A];for(let G=0;G<L.length;G++)_.push(m[A])}return _},a.V=function(o){gn(this);let m=[];if(typeof o=="string")mi(this,o)&&(m=m.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let _=0;_<o.length;_++)m=m.concat(o[_])}return m},a.set=function(o,m){return gn(this),this.i=null,o=Bn(this,o),mi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function js(o,m,_){di(o,m),0<_.length&&(o.i=null,o.g.set(Bn(o,m),J(_)),o.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const G=encodeURIComponent(String(A)),it=this.V(A);for(A=0;A<it.length;A++){var L=G;it[A]!==""&&(L+="="+encodeURIComponent(String(it[A]))),o.push(L)}}return this.i=o.join("&")};function Bn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Eu(o,m){m&&!o.j&&(gn(o),o.i=null,o.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(di(this,A),js(this,L,_))},o)),o.j=m}function kr(o,m){const _=new dn;if(g.Image){const A=new Image;A.onload=P(pn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=P(pn,_,"TestLoadImage: error",!1,m,A),A.onabort=P(pn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=P(pn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=o}else m(!1)}function Vn(o,m){const _=new dn,A=new AbortController,L=setTimeout(()=>{A.abort(),pn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:A.signal}).then(G=>{clearTimeout(L),G.ok?pn(_,"TestPingServer: ok",!0,m):pn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),pn(_,"TestPingServer: error",!1,m)})}function pn(o,m,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function Br(){this.g=new Or}function qn(o,m,_){const A=_||"";try{Bs(o,function(L,G){let it=L;y(L)&&(it=Cn(L)),m.push(A+G+"="+encodeURIComponent(it))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function Gi(o){this.l=o.Ub||null,this.j=o.eb||!1}k(Gi,Os),Gi.prototype.g=function(){return new gi(this.l,this.j)},Gi.prototype.i=function(o){return function(){return o}}({});function gi(o,m){se.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(gi,se),a=gi.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,jn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Hn(this):jn(this),this.readyState==3&&Gs(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,Hn(this))},a.Qa=function(o){this.g&&(this.response=o,Hn(this))},a.ga=function(){this.g&&Hn(this)};function Hn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,jn(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,o.push(_[0]+": "+_[1]),_=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Fs(o){let m="";return wt(o,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ce(o,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Fs(_),typeof o=="string"?_!=null&&encodeURIComponent(String(_)):Ft(o,m,_))}function Bt(o){se.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Bt,se);var Ca=/^https?$/i,qr=["POST","PUT"];a=Bt.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Ns(this.o):Ns(Pn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(G){Tu(this,G);return}if(o=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qr,m,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,it]of _)this.g.setRequestHeader(G,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(o),this.u=!1}catch(G){Tu(this,G)}};function Tu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Da(o),Gn(o)}function Da(o){o.A||(o.A=!0,Ht(o,"complete"),Ht(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ht(this,"complete"),Ht(this,"abort"),Gn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),Bt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},a.bb=function(){Va(this)};function Va(o){if(o.h&&typeof d<"u"&&(!o.v[1]||yn(o)!=4||o.Z()!=2)){if(o.u&&yn(o)==4)He(o.Ea,0,o);else if(Ht(o,"readystatechange"),yn(o)==4){o.h=!1;try{const it=o.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=it===0){var L=String(o.D).match(Ur)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),A=!Ca.test(L?L.toLowerCase():"")}_=A}if(_)Ht(o,"complete"),Ht(o,"success");else{o.m=6;try{var G=2<yn(o)?o.g.statusText:""}catch{G=""}o.l=G+" ["+o.Z()+"]",Da(o)}}finally{Gn(o)}}}}function Gn(o,m){if(o.g){Hr(o);const _=o.g,A=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Ht(o,"ready");try{_.onreadystatechange=A}catch{}}}function Hr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function yn(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),va(m)}};function Au(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Uc(o){const m={};o=(o.g&&2<=yn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<o.length;A++){if(rt(o[A]))continue;var _=M(o[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=m[L]||[];m[L]=G,G.push(_)}N(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(o,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[o]||m}function Ia(o){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,o),this.cb=jr("retryDelaySeedMs",1e4,o),this.Wa=jr("forwardChannelMaxRetries",2,o),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(o&&o.concurrentRequestLimit),this.Da=new Br,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ia.prototype,a.la=8,a.G=1,a.connect=function(o,m,_,A){Jt(0),this.W=o,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Vu(this,null,this.W),Na(this)};function Qs(o){if(Su(o),o.G==3){var m=o.U++,_=rn(o.I);if(Ft(_,"SID",o.K),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),Gr(o,_),m=new Ke(o,o.j,m),m.L=2,m.v=Pr(rn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Iu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Mr(m)}Du(o)}function Oa(o){o.g&&(Fr(o),o.g.cancel(),o.g=null)}function Su(o){Oa(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ma(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Na(o){if(!Aa(o.h)&&!o.s){o.s=!0;var m=o.Ga;at||V(),ht||(at(),ht=!0),zt.add(m,o),o.B=0}}function Lc(o,m){return Sa(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=de(D(o.Ga,o,m),Xs(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Ke(this,this.j,o);let G=this.o;if(this.S&&(G?(G=S(G),O(G,this.S)):G=this.S),this.m!==null||this.O||(L.H=G,G=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=bu(this,L,m),_=rn(this.I),Ft(_,"RID",o),Ft(_,"CVER",22),this.D&&Ft(_,"X-HTTP-Session-Id",this.D),Gr(this,_),G&&(this.O?m="headers="+encodeURIComponent(String(Fs(G)))+"&"+m:this.m&&Ce(_,this.m,G)),ba(this.h,L),this.Ua&&Ft(_,"TYPE","init"),this.P?(Ft(_,"$req",m),Ft(_,"SID","null"),L.T=!0,Dn(L,_,null)):Dn(L,_,m),this.G=2}}else this.G==3&&(o?Ys(this,o):this.i.length==0||Aa(this.h)||Ys(this))};function Ys(o,m){var _;m?_=m.l:_=o.U++;const A=rn(o.I);Ft(A,"SID",o.K),Ft(A,"RID",_),Ft(A,"AID",o.T),Gr(o,A),o.m&&o.o&&Ce(A,o.m,o.o),_=new Ke(o,o.j,_,o.B+1),o.m===null&&(_.H=o.o),m&&(o.i=m.D.concat(o.i)),m=bu(o,_,1e3),_.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ba(o.h,_),Dn(_,A,m)}function Gr(o,m){o.H&&wt(o.H,function(_,A){Ft(m,A,_)}),o.l&&Bs({},function(_,A){Ft(m,A,_)})}function bu(o,m,_){_=Math.min(o.i.length,_);var A=o.l?D(o.l.Na,o.l,o):null;t:{var L=o.i;let G=-1;for(;;){const it=["count="+_];G==-1?0<_?(G=L[0].g,it.push("ofs="+G)):G=0:it.push("ofs="+G);let Nt=!0;for(let ve=0;ve<_;ve++){let Mt=L[ve].g;const De=L[ve].map;if(Mt-=G,0>Mt)G=Math.max(0,L[ve].g-100),Nt=!1;else try{qn(De,it,"req"+Mt+"_")}catch{A&&A(De)}}if(Nt){A=it.join("&");break t}}}return o=o.i.splice(0,_),m.D=o,A}function Ru(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;at||V(),ht||(at(),ht=!0),zt.add(m,o),o.v=0}}function Ks(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=de(D(o.Fa,o),Xs(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=de(D(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Oa(this),wu(this))};function Fr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function wu(o){o.g=new Ke(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=rn(o.qa);Ft(m,"RID","rpc"),Ft(m,"SID",o.K),Ft(m,"AID",o.T),Ft(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ft(m,"TO",o.ja),Ft(m,"TYPE","xmlhttp"),Gr(o,m),o.m&&o.o&&Ce(m,o.m,o.o),o.L&&(o.g.I=o.L);var _=o.g;o=o.ia,_.L=1,_.v=Pr(rn(m)),_.m=null,_.P=!0,oi(_,o)}a.Za=function(){this.C!=null&&(this.C=null,Oa(this),Ks(this),Jt(19))};function Ma(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Cu(o,m){var _=null;if(o.g==m){Ma(o),Fr(o),o.g=null;var A=2}else if(zs(o.h,m))_=m.D,Xe(o.h,m),A=1;else return;if(o.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;A=zi(),Ht(A,new _e(A,_)),Na(o)}else Ru(o);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&Lc(o,m)||A==2&&Ks(o)))switch(_&&0<_.length&&(m=o.h,m.i=m.i.concat(_)),L){case 1:pi(o,5);break;case 4:pi(o,10);break;case 3:pi(o,6);break;default:pi(o,2)}}}function Xs(o,m){let _=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(_*=2),_*m}function pi(o,m){if(o.j.info("Error code "+m),m==2){var _=D(o.fb,o),A=o.Xa;const L=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Lr(A,"https"),Pr(A),L?kr(A.toString(),_):Vn(A.toString(),_)}else Jt(2);o.G=0,o.l&&o.l.sa(m),Du(o),Su(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Du(o){if(o.G=0,o.ka=[],o.l){const m=ks(o.h);(m.length!=0||o.i.length!=0)&&(j(o.ka,m),j(o.ka,o.i),o.h.i.length=0,J(o.i),o.i.length=0),o.l.ra()}}function Vu(o,m,_){var A=_ instanceof me?rn(_):new me(_);if(A.g!="")m&&(A.g=m+"."+A.g),ji(A,A.s);else{var L=g.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var G=new me(null);A&&Lr(G,A),m&&(G.g=m),L&&ji(G,L),_&&(G.l=_),A=G}return _=o.D,m=o.ya,_&&m&&Ft(A,_,m),Ft(A,"VER",o.la),Gr(o,A),A}function Iu(o,m,_){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Bt(new Gi({eb:_})):new Bt(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}a=Ou.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function xa(){}xa.prototype.g=function(o,m){return new $e(o,m)};function $e(o,m){se.call(this),this.g=new Ia(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!rt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!rt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}k($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Qs(this.g)},$e.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var _={};_.__data__=o,o=_}else this.u&&(_={},_.__data__=Cn(o),o=_);m.i.push(new _u(m.Ya++,o)),m.G==3&&Na(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,$e.aa.N.call(this)};function Nu(o){li.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const _ in m){o=_;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}k(Nu,li);function Mu(){xs.call(this),this.status=1}k(Mu,xs);function Fn(o){this.g=o}k(Fn,Ou),Fn.prototype.ua=function(){Ht(this.g,"a")},Fn.prototype.ta=function(o){Ht(this.g,new Nu(o))},Fn.prototype.sa=function(o){Ht(this.g,new Mu)},Fn.prototype.ra=function(){Ht(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,fv=function(){return new xa},hv=function(){return zi()},cv=Ln,Jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,jo=qi,ui.COMPLETE="complete",ov=ui,Ms.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",se.prototype.listen=se.prototype.K,Bl=Ms,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,uv=Bt}).apply(typeof Lo<"u"?Lo:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore",Py="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new ev("@firebase/firestore");function os(){return oa.logLevel}function lt(a,...e){if(oa.logLevel<=Lt.DEBUG){const i=e.map(Ad);oa.debug(`Firestore (${bs}): ${a}`,...i)}}function Ui(a,...e){if(oa.logLevel<=Lt.ERROR){const i=e.map(Ad);oa.error(`Firestore (${bs}): ${a}`,...i)}}function gs(a,...e){if(oa.logLevel<=Lt.WARN){const i=e.map(Ad);oa.warn(`Firestore (${bs}): ${a}`,...i)}}function Ad(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,dv(a,s,i)}function dv(a,e,i){let s=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ui(s),new Error(s)}function qt(a,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,a||dv(e,u,s)}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class R1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class w1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const u=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new pr,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const p=h;e.enqueueRetryable(async()=>{await p.promise,await u(this.currentUser)})},g=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new pr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new mv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class C1{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D1{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new C1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,o1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new zy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=I1(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Rt(a,e){return a<e?-1:a>e?1:0}function Wf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),u=e.codePointAt(i);if(s!==u){if(s<128&&u<128)return Rt(s,u);{const h=gv(),d=O1(h.encode(ky(a,i)),h.encode(ky(e,i)));return d!==0?d:Rt(s,u)}}i+=s>65535?2:1}return Rt(a.length,e.length)}function ky(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function O1(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Rt(a[i],e[i]);return Rt(a.length,e.length)}function ps(a,e,i){return a.length===e.length&&a.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-62135596800,qy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*qy);return new be(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new dt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<By)throw new dt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qy}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-By;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new be(0,0))}static max(){return new Tt(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="__name__";class Jn{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=Jn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const s=Jn.isNumericId(e),u=Jn.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):Wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class ee extends Jn{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new dt(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const N1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Jn{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return N1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hy}static keyField(){return new Be([Hy])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new dt(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new dt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[u+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new dt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(ee.fromString(e))}static fromName(e){return new gt(ee.fromString(e).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function M1(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=Tt.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new _r(u,gt.empty(),e)}function x1(a){return new _r(a.readTime,a.key,Zl)}class _r{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new _r(Tt.min(),gt.empty(),Zl)}static max(){return new _r(Tt.max(),gt.empty(),Zl)}}function U1(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Rt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(a){if(a.code!==tt.FAILED_PRECONDITION||a.message!==L1)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,s)=>{i(e)})}static reject(e){return new Z((i,s)=>{s(e)})}static waitFor(e){return new Z((i,s)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},p=>s(p))}),d=!0,h===u&&i()})}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next(u=>u?Z.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new Z((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const y=p;i(e[y]).next(T=>{d[y]=T,++g,g===h&&s(d)},T=>u(T))}})}static doWhile(e,i){return new Z((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function z1(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}mc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=-1;function gc(a){return a==null}function Wo(a){return a===0&&1/a==-1/0}function k1(a){return typeof a=="number"&&Number.isInteger(a)&&!Wo(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="";function B1(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=jy(e)),e=q1(a.get(i),e);return jy(e)}function q1(a,e){let i=e;const s=a.length;for(let u=0;u<s;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case yv:i+="";break;default:i+=h}}return i}function jy(a){return a+yv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function da(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function _v(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Po(this.root,e,this.comparator,!1)}getReverseIterator(){return new Po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Po(this.root,e,this.comparator,!0)}}class Po{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=u??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new ke(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ke.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(e){return new Fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Mn([])}unionWith(e){let i=new Re(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new vv("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const H1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const i=H1.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Er(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="server_timestamp",Tv="__type__",Av="__previous_value__",Sv="__local_write_time__";function bd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tv])===null||i===void 0?void 0:i.stringValue)===Ev}function pc(a){const e=a.mapValue.fields[Av];return bd(e)?pc(e):e}function Jl(a){const e=vr(a.mapValue.fields[Sv].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,i,s,u,h,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const tc="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="__type__",G1="__max__",zo={mapValue:{}},Rv="__vector__",ec="value";function Tr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?bd(a)?4:Q1(a)?9007199254740991:F1(a)?10:11:vt(28295,{value:a})}function ei(a,e){if(a===e)return!0;const i=Tr(a);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Jl(a).isEqual(Jl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=vr(u.timestampValue),g=vr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(u,h){return Er(u.bytesValue).isEqual(Er(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,h){return fe(u.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(u.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return fe(u.integerValue)===fe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=fe(u.doubleValue),g=fe(h.doubleValue);return d===g?Wo(d)===Wo(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return ps(a.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Gy(d)!==Gy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ei(d[p],g[p])))return!1;return!0}(a,e);default:return vt(52216,{left:a})}}function tu(a,e){return(a.values||[]).find(i=>ei(i,e))!==void 0}function ys(a,e){if(a===e)return 0;const i=Tr(a),s=Tr(e);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),p=fe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,e);case 3:return Qy(a.timestampValue,e.timestampValue);case 4:return Qy(Jl(a),Jl(e));case 5:return Wf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Er(h),p=Er(d);return g.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Rt(g[y],p[y]);if(T!==0)return T}return Rt(g.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Rt(fe(h.latitude),fe(d.latitude));return g!==0?g:Rt(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Yy(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,p,y,T;const b=h.fields||{},D=d.fields||{},P=(g=b[ec])===null||g===void 0?void 0:g.arrayValue,k=(p=D[ec])===null||p===void 0?void 0:p.arrayValue,J=Rt(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((T=k==null?void 0:k.values)===null||T===void 0?void 0:T.length)||0);return J!==0?J:Yy(P,k)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===zo.mapValue&&d===zo.mapValue)return 0;if(h===zo.mapValue)return 1;if(d===zo.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const D=Wf(p[b],T[b]);if(D!==0)return D;const P=ys(g[p[b]],y[T[b]]);if(P!==0)return P}return Rt(p.length,T.length)}(a.mapValue,e.mapValue);default:throw vt(23264,{Pe:i})}}function Qy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Rt(a,e);const i=vr(a),s=vr(e),u=Rt(i.seconds,s.seconds);return u!==0?u:Rt(i.nanos,s.nanos)}function Yy(a,e){const i=a.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=ys(i[u],s[u]);if(h)return h}return Rt(i.length,s.length)}function _s(a){return td(a)}function td(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=vr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Er(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=td(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${td(i.fields[d])}`;return u+"}"}(a.mapValue):vt(61005,{value:a})}function Go(a){switch(Tr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(a);return e?16+Go(e):16;case 5:return 2*a.stringValue.length;case 6:return Er(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Go(h),0)}(a.arrayValue);case 10:case 11:return function(s){let u=0;return da(s.fields,(h,d)=>{u+=h.length+Go(d)}),u}(a.mapValue);default:throw vt(13486,{value:a})}}function ed(a){return!!a&&"integerValue"in a}function Rd(a){return!!a&&"arrayValue"in a}function Ky(a){return!!a&&"nullValue"in a}function Xy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Fo(a){return!!a&&"mapValue"in a}function F1(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[bv])===null||i===void 0?void 0:i.stringValue)===Rv}function jl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return da(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=jl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function Q1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===G1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Fo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=Be.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=jl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Fo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Fo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){da(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new Rn(jl(this.value))}}function wv(a){const e=[];return da(a.fields,(i,s)=>{const u=new Be([i]);if(Fo(s)){const h=wv(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,Tt.min(),Tt.min(),Tt.min(),Rn.empty(),0)}static newFoundDocument(e,i,s,u){return new Ye(e,1,i,Tt.min(),s,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,Tt.min(),Tt.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,Tt.min(),Tt.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.position=e,this.inclusive=i}}function $y(a,e,i){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],d=a.position[u];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=ys(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ei(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function Y1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{}class Se extends Cv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new X1(e,i,s):i==="array-contains"?new J1(e,s):i==="in"?new W1(e,s):i==="not-in"?new tb(e,s):i==="array-contains-any"?new eb(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new $1(e,s):new Z1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ys(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(ys(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends Cv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ni(e,i)}matches(e){return Dv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Dv(a){return a.op==="and"}function Vv(a){return K1(a)&&Dv(a)}function K1(a){for(const e of a.filters)if(e instanceof ni)return!1;return!0}function nd(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+_s(a.value);if(Vv(a))return a.filters.map(e=>nd(e)).join(",");{const e=a.filters.map(i=>nd(i)).join(",");return`${a.op}(${e})`}}function Iv(a,e){return a instanceof Se?function(s,u){return u instanceof Se&&s.op===u.op&&s.field.isEqual(u.field)&&ei(s.value,u.value)}(a,e):a instanceof ni?function(s,u){return u instanceof ni&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,g)=>h&&Iv(d,u.filters[g]),!0):!1}(a,e):void vt(19439)}function Ov(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${_s(i.value)}`}(a):a instanceof ni?function(i){return i.op.toString()+" {"+i.getFilters().map(Ov).join(" ,")+"}"}(a):"Filter"}class X1 extends Se{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class $1 extends Se{constructor(e,i){super(e,"in",i),this.keys=Nv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Z1 extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Nv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Nv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class J1 extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Rd(i)&&tu(i.arrayValue,this.value)}}class W1 extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&tu(this.value.arrayValue,i)}}class tb extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!tu(this.value.arrayValue,i)}}class eb extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Rd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>tu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Jy(a,e=null,i=[],s=[],u=null,h=null,d=null){return new nb(a,e,i,s,u,h,d)}function wd(a){const e=At(a);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>nd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>_s(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>_s(s)).join(",")),e.Ie=i}return e.Ie}function Cd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Y1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Iv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Zy(a.startAt,e.startAt)&&Zy(a.endAt,e.endAt)}function id(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ib(a,e,i,s,u,h,d,g){return new yc(a,e,i,s,u,h,d,g)}function Dd(a){return new yc(a)}function Wy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function rb(a){return a.collectionGroup!==null}function Gl(a){const e=At(a);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new ic(h,s))}),i.has(Be.keyField().canonicalString())||e.Ee.push(new ic(Be.keyField(),s))}return e.Ee}function Wn(a){const e=At(a);return e.de||(e.de=ab(e,Gl(a))),e.de}function ab(a,e){if(a.limitType==="F")return Jy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new ic(u.field,h)});const i=a.endAt?new nc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new nc(a.startAt.position,a.startAt.inclusive):null;return Jy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function rd(a,e,i){return new yc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function _c(a,e){return Cd(Wn(a),Wn(e))&&a.limitType===e.limitType}function Mv(a){return`${wd(Wn(a))}|lt:${a.limitType}`}function cs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Ov(u)).join(", ")}]`),gc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>_s(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>_s(u)).join(",")),`Target(${s})`}(Wn(a))}; limitType=${a.limitType})`}function vc(a,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,u){for(const h of Gl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(a,e)&&function(s,u){return!(s.startAt&&!function(d,g,p){const y=$y(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Gl(s),u)||s.endAt&&!function(d,g,p){const y=$y(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Gl(s),u))}(a,e)}function sb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function xv(a){return(e,i)=>{let s=!1;for(const u of Gl(a)){const h=lb(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function lb(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,g){const p=d.data.field(h),y=g.data.field(h);return p!==null&&y!==null?ys(p,y):vt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return _v(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new re(gt.comparator);function Li(){return ub}const Uv=new re(gt.comparator);function ql(...a){let e=Uv;for(const i of a)e=e.insert(i.key,i);return e}function Lv(a){let e=Uv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ua(){return Fl()}function Pv(){return Fl()}function Fl(){return new ma(a=>a.toString(),(a,e)=>a.isEqual(e))}const ob=new re(gt.comparator),cb=new Re(gt.comparator);function Ot(...a){let e=cb;for(const i of a)e=e.add(i);return e}const hb=new Re(Rt);function fb(){return hb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wo(e)?"-0":e}}function zv(a){return{integerValue:""+a}}function db(a,e){return k1(e)?zv(e):Vd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function mb(a,e,i){return a instanceof rc?function(u,h){const d={fields:{[Tv]:{stringValue:Ev},[Sv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&bd(h)&&(h=pc(h)),h&&(d.fields[Av]=h),{mapValue:d}}(i,e):a instanceof eu?Bv(a,e):a instanceof nu?qv(a,e):function(u,h){const d=kv(u,h),g=t_(d)+t_(u.Re);return ed(d)&&ed(u.Re)?zv(g):Vd(u.serializer,g)}(a,e)}function gb(a,e,i){return a instanceof eu?Bv(a,e):a instanceof nu?qv(a,e):i}function kv(a,e){return a instanceof ac?function(s){return ed(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class rc extends Ec{}class eu extends Ec{constructor(e){super(),this.elements=e}}function Bv(a,e){const i=Hv(e);for(const s of a.elements)i.some(u=>ei(u,s))||i.push(s);return{arrayValue:{values:i}}}class nu extends Ec{constructor(e){super(),this.elements=e}}function qv(a,e){let i=Hv(e);for(const s of a.elements)i=i.filter(u=>!ei(u,s));return{arrayValue:{values:i}}}class ac extends Ec{constructor(e,i){super(),this.serializer=e,this.Re=i}}function t_(a){return fe(a.integerValue||a.doubleValue)}function Hv(a){return Rd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function pb(a,e){return a.field.isEqual(e.field)&&function(s,u){return s instanceof eu&&u instanceof eu||s instanceof nu&&u instanceof nu?ps(s.elements,u.elements,ei):s instanceof ac&&u instanceof ac?ei(s.Re,u.Re):s instanceof rc&&u instanceof rc}(a.transform,e.transform)}class yb{constructor(e,i){this.version=e,this.transformResults=i}}class Ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qo(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Tc{}function jv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Fv(a.key,Ni.none()):new su(a.key,a.data,Ni.none());{const i=a.data,s=Rn.empty();let u=new Re(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new ga(a.key,s,new Mn(u.toArray()),Ni.none())}}function _b(a,e,i){a instanceof su?function(u,h,d){const g=u.value.clone(),p=n_(u.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof ga?function(u,h,d){if(!Qo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=n_(u.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(Gv(u)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Ql(a,e,i,s){return a instanceof su?function(h,d,g,p){if(!Qo(h.precondition,d))return g;const y=h.value.clone(),T=i_(h.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof ga?function(h,d,g,p){if(!Qo(h.precondition,d))return g;const y=i_(h.fieldTransforms,p,d),T=d.data;return T.setAll(Gv(h)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(b=>b.field))}(a,e,i,s):function(h,d,g){return Qo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function vb(a,e){let i=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),h=kv(s.transform,u||null);h!=null&&(i===null&&(i=Rn.empty()),i.set(s.field,h))}return i||null}function e_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&ps(s,u,(h,d)=>pb(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class su extends Tc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ga extends Tc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Gv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function n_(a,e,i){const s=new Map;qt(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let u=0;u<i.length;u++){const h=a[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,gb(d,g,i[u]))}return s}function i_(a,e,i){const s=new Map;for(const u of a){const h=u.transform,d=i.data.field(u.field);s.set(u.field,mb(h,d,e))}return s}class Fv extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eb extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&_b(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Ql(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Ql(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Pv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const p=jv(d,g);p!==null&&s.set(u.key,p),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ot())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(i,s)=>e_(i,s))&&ps(this.baseMutations,e.baseMutations,(i,s)=>e_(i,s))}}class Id{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){qt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let u=function(){return ob}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new Id(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function bb(a){switch(a){case tt.OK:return vt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return vt(15467,{code:a})}}function Qv(a){if(a===void 0)return Ui("GRPC error has no .code"),tt.UNKNOWN;switch(a){case ye.OK:return tt.OK;case ye.CANCELLED:return tt.CANCELLED;case ye.UNKNOWN:return tt.UNKNOWN;case ye.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case ye.INTERNAL:return tt.INTERNAL;case ye.UNAVAILABLE:return tt.UNAVAILABLE;case ye.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case ye.NOT_FOUND:return tt.NOT_FOUND;case ye.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case ye.ABORTED:return tt.ABORTED;case ye.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case ye.DATA_LOSS:return tt.DATA_LOSS;default:return vt(39323,{code:a})}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new gr([4294967295,4294967295],0);function r_(a){const e=gv().encode(a),i=new lv;return i.update(e),new Uint8Array(i.digest())}function a_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new gr([i,s],0),new gr([u,h],0)]}class Od{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Hl(`Invalid padding: ${i}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=gr.fromNumber(this.pe)}we(e,i,s){let u=e.add(i.multiply(gr.fromNumber(s)));return u.compare(Rb)===1&&(u=new gr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=r_(e),[s,u]=a_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);if(!this.be(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Od(h,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=r_(e),[s,u]=a_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ac(Tt.min(),u,new re(Rt),Li(),Ot())}}class lu{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new lu(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,i,s,u){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=u}}class Yv{constructor(e,i){this.targetId=e,this.Ce=i}}class Kv{constructor(e,i,s=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class s_{constructor(){this.Fe=0,this.Me=l_(),this.xe=qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ot(),i=Ot(),s=Ot();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:vt(38017,{changeType:h})}}),new lu(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=l_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class wb{constructor(e){this.ze=e,this.je=new Map,this.He=Li(),this.Je=ko(),this.Ye=ko(),this.Ze=new re(Rt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,s=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(id(h))if(s===0){const d=new gt(h.path);this.tt(i,d,Ye.newNoDocument(d,Tt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),p=g?this.lt(g,e,d):1;if(p!==0){this.st(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Er(s).toUint8Array()}catch(p){if(p instanceof vv)return gs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Od(d,u,h)}catch(p){return gs(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&id(g.target)){const p=new gt(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Ye.newNoDocument(p,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Ot();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new Ac(e,i,this.Ze,this.He,s);return this.He=Li(),this.Je=ko(),this.Ye=ko(),this.Ze=new re(Rt),u}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new s_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Re(Rt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Re(Rt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new s_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function ko(){return new re(gt.comparator)}function l_(){return new re(gt.comparator)}const Cb={asc:"ASCENDING",desc:"DESCENDING"},Db={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vb={and:"AND",or:"OR"};class Ib{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ad(a,e){return a.useProto3Json||gc(e)?e:{value:e}}function sc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Ob(a,e){return sc(a,e.toTimestamp())}function ti(a){return qt(!!a,49232),Tt.fromTimestamp(function(i){const s=vr(i);return new be(s.seconds,s.nanos)}(a))}function Nd(a,e){return sd(a,e).canonicalString()}function sd(a,e){const i=function(u){return new ee(["projects",u.projectId,"databases",u.database])}(a).child("documents");return e===void 0?i:i.child(e)}function $v(a){const e=ee.fromString(a);return qt(e0(e),10190,{key:e.toString()}),e}function ld(a,e){return Nd(a.databaseId,e.path)}function Bf(a,e){const i=$v(e);if(i.get(1)!==a.databaseId.projectId)throw new dt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new dt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(Jv(i))}function Zv(a,e){return Nd(a.databaseId,e)}function Nb(a){const e=$v(a);return e.length===4?ee.emptyPath():Jv(e)}function ud(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Jv(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function u_(a,e,i){return{name:ld(a,e),fields:i.value.mapValue.fields}}function Mb(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(y,T){return y.useProto3Json?(qt(T===void 0||typeof T=="string",58123),qe.fromBase64String(T||"")):(qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),qe.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const T=y.code===void 0?tt.UNKNOWN:Qv(y.code);return new dt(T,y.message||"")}(d);i=new Kv(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Bf(a,s.document.name),h=ti(s.document.updateTime),d=s.document.createTime?ti(s.document.createTime):Tt.min(),g=new Rn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(u,h,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];i=new Yo(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Bf(a,s.document),h=s.readTime?ti(s.readTime):Tt.min(),d=Ye.newNoDocument(u,h),g=s.removedTargetIds||[];i=new Yo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Bf(a,s.document),h=s.removedTargetIds||[];i=new Yo([],h,u,null)}else{if(!("filter"in e))return vt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new Sb(u,h),g=s.targetId;i=new Yv(g,d)}}return i}function xb(a,e){let i;if(e instanceof su)i={update:u_(a,e.key,e.value)};else if(e instanceof Fv)i={delete:ld(a,e.key)};else if(e instanceof ga)i={update:u_(a,e.key,e.data),updateMask:jb(e.fieldMask)};else{if(!(e instanceof Eb))return vt(16599,{ft:e.type});i={verify:ld(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ac)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw vt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:Ob(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)}(a,e.precondition)),i}function Ub(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map(i=>function(u,h){let d=u.updateTime?ti(u.updateTime):ti(h);return d.isEqual(Tt.min())&&(d=ti(h)),new yb(d,u.transformResults||[])}(i,e))):[]}function Lb(a,e){return{documents:[Zv(a,e.path)]}}function Pb(a,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Zv(a,u);const h=function(y){if(y.length!==0)return t0(ni.create(y,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(y){if(y.length!==0)return y.map(T=>function(D){return{field:hs(D.field),direction:Bb(D.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ad(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:i,parent:u}}function zb(a){let e=Nb(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){qt(s===1,65062);const T=i.from[0];T.allDescendants?u=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(b){const D=Wv(b);return D instanceof ni&&Vv(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(D=>function(k){return new ic(fs(k.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(b){let D;return D=typeof b=="object"?b.value:b,gc(D)?null:D}(i.limit));let p=null;i.startAt&&(p=function(b){const D=!!b.before,P=b.values||[];return new nc(P,D)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const D=!b.before,P=b.values||[];return new nc(P,D)}(i.endAt)),ib(e,u,d,h,g,"F",p,y)}function kb(a,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Wv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=fs(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=fs(i.unaryFilter.field);return Se.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=fs(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fs(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(a):a.fieldFilter!==void 0?function(i){return Se.create(fs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ni.create(i.compositeFilter.filters.map(s=>Wv(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(a):vt(30097,{filter:a})}function Bb(a){return Cb[a]}function qb(a){return Db[a]}function Hb(a){return Vb[a]}function hs(a){return{fieldPath:a.canonicalString()}}function fs(a){return Be.fromServerFormat(a.fieldPath)}function t0(a){return a instanceof Se?function(i){if(i.op==="=="){if(Xy(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NAN"}};if(Ky(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Xy(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NOT_NAN"}};if(Ky(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(i.field),op:qb(i.op),value:i.value}}}(a):a instanceof ni?function(i){const s=i.getFilters().map(u=>t0(u));return s.length===1?s[0]:{compositeFilter:{op:Hb(i.op),filters:s}}}(a):vt(54877,{filter:a})}function jb(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function e0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,i,s,u,h=Tt.min(),d=Tt.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.wt=e}}function Fb(a){const e=zb({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.yn=new Yb}addToCollectionParentIndex(e,i){return this.yn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.yn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(_r.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Yb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Re(ee.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Re(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n0=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(n0,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new vs(0)}static ir(){return new vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="LruGarbageCollector",Kb=1048576;function h_([a,e],[i,s]){const u=Rt(a,i);return u===0?Rt(e,s):u}class Xb{constructor(e){this.cr=e,this.buffer=new Re(h_),this.lr=0}hr(){return++this.lr}Pr(e){const i=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();h_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $b{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){lt(c_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?lt(c_,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.Ir(3e5)})}}class Zb{constructor(e,i){this.Er=e,this.params=i}calculateTargetCount(e,i){return this.Er.dr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(mc.le);const s=new Xb(i);return this.Er.forEachTarget(e,u=>s.Pr(u.sequenceNumber)).next(()=>this.Er.Ar(e,u=>s.Pr(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Er.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Er.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(o_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.Rr(e,i))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,i){let s,u,h,d,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,d=Date.now(),this.nthSequenceNumber(e,u))).next(b=>(s=b,g=Date.now(),this.removeTargets(e,s,i))).next(b=>(h=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),os()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:b})))}}function Jb(a,e){return new Zb(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.changes=new ma(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&Ql(s.mutation,u,Mn.empty(),be.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Ot()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Ot()){const u=ua();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=ql();return h.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ua();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Ot()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let h=Li();const d=Fl(),g=function(){return Fl()}();return i.forEach((p,y)=>{const T=s.get(y.key);u.has(y.key)&&(T===void 0||T.mutation instanceof ga)?h=h.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Ql(T.mutation,y,T.mutation.getFieldMask(),be.now())):d.set(y.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,h).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var b;return g.set(y,new tR(T,(b=d.get(y))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Fl();let u=new re((d,g)=>d-g),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||Mn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const b=(u.get(g.batchId)||Ot()).add(p);u=u.insert(g.batchId,b)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,b=Pv();T.forEach(D=>{if(!h.has(D)){const P=jv(i.get(D),s.get(D));P!==null&&b.set(D,P),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return Z.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):rb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Z.resolve(ua());let g=Zl,p=h;return d.next(y=>Z.forEach(y,(T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),h.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next(D=>{p=p.insert(T,D)}))).next(()=>this.populateOverlays(e,y,h)).next(()=>this.computeViews(e,p,y,Ot())).next(T=>({batchId:g,changes:Lv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let u=ql();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=ql();return this.indexManager.getCollectionParents(e,h).next(g=>Z.forEach(g,p=>{const y=function(b,D){return new yc(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,u).next(T=>{T.forEach((b,D)=>{d=d.insert(b,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ye.newInvalidDocument(T)))});let g=ql();return d.forEach((p,y)=>{const T=h.get(p);T!==void 0&&Ql(T.mutation,y,Mn.empty(),be.now()),vc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Fr.get(i))}saveBundleMetadata(e,i){return this.Fr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ti(u.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Mr.get(i))}saveNamedQuery(e,i){return this.Mr.set(i.name,function(u){return{name:u.name,query:Fb(u.bundledQuery),readTime:ti(u.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.overlays=new re(gt.comparator),this.Or=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ua();return Z.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.St(e,i,h)}),Z.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Or.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Or.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const u=ua(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&p.largestBatchId>s&&u.set(p.getKey(),p)}return Z.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new re((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=h.get(y.largestBatchId);T===null&&(T=ua(),h=h.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=ua(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=u)););return Z.resolve(g)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Or.get(u.largestBatchId).delete(s.key);this.Or.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Ab(i,s));let h=this.Or.get(i);h===void 0&&(h=Ot(),this.Or.set(i,h)),this.Or.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this.Nr=new Re(Ne.Br),this.Lr=new Re(Ne.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,i){const s=new Ne(e,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Qr(new Ne(e,i))}$r(e,i){e.forEach(s=>this.removeReference(s,i))}Ur(e){const i=new gt(new ee([])),s=new Ne(i,e),u=new Ne(i,e+1),h=[];return this.Lr.forEachInRange([s,u],d=>{this.Qr(d),h.push(d.key)}),h}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const i=new gt(new ee([])),s=new Ne(i,e),u=new Ne(i,e+1);let h=Ot();return this.Lr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ne{constructor(e,i){this.key=e,this.Gr=i}static Br(e,i){return gt.comparator(e.key,i.key)||Rt(e.Gr,i.Gr)}static kr(e,i){return Rt(e.Gr,i.Gr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Re(Ne.Br)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Tb(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.zr=this.zr.add(new Ne(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.Hr(s),h=u<0?0:u;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Sd:this.Jn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ne(i,0),u=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.zr.forEachInRange([s,u],d=>{const g=this.jr(d.Gr);h.push(g)}),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Rt);return i.forEach(u=>{const h=new Ne(u,0),d=new Ne(u,Number.POSITIVE_INFINITY);this.zr.forEachInRange([h,d],g=>{s=s.add(g.Gr)})}),Z.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new gt(h),0);let g=new Re(Rt);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===u&&(g=g.add(p.Gr)),!0)},d),Z.resolve(this.Jr(g))}Jr(e){const i=[];return e.forEach(s=>{const u=this.jr(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Z.forEach(i.mutations,u=>{const h=new Ne(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,i){const s=new Ne(i,0),u=this.zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Yr(e,i){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const i=this.Hr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.Zr=e,this.docs=function(){return new re(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=Li();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Li();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||U1(x1(T),s)<=0||(u.has(T.key)||vc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,u){vt(9500)}Xr(e,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new lR(this)}getSize(e){return Z.resolve(this.size)}}class lR extends Wb{constructor(e){super(),this.vr=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.vr.addEntry(e,u)):this.vr.removeEntry(s)}),Z.waitFor(i)}getFromCache(e,i){return this.vr.getEntry(e,i)}getAllFromCache(e,i){return this.vr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.persistence=e,this.ei=new ma(i=>wd(i),Cd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Md,this.targetCount=0,this.ri=vs.rr()}forEachTarget(e,i){return this.ei.forEach((s,u)=>i(u)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),Z.resolve()}ar(e){this.ei.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ri=new vs(i),this.highestTargetId=i),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,i){return this.ar(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.ar(i),Z.resolve()}removeTargetData(e,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ei.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Z.waitFor(h).next(()=>u)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.ei.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.ni.qr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.ni.$r(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ni.Ur(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ni.Wr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i){this.ii={},this.overlays={},this.si=new mc(0),this.oi=!1,this.oi=!0,this._i=new rR,this.referenceDelegate=e(this),this.ai=new uR(this),this.indexManager=new Qb,this.remoteDocumentCache=function(u){return new sR(u)}(s=>this.referenceDelegate.ui(s)),this.serializer=new Gb(i),this.ci=new nR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new iR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ii[e.toKey()];return s||(s=new aR(i,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const u=new oR(this.si.next());return this.referenceDelegate.li(),s(u).next(h=>this.referenceDelegate.hi(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Pi(e,i){return Z.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,i)))}}class oR extends P1{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ti=new Md,this.Ii=null}static Ei(e){return new xd(e)}get di(){if(this.Ii)return this.Ii;throw vt(60996)}addReference(e,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ti.Ur(i.targetId).forEach(u=>this.di.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.di.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}li(){this.Ii=new Set}hi(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,s=>{const u=gt.fromPath(s);return this.Ai(e,u).next(h=>{h||i.removeEntry(u,Tt.min())})}).next(()=>(this.Ii=null,i.apply(e)))}updateLimboDocument(e,i){return this.Ai(e,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(e){return 0}Ai(e,i){return Z.or([()=>Z.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Pi(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.Ri=new ma(s=>B1(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=Jb(this,i)}static Ei(e,i){return new lc(e,i)}li(){}hi(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}Vr(e){let i=0;return this.Ar(e,s=>{i++}).next(()=>i)}Ar(e,i){return Z.forEach(this.Ri,(s,u)=>this.gr(e,s,u).next(h=>h?Z.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.Xr(e,d=>this.gr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.Ri.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.Ri.set(i,e.currentSequenceNumber),Z.resolve()}ui(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Go(e.data.value)),i}gr(e,i,s){return Z.or([()=>this.persistence.Pi(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.Ri.get(i);return Z.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.ls=s,this.hs=u}static Ps(e,i){let s=Ot(),u=Ot();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ud(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return sS()?8:z1(rS())>0?6:4}()}initialize(e,i){this.As=e,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.Rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Vs(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new cR;return this.fs(e,i,d).next(g=>{if(h.result=g,this.Is)return this.gs(e,i,d,g.size)})}).next(()=>h.result)}gs(e,i,s,u){return s.documentReadCount<this.Es?(os()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Z.resolve()):(os()<=Lt.DEBUG&&lt("QueryEngine","Query:",cs(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ds*u?(os()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(i))):Z.resolve())}Rs(e,i){if(Wy(i))return Z.resolve(null);let s=Wn(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=rd(i,null,"F"),s=Wn(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Ot(...h);return this.As.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.ps(i,g);return this.ys(i,y,d,p.readTime)?this.Rs(e,rd(i,null,"F")):this.ws(e,y,i,p)}))})))}Vs(e,i,s,u){return Wy(i)||u.isEqual(Tt.min())?Z.resolve(null):this.As.getDocuments(e,s).next(h=>{const d=this.ps(i,h);return this.ys(i,d,s,u)?Z.resolve(null):(os()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),cs(i)),this.ws(e,d,i,M1(u,Zl)).next(g=>g))})}ps(e,i){let s=new Re(xv(e));return i.forEach((u,h)=>{vc(e,h)&&(s=s.add(h))}),s}ys(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}fs(e,i,s){return os()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",cs(i)),this.As.getDocumentsMatchingQuery(e,i,_r.min(),s)}ws(e,i,s,u){return this.As.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="LocalStore",fR=3e8;class dR{constructor(e,i,s,u){this.persistence=e,this.bs=i,this.serializer=u,this.Ss=new re(Rt),this.Ds=new ma(h=>wd(h),Cd),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ss))}}function mR(a,e,i,s){return new dR(a,e,i,s)}async function r0(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.Fs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let p=Ot();for(const y of u){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of h){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Ms:y,removedBatchIds:d,addedBatchIds:g}))})})}function gR(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.Cs.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const b=y.batch,D=b.keys();let P=Z.resolve();return D.forEach(k=>{P=P.next(()=>T.getEntry(p,k)).next(J=>{const j=y.docVersions.get(k);qt(j!==null,48541),J.version.compareTo(j)<0&&(b.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),T.addEntry(J)))})}),P.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Ot();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function a0(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ai.getLastRemoteSnapshotVersion(i))}function pR(a,e){const i=At(a),s=e.snapshotVersion;let u=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});u=i.Ss;const g=[];e.targetChanges.forEach((T,b)=>{const D=u.get(b);if(!D)return;g.push(i.ai.removeMatchingKeys(h,T.removedDocuments,b).next(()=>i.ai.addMatchingKeys(h,T.addedDocuments,b)));let P=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),u=u.insert(b,P),function(J,j,X){return J.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=fR?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(D,P,T)&&g.push(i.ai.updateTargetData(h,P))});let p=Li(),y=Ot();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),g.push(yR(h,d,e.documentUpdates).next(T=>{p=T.xs,y=T.Os})),!s.isEqual(Tt.min())){const T=i.ai.getLastRemoteSnapshotVersion(h).next(b=>i.ai.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(T)}return Z.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,p,y)).next(()=>p)}).then(h=>(i.Ss=u,h))}function yR(a,e,i){let s=Ot(),u=Ot();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Li();return i.forEach((g,p)=>{const y=h.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(u=u.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):lt(Ld,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{xs:d,Os:u}})}function _R(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Sd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function vR(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.ai.getTargetData(s,e).next(h=>h?(u=h,Z.resolve(u)):i.ai.allocateTargetId(s).next(d=>(u=new fr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ss.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(e,s.targetId)),s})}async function od(a,e,i){const s=At(a),u=s.Ss.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!ws(d))throw d;lt(Ld,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(u.target)}function f_(a,e,i){const s=At(a);let u=Tt.min(),h=Ot();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const b=At(p),D=b.Ds.get(T);return D!==void 0?Z.resolve(b.Ss.get(D)):b.ai.getTargetData(y,T)}(s,d,Wn(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(p=>{h=p})}).next(()=>s.bs.getDocumentsMatchingQuery(d,e,i?u:Tt.min(),i?h:Ot())).next(g=>(ER(s,sb(e),g),{documents:g,Ns:h})))}function ER(a,e,i){let s=a.vs.get(e)||Tt.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.vs.set(e,s)}class d_{constructor(){this.activeTargetIds=fb()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TR{constructor(){this.So=new d_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,i,s){this.Do[e]=i}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new d_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="ConnectivityMonitor";class g_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){lt(m_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){lt(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo=null;function cd(){return Bo===null?Bo=function(){return 268435456+Math.round(2147483648*Math.random())}():Bo++,"0x"+Bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="RestConnection",SR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bR{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+e.host,this.ko=`projects/${s}/databases/${u}`,this.qo=this.databaseId.database===tc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Qo(e,i,s,u,h){const d=cd(),g=this.$o(e,i.toUriEncodedString());lt(qf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,u,h),this.Ko(e,g,p,s).then(y=>(lt(qf,`Received RPC '${e}' ${d}: `,y),y),y=>{throw gs(qf,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Wo(e,i,s,u,h,d){return this.Qo(e,i,s,u,h)}Uo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}$o(e,i){const s=SR[e];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class wR extends bR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,i,s,u){const h=cd();return new Promise((d,g)=>{const p=new uv;p.setWithCredentials(!0),p.listenOnce(ov.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case jo.NO_ERROR:const T=p.getResponseJson();lt(Fe,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case jo.TIMEOUT:lt(Fe,`RPC '${e}' ${h} timed out`),g(new dt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case jo.HTTP_ERROR:const b=p.getStatus();if(lt(Fe,`RPC '${e}' ${h} failed with status:`,b,"response text:",p.getResponseText()),b>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D==null?void 0:D.error;if(P&&P.status&&P.message){const k=function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(X)>=0?X:tt.UNKNOWN}(P.status);g(new dt(k,P.message))}else g(new dt(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new dt(tt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{s_:e,streamId:h,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{lt(Fe,`RPC '${e}' ${h} completed.`)}});const y=JSON.stringify(u);lt(Fe,`RPC '${e}' ${h} sending request:`,u),p.send(i,"POST",y,s,15)})}a_(e,i,s){const u=cd(),h=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=fv(),g=hv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=h.join("");lt(Fe,`Creating RPC '${e}' stream ${u}: ${T}`,p);const b=d.createWebChannel(T,p);let D=!1,P=!1;const k=new RR({Go:j=>{P?lt(Fe,`Not sending because RPC '${e}' stream ${u} is closed:`,j):(D||(lt(Fe,`Opening RPC '${e}' stream ${u} transport.`),b.open(),D=!0),lt(Fe,`RPC '${e}' stream ${u} sending:`,j),b.send(j))},zo:()=>b.close()}),J=(j,X,rt)=>{j.listen(X,et=>{try{rt(et)}catch(mt){setTimeout(()=>{throw mt},0)}})};return J(b,Bl.EventType.OPEN,()=>{P||(lt(Fe,`RPC '${e}' stream ${u} transport opened.`),k.t_())}),J(b,Bl.EventType.CLOSE,()=>{P||(P=!0,lt(Fe,`RPC '${e}' stream ${u} transport closed`),k.r_())}),J(b,Bl.EventType.ERROR,j=>{P||(P=!0,gs(Fe,`RPC '${e}' stream ${u} transport errored. Name:`,j.name,"Message:",j.message),k.r_(new dt(tt.UNAVAILABLE,"The operation could not be completed")))}),J(b,Bl.EventType.MESSAGE,j=>{var X;if(!P){const rt=j.data[0];qt(!!rt,16349);const et=rt,mt=(et==null?void 0:et.error)||((X=et[0])===null||X===void 0?void 0:X.error);if(mt){lt(Fe,`RPC '${e}' stream ${u} received error:`,mt);const ot=mt.status;let wt=function(R){const O=ye[R];if(O!==void 0)return Qv(O)}(ot),N=mt.message;wt===void 0&&(wt=tt.INTERNAL,N="Unknown error status: "+ot+" with message "+mt.message),P=!0,k.r_(new dt(wt,N)),b.close()}else lt(Fe,`RPC '${e}' stream ${u} received:`,rt),k.i_(rt)}}),J(g,cv.STAT_EVENT,j=>{j.stat===Jf.PROXY?lt(Fe,`RPC '${e}' stream ${u} detected buffering proxy`):j.stat===Jf.NOPROXY&&lt(Fe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{k.n_()},0),k}}function Hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(a){return new Ib(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,i,s=1e3,u=1.5,h=6e4){this.bi=e,this.timerId=i,this.u_=s,this.c_=u,this.l_=h,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),u=Math.max(0,i-s);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,u,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="PersistentStream";class l0{constructor(e,i,s,u,h,d,g,p){this.bi=e,this.R_=s,this.V_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new s0(e,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(Ui(i.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.m_===i&&this.B_(s,u)},s=>{e(()=>{const u=new dt(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(u)})})}B_(e,i){const s=this.N_(this.m_);this.stream=this.k_(e,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(u=>{s(()=>this.L_(u))}),this.stream.onMessage(u=>{s(()=>++this.p_==1?this.q_(u):this.onNext(u))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return lt(p_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return i=>{this.bi.enqueueAndForget(()=>this.m_===e?i():(lt(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CR extends l0{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}k_(e,i){return this.connection.a_("Listen",e,i)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const i=Mb(this.serializer,e),s=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ti(d.readTime):Tt.min()}(e);return this.listener.Q_(i,s)}U_(e){const i={};i.database=ud(this.serializer),i.addTarget=function(h,d){let g;const p=d.target;if(g=id(p)?{documents:Lb(h,p)}:{query:Pb(h,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Xv(h,d.resumeToken);const y=ad(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=sc(h,d.snapshotVersion.toTimestamp());const y=ad(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=kb(this.serializer,e);s&&(i.labels=s),this.F_(i)}K_(e){const i={};i.database=ud(this.serializer),i.removeTarget=e,this.F_(i)}}class DR extends l0{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,i){return this.connection.a_("Write",e,i)}q_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const i=Ub(e.writeResults,e.commitTime),s=ti(e.commitTime);return this.listener.j_(s,i)}H_(){const e={};e.database=ud(this.serializer),this.F_(e)}G_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>xb(this.serializer,s))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{}class IR extends VR{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.J_=!1}Y_(){if(this.J_)throw new dt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,i,s,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Qo(e,sd(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new dt(tt.UNKNOWN,h.toString())})}Wo(e,i,s,u,h){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(e,sd(i,s),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(tt.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class OR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ui(i),this.ea=!1):lt("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class NR{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=h,this.ca.vo(d=>{s.enqueueAndForget(async()=>{pa(this)&&(lt(ca,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.aa.add(4),await uu(y),y.la.set("Unknown"),y.aa.delete(4),await bc(y)}(this))})}),this.la=new OR(s,u)}}async function bc(a){if(pa(a))for(const e of a.ua)await e(!0)}async function uu(a){for(const e of a.ua)await e(!1)}function u0(a,e){const i=At(a);i._a.has(e.targetId)||(i._a.set(e.targetId,e),Bd(i)?kd(i):Cs(i).b_()&&zd(i,e))}function Pd(a,e){const i=At(a),s=Cs(i);i._a.delete(e),s.b_()&&o0(i,e),i._a.size===0&&(s.b_()?s.v_():pa(i)&&i.la.set("Unknown"))}function zd(a,e){if(a.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cs(a).U_(e)}function o0(a,e){a.ha.Ke(e),Cs(a).K_(e)}function kd(a){a.ha=new wb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a._a.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),Cs(a).start(),a.la.ta()}function Bd(a){return pa(a)&&!Cs(a).w_()&&a._a.size>0}function pa(a){return At(a).aa.size===0}function c0(a){a.ha=void 0}async function MR(a){a.la.set("Online")}async function xR(a){a._a.forEach((e,i)=>{zd(a,e)})}async function UR(a,e){c0(a),Bd(a)?(a.la.ia(e),kd(a)):a.la.set("Unknown")}async function LR(a,e,i){if(a.la.set("Online"),e instanceof Kv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u._a.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u._a.delete(g),u.ha.removeTarget(g))}(a,e)}catch(s){lt(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uc(a,s)}else if(e instanceof Yo?a.ha.Xe(e):e instanceof Yv?a.ha.ot(e):a.ha.nt(e),!i.isEqual(Tt.min()))try{const s=await a0(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.ha.It(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=h._a.get(y);T&&h._a.set(y,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const T=h._a.get(p);if(!T)return;h._a.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),o0(h,p);const b=new fr(T.target,p,y,T.sequenceNumber);zd(h,b)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){lt(ca,"Failed to raise snapshot:",s),await uc(a,s)}}async function uc(a,e,i){if(!ws(e))throw e;a.aa.add(1),await uu(a),a.la.set("Offline"),i||(i=()=>a0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{lt(ca,"Retrying IndexedDB access"),await i(),a.aa.delete(1),await bc(a)})}function h0(a,e){return e().catch(i=>uc(a,i,e))}async function Rc(a){const e=At(a),i=Ar(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Sd;for(;PR(e);)try{const u=await _R(e.localStore,s);if(u===null){e.oa.length===0&&i.v_();break}s=u.batchId,zR(e,u)}catch(u){await uc(e,u)}f0(e)&&d0(e)}function PR(a){return pa(a)&&a.oa.length<10}function zR(a,e){a.oa.push(e);const i=Ar(a);i.b_()&&i.W_&&i.G_(e.mutations)}function f0(a){return pa(a)&&!Ar(a).w_()&&a.oa.length>0}function d0(a){Ar(a).start()}async function kR(a){Ar(a).H_()}async function BR(a){const e=Ar(a);for(const i of a.oa)e.G_(i.mutations)}async function qR(a,e,i){const s=a.oa.shift(),u=Id.from(s,e,i);await h0(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),await Rc(a)}async function HR(a,e){e&&Ar(a).W_&&await async function(s,u){if(function(d){return bb(d)&&d!==tt.ABORTED}(u.code)){const h=s.oa.shift();Ar(s).D_(),await h0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await Rc(s)}}(a,e),f0(a)&&d0(a)}async function y_(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),lt(ca,"RemoteStore received new credentials");const s=pa(i);i.aa.add(3),await uu(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.aa.delete(3),await bc(i)}async function jR(a,e){const i=At(a);e?(i.aa.delete(2),await bc(i)):e||(i.aa.add(2),await uu(i),i.la.set("Unknown"))}function Cs(a){return a.Pa||(a.Pa=function(i,s,u){const h=At(i);return h.Y_(),new CR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{jo:MR.bind(null,a),Jo:xR.bind(null,a),Zo:UR.bind(null,a),Q_:LR.bind(null,a)}),a.ua.push(async e=>{e?(a.Pa.D_(),Bd(a)?kd(a):a.la.set("Unknown")):(await a.Pa.stop(),c0(a))})),a.Pa}function Ar(a){return a.Ta||(a.Ta=function(i,s,u){const h=At(i);return h.Y_(),new DR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(a.datastore,a.asyncQueue,{jo:()=>Promise.resolve(),Jo:kR.bind(null,a),Zo:HR.bind(null,a),z_:BR.bind(null,a),j_:qR.bind(null,a)}),a.ua.push(async e=>{e?(a.Ta.D_(),await Rc(a)):(await a.Ta.stop(),a.oa.length>0&&(lt(ca,`Stopping write stream with ${a.oa.length} pending writes`),a.oa=[]))})),a.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new qd(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hd(a,e){if(Ui("AsyncQueue",`${e}: ${a}`),ws(a))return new dt(tt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{static emptySet(e){return new ms(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=ql(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.Ia=new re(gt.comparator)}track(e){const i=e.doc.key,s=this.Ia.get(i);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(i):e.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):vt(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(i,e)}da(){const e=[];return this.Ia.inorderTraversal((i,s)=>{e.push(s)}),e}}class Es{constructor(e,i,s,u,h,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Es(e,i,ms.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class FR{constructor(){this.queries=v_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const u=At(i),h=u.queries;u.queries=v_(),h.forEach((d,g)=>{for(const p of g.Ra)p.onError(s)})})(this,new dt(tt.ABORTED,"Firestore shutting down"))}}function v_(){return new ma(a=>Mv(a),_c)}async function QR(a,e){const i=At(a);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.Va()&&e.ma()&&(s=2):(h=new GR,s=e.ma()?0:1);try{switch(s){case 0:h.Aa=await i.onListen(u,!0);break;case 1:h.Aa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Hd(d,`Initialization of query '${cs(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Ra.push(e),e.ga(i.onlineState),h.Aa&&e.pa(h.Aa)&&jd(i)}async function YR(a,e){const i=At(a),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Ra.indexOf(e);d>=0&&(h.Ra.splice(d,1),h.Ra.length===0?u=e.ma()?0:1:!h.Va()&&e.ma()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function KR(a,e){const i=At(a);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Ra)g.pa(u)&&(s=!0);d.Aa=u}}s&&jd(i)}function XR(a,e,i){const s=At(a),u=s.queries.get(e);if(u)for(const h of u.Ra)h.onError(i);s.queries.delete(e)}function jd(a){a.fa.forEach(e=>{e.next()})}var hd,E_;(E_=hd||(hd={})).ya="default",E_.Cache="cache";class $R{constructor(e,i,s){this.query=e,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Es(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ba?this.Da(e)&&(this.wa.next(e),i=!0):this.va(e,this.onlineState)&&(this.Ca(e),i=!0),this.Sa=e,i}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),i=!0),i}va(e,i){if(!e.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(e){e=Es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.key=e}}class g0{constructor(e){this.key=e}}class ZR{constructor(e,i){this.query=e,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ot(),this.mutatedKeys=Ot(),this.Ua=xv(e),this.Ka=new ms(this.Ua)}get Wa(){return this.qa}Ga(e,i){const s=i?i.za:new __,u=i?i.Ka:this.Ka;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const p=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,y=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((T,b)=>{const D=u.get(T),P=vc(this.query,b)?b:null,k=!!D&&this.mutatedKeys.has(D.key),J=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let j=!1;D&&P?D.data.isEqual(P.data)?k!==J&&(s.track({type:3,doc:P}),j=!0):this.ja(D,P)||(s.track({type:2,doc:P}),j=!0,(p&&this.Ua(P,p)>0||y&&this.Ua(P,y)<0)&&(g=!0)):!D&&P?(s.track({type:0,doc:P}),j=!0):D&&!P&&(s.track({type:1,doc:D}),j=!0,(p||y)&&(g=!0)),j&&(P?(d=d.add(P),h=J?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{Ka:d,za:s,ys:g,mutatedKeys:h}}ja(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const d=e.za.da();d.sort((T,b)=>function(P,k){const J=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:j})}};return J(P)-J(k)}(T.type,b.type)||this.Ua(T.doc,b.doc)),this.Ha(s),u=u!=null&&u;const g=i&&!u?this.Ja():[],p=this.$a.size===0&&this.current&&!u?1:0,y=p!==this.Qa;return this.Qa=p,d.length!==0||y?{snapshot:new Es(this.query,e.Ka,h,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new __,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ot(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return e.forEach(s=>{this.$a.has(s)||i.push(new g0(s))}),this.$a.forEach(s=>{e.has(s)||i.push(new m0(s))}),i}Xa(e){this.qa=e.Ns,this.$a=Ot();const i=this.Ga(e.documents);return this.applyChanges(i,!0)}eu(){return Es.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Gd="SyncEngine";class JR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class WR{constructor(e){this.key=e,this.tu=!1}}class t2{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new ma(g=>Mv(g),_c),this.iu=new Map,this.su=new Set,this.ou=new re(gt.comparator),this._u=new Map,this.au=new Md,this.uu={},this.cu=new Map,this.lu=vs.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function e2(a,e,i=!0){const s=T0(a);let u;const h=s.ru.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.eu()):u=await p0(s,e,i,!0),u}async function n2(a,e){const i=T0(a);await p0(i,e,!0,!1)}async function p0(a,e,i,s){const u=await vR(a.localStore,Wn(e)),h=u.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await i2(a,e,h,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&u0(a.remoteStore,u),g}async function i2(a,e,i,s,u){a.Pu=(b,D,P)=>async function(J,j,X,rt){let et=j.view.Ga(X);et.ys&&(et=await f_(J.localStore,j.query,!1).then(({documents:N})=>j.view.Ga(N,et)));const mt=rt&&rt.targetChanges.get(j.targetId),ot=rt&&rt.targetMismatches.get(j.targetId)!=null,wt=j.view.applyChanges(et,J.isPrimaryClient,mt,ot);return A_(J,j.targetId,wt.Ya),wt.snapshot}(a,b,D,P);const h=await f_(a.localStore,e,!0),d=new ZR(e,h.Ns),g=d.Ga(h.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",u),y=d.applyChanges(g,a.isPrimaryClient,p);A_(a,i,y.Ya);const T=new JR(e,i,d);return a.ru.set(e,T),a.iu.has(i)?a.iu.get(i).push(e):a.iu.set(i,[e]),y.snapshot}async function r2(a,e,i){const s=At(a),u=s.ru.get(e),h=s.iu.get(u.targetId);if(h.length>1)return s.iu.set(u.targetId,h.filter(d=>!_c(d,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await od(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Pd(s.remoteStore,u.targetId),fd(s,u.targetId)}).catch(Rs)):(fd(s,u.targetId),await od(s.localStore,u.targetId,!0))}async function a2(a,e){const i=At(a),s=i.ru.get(e),u=i.iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Pd(i.remoteStore,s.targetId))}async function s2(a,e,i){const s=d2(a);try{const u=await function(d,g){const p=At(d),y=be.now(),T=g.reduce((P,k)=>P.add(k.key),Ot());let b,D;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let k=Li(),J=Ot();return p.Cs.getEntries(P,T).next(j=>{k=j,k.forEach((X,rt)=>{rt.isValidDocument()||(J=J.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,k)).next(j=>{b=j;const X=[];for(const rt of g){const et=vb(rt,b.get(rt.key).overlayedDocument);et!=null&&X.push(new ga(rt.key,et,wv(et.value.mapValue),Ni.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,X,g)}).next(j=>{D=j;const X=j.applyToLocalDocumentSet(b,J);return p.documentOverlayCache.saveOverlays(P,j.batchId,X)})}).then(()=>({batchId:D.batchId,changes:Lv(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,p){let y=d.uu[d.currentUser.toKey()];y||(y=new re(Rt)),y=y.insert(g,p),d.uu[d.currentUser.toKey()]=y}(s,u.batchId,i),await ou(s,u.changes),await Rc(s.remoteStore)}catch(u){const h=Hd(u,"Failed to persist write");i.reject(h)}}async function y0(a,e){const i=At(a);try{const s=await pR(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i._u.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.tu=!0:u.modifiedDocuments.size>0?qt(d.tu,14607):u.removedDocuments.size>0&&(qt(d.tu,42227),d.tu=!1))}),await ou(i,s,e)}catch(s){await Rs(s)}}function T_(a,e,i){const s=At(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.ru.forEach((h,d)=>{const g=d.view.ga(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const p=At(d);p.onlineState=g;let y=!1;p.queries.forEach((T,b)=>{for(const D of b.Ra)D.ga(g)&&(y=!0)}),y&&jd(p)}(s.eventManager,e),u.length&&s.nu.Q_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function l2(a,e,i){const s=At(a);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s._u.get(e),h=u&&u.key;if(h){let d=new re(gt.comparator);d=d.insert(h,Ye.newNoDocument(h,Tt.min()));const g=Ot().add(h),p=new Ac(Tt.min(),new Map,new re(Rt),d,g);await y0(s,p),s.ou=s.ou.remove(h),s._u.delete(e),Fd(s)}else await od(s.localStore,e,!1).then(()=>fd(s,e,i)).catch(Rs)}async function u2(a,e){const i=At(a),s=e.batch.batchId;try{const u=await gR(i.localStore,e);v0(i,s,null),_0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ou(i,u)}catch(u){await Rs(u)}}async function o2(a,e,i){const s=At(a);try{const u=await function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(b=>(qt(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);v0(s,e,i),_0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ou(s,u)}catch(u){await Rs(u)}}function _0(a,e){(a.cu.get(e)||[]).forEach(i=>{i.resolve()}),a.cu.delete(e)}function v0(a,e,i){const s=At(a);let u=s.uu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.uu[s.currentUser.toKey()]=u}}function fd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.iu.get(e))a.ru.delete(s),i&&a.nu.Tu(s,i);a.iu.delete(e),a.isPrimaryClient&&a.au.Ur(e).forEach(s=>{a.au.containsKey(s)||E0(a,s)})}function E0(a,e){a.su.delete(e.path.canonicalString());const i=a.ou.get(e);i!==null&&(Pd(a.remoteStore,i),a.ou=a.ou.remove(e),a._u.delete(i),Fd(a))}function A_(a,e,i){for(const s of i)s instanceof m0?(a.au.addReference(s.key,e),c2(a,s)):s instanceof g0?(lt(Gd,"Document no longer in limbo: "+s.key),a.au.removeReference(s.key,e),a.au.containsKey(s.key)||E0(a,s.key)):vt(19791,{Iu:s})}function c2(a,e){const i=e.key,s=i.path.canonicalString();a.ou.get(i)||a.su.has(s)||(lt(Gd,"New document in limbo: "+i),a.su.add(s),Fd(a))}function Fd(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const e=a.su.values().next().value;a.su.delete(e);const i=new gt(ee.fromString(e)),s=a.lu.next();a._u.set(s,new WR(i)),a.ou=a.ou.insert(i,s),u0(a.remoteStore,new fr(Wn(Dd(i.path)),s,"TargetPurposeLimboResolution",mc.le))}}async function ou(a,e,i){const s=At(a),u=[],h=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,p)=>{d.push(s.Pu(p,e,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){u.push(y);const b=Ud.Ps(p.targetId,y);h.push(b)}}))}),await Promise.all(d),s.nu.Q_(u),await async function(p,y){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(y,D=>Z.forEach(D.ls,P=>T.persistence.referenceDelegate.addReference(b,D.targetId,P)).next(()=>Z.forEach(D.hs,P=>T.persistence.referenceDelegate.removeReference(b,D.targetId,P)))))}catch(b){if(!ws(b))throw b;lt(Ld,"Failed to update sequence numbers: "+b)}for(const b of y){const D=b.targetId;if(!b.fromCache){const P=T.Ss.get(D),k=P.snapshotVersion,J=P.withLastLimboFreeSnapshotVersion(k);T.Ss=T.Ss.insert(D,J)}}}(s.localStore,h))}async function h2(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){lt(Gd,"User change. New user:",e.toKey());const s=await r0(i.localStore,e);i.currentUser=e,function(h,d){h.cu.forEach(g=>{g.forEach(p=>{p.reject(new dt(tt.CANCELLED,d))})}),h.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ou(i,s.Ms)}}function f2(a,e){const i=At(a),s=i._u.get(e);if(s&&s.tu)return Ot().add(s.key);{let u=Ot();const h=i.iu.get(e);if(!h)return u;for(const d of h){const g=i.ru.get(d);u=u.unionWith(g.view.Wa)}return u}}function T0(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=y0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l2.bind(null,e),e.nu.Q_=KR.bind(null,e.eventManager),e.nu.Tu=XR.bind(null,e.eventManager),e}function d2(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o2.bind(null,e),e}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,i){return null}fu(e,i){return null}Vu(e){return mR(this.persistence,new hR,e.initialUser,this.serializer)}Ru(e){return new i0(xd.Ei,this.serializer)}Au(e){return new TR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class m2 extends oc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,i){qt(this.persistence.referenceDelegate instanceof lc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $b(s,e.asyncQueue,i)}Ru(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new i0(s=>lc.Ei(s,i),this.serializer)}}class dd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=h2.bind(null,this.syncEngine),await jR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FR}()}createDatastore(e){const i=Sc(e.databaseInfo.databaseId),s=function(h){return new wR(h)}(e.databaseInfo);return function(h,d,g,p){return new IR(h,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,g){return new NR(s,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>T_(this.syncEngine,i,0),function(){return g_.C()?new g_:new AR}())}createSyncEngine(e,i){return function(u,h,d,g,p,y,T){const b=new t2(u,h,d,g,p,y);return T&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=At(u);lt(ca,"RemoteStore shutting down."),h.aa.add(5),await uu(h),h.ca.shutdown(),h.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}dd.provider={build:()=>new dd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class p2{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=pv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{lt(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Hd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function jf(a,e){a.asyncQueue.verifyOperationInProgress(),lt(Sr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async u=>{s.isEqual(u)||(await r0(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function S_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await y2(a);lt(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>y_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>y_(e.remoteStore,u)),a._onlineComponents=e}async function y2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(Sr,"Using user provided OfflineComponentProvider");try{await jf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===tt.FAILED_PRECONDITION||u.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;gs("Error using user provided cache. Falling back to memory cache: "+i),await jf(a,new oc)}}else lt(Sr,"Using default OfflineComponentProvider"),await jf(a,new m2(void 0));return a._offlineComponents}async function A0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(Sr,"Using user provided OnlineComponentProvider"),await S_(a,a._uninitializedComponentsProvider._online)):(lt(Sr,"Using default OnlineComponentProvider"),await S_(a,new dd))),a._onlineComponents}function _2(a){return A0(a).then(e=>e.syncEngine)}async function v2(a){const e=await A0(a),i=e.eventManager;return i.onListen=e2.bind(null,e.syncEngine),i.onUnlisten=r2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=n2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=a2.bind(null,e.syncEngine),i}function E2(a,e,i={}){const s=new pr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,p,y){const T=new g2({next:D=>{T.yu(),d.enqueueAndForget(()=>YR(h,b));const P=D.docs.has(g);!P&&D.fromCache?y.reject(new dt(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&D.fromCache&&p&&p.source==="server"?y.reject(new dt(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),b=new $R(Dd(g.path),T,{includeMetadataChanges:!0,Fa:!0});return QR(h,b)}(await v2(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(a,e,i){if(!i)throw new dt(tt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function T2(a,e,i,s){if(e===!0&&s===!0)throw new dt(tt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function R_(a){if(!gt.isDocumentKey(a))throw new dt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function w_(a){if(gt.isDocumentKey(a))throw new dt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Qd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function cc(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new dt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Qd(a);throw new dt(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="firestore.googleapis.com",C_=!0;class D_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R0,this.ssl=C_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:C_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Kb)throw new dt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new dt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new b1;switch(s.type){case"firstParty":return new D1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=b_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),b_.delete(i),s.terminate())}(this),Promise.resolve()}}function A2(a,e,i,s={}){var u;const h=(a=cc(a,wc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==R0&&h.host!==g&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!$o(p,d)&&(a._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Qe.MOCK_USER;else{y=iS(s.mockUserToken,(u=a._app)===null||u===void 0?void 0:u.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new dt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Qe(b)}a._authCredentials=new R1(new mv(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yd(this.firestore,e,this._query)}}class wn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class yr extends Yd{constructor(e,i,s){super(e,i,Dd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new gt(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function S2(a,e,...i){if(a=Kl(a),b0("collection","path",e),a instanceof wc){const s=ee.fromString(e,...i);return w_(s),new yr(a,null,s)}{if(!(a instanceof wn||a instanceof yr))throw new dt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(e,...i));return w_(s),new yr(a.firestore,null,s)}}function w0(a,e,...i){if(a=Kl(a),arguments.length===1&&(e=pv.newId()),b0("doc","path",e),a instanceof wc){const s=ee.fromString(e,...i);return R_(s),new wn(a,null,new gt(s))}{if(!(a instanceof wn||a instanceof yr))throw new dt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(e,...i));return R_(s),new wn(a.firestore,a instanceof yr?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new s0(this,"async_queue_retry"),this.ju=()=>{const s=Hf();s&&lt(V_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const i=Hf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const i=Hf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new pr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ws(e))throw e;lt(V_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const i=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Ui("INTERNAL UNHANDLED ERROR: ",O_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(e,i,s){this.Ju(),this.zu.indexOf(e)>-1&&(i=0);const u=qd.createAndSchedule(this,e,i,s,h=>this.Xu(h));return this.Uu.push(u),u}Ju(){this.Ku&&vt(47125,{ec:O_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const i of this.Uu)if(i.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const i=this.Uu.indexOf(e);this.Uu.splice(i,1)}}function O_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Kd extends wc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new I_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function b2(a,e){const i=typeof a=="object"?a:d1(),s=typeof a=="string"?a:tc,u=u1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=eS("firestore");h&&A2(u,...h)}return u}function C0(a){if(a._terminated)throw new dt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||R2(a),a._firestoreClient}function R2(a){var e,i,s;const u=a._freezeSettings(),h=function(g,p,y,T){return new j1(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,S0(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,u);a._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new p2(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(qe.fromBase64String(e))}catch(i){throw new dt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ts(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new dt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new dt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new dt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=/^__.*__$/;class C2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,i,this.fieldTransforms):new su(e,this.data,i,this.fieldTransforms)}}function V0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{oc:a})}}class Jd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this._c(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Jd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ac({path:s,cc:!1});return u.lc(e),u}hc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ac({path:s,cc:!1});return u._c(),u}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return hc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(V0(this.oc)&&w2.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class D2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Sc(e)}dc(e,i,s,u=!1){return new Jd({oc:e,methodName:i,Ec:s,path:Be.emptyPath(),cc:!1,Ic:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V2(a){const e=a._freezeSettings(),i=Sc(a._databaseId);return new D2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function I2(a,e,i,s,u,h={}){const d=a.dc(h.merge||h.mergeFields?2:0,e,i,u);M0("Data must be an object, but it was:",d,s);const g=O0(s,d);let p,y;if(h.merge)p=new Mn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const b of h.mergeFields){const D=O2(e,b,i);if(!d.contains(D))throw new dt(tt.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);M2(T,D)||T.push(D)}p=new Mn(T),y=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=d.fieldTransforms;return new C2(new Rn(g),p,y)}function I0(a,e){if(N0(a=Kl(a)))return M0("Unsupported field value:",e,a),O0(a,e);if(a instanceof D0)return function(s,u){if(!V0(u.oc))throw u.Tc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Tc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const g of s){let p=I0(g,u.Pc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,u){if((s=Kl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return db(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=be.fromDate(s);return{timestampValue:sc(u.serializer,h)}}if(s instanceof be){const h=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sc(u.serializer,h)}}if(s instanceof $d)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ts)return{bytesValue:Xv(u.serializer,s._byteString)};if(s instanceof wn){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Zd)return function(d,g){return{mapValue:{fields:{[bv]:{stringValue:Rv},[ec]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Tc("VectorValues must only contain numeric values.");return Vd(g.serializer,y)})}}}}}}(s,u);throw u.Tc(`Unsupported field value: ${Qd(s)}`)}(a,e)}function O0(a,e){const i={};return _v(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(a,(s,u)=>{const h=I0(u,e.uc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function N0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof be||a instanceof $d||a instanceof Ts||a instanceof wn||a instanceof D0||a instanceof Zd)}function M0(a,e,i){if(!N0(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=Qd(i);throw s==="an object"?e.Tc(a+" a custom object"):e.Tc(a+" "+s)}}function O2(a,e,i){if((e=Kl(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return x0(a,e);throw hc("Field path arguments must be of type string or ",a,!1,void 0,i)}const N2=new RegExp("[~\\*/\\[\\]]");function x0(a,e,i){if(e.search(N2)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Xd(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function hc(a,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${u}`),p+=")"),new dt(tt.INVALID_ARGUMENT,g+a+p)}function M2(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(L0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class x2 extends U0{data(){return super.data()}}function L0(a,e){return typeof e=="string"?x0(a,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}class U2{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return da(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[ec].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>fe(d.doubleValue));return new Zd(h)}convertGeoPoint(e){return new $d(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=pc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=vr(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);qt(e0(s),9688,{name:e});const u=new Wl(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return u.isEqual(i)||Ui(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class P0 extends U0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new z2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(L0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class z2 extends P0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(a){a=cc(a,wn);const e=cc(a.firestore,Kd);return E2(C0(e),a._key).then(i=>j2(e,a,i))}class B2 extends U2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,i)}}function q2(a,e){const i=cc(a.firestore,Kd),s=w0(a),u=L2(a.converter,e);return H2(i,[I2(V2(a.firestore),"addDoc",s._key,u,a.converter!==null,{}).toMutation(s._key,Ni.exists(!1))]).then(()=>s)}function H2(a,e){return function(s,u){const h=new pr;return s.asyncQueue.enqueueAndForget(async()=>s2(await _2(s),u,h)),h.promise}(C0(a),e)}function j2(a,e,i){const s=i.docs.get(e._key),u=new B2(a);return new P0(a,u,e._key,s,new P2(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){bs=u})(f1),Jo(new Xl("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Kd(new w1(s.getProvider("auth-internal")),new V1(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(y.options.projectId,T)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ds(Ly,Py,e),ds(Ly,Py,"esm2017")})();var G2="firebase",F2="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(G2,F2,"app");const Q2={paxaro:"AIzaSyBG5H6P1rCE6U-3H-uroap-Nmcx7_eV0fQ",authDomain:"pokepaste-c5dcf.firebaseapp.com",projectId:"pokepaste-c5dcf",storageBucket:"pokepaste-c5dcf.firebasestorage.app",messagingSenderId:"41021956019",appId:"1:41021956019:web:932aadcbf0500bd41235c6",measurementId:"G-W9FDV6YC4R"},Y2=rv(Q2),z0=b2(Y2);function K2(a){var g;const e={nickname:null,name:"",gender:"male",item:null,searchItem:null},i=a.trim().split(`
`).map(p=>p.trim()).filter(Boolean);if(i.length===0)return null;const s=i[0],u=s.split("@")[0].trim(),h=(g=s.split("@")[1])==null?void 0:g.trim();let d=u.match(/^(.+)\s+\((.+)\)\s+\((F|M)\)$/);if(d)e.nickname=d[1].trim(),e.name=d[2].trim(),d[3]&&(e.gender=d[3]==="F"?"female":"male");else{let p=u.match(/^(.+)\s+\((F|M)\)$/);p?(e.name=p[1].trim(),p[2]&&(e.gender=p[2]==="F"?"female":"male")):e.name=u.trim()}h&&(e.item=h.trim(),e.searchItem=e.item.replace(/ /g,"-").toLowerCase()),e.name==="Tornadus"||e.name==="Thundurus"||e.name==="Landorus"||e.name==="Enamorus"?e.searchName=e.name.concat("-incarnate").toLowerCase():e.searchName=e.name.replace(/ /g,"-").toLowerCase();for(let p=1;p<i.length;p++){const y=i[p];if(y.startsWith("Ability:"))e.ability=y.substring(8).trim();else if(y.startsWith("Level:"))e.level=Number.parseInt(y.substring(6).trim(),10);else if(y.startsWith("Shiny:"))e.shiny=y.substring(6).trim()==="Yes";else if(y.startsWith("Happiness:"))e.happiness=Number.parseInt(y.substring(10).trim(),10);else if(y.startsWith("Tera Type:"))e.teraType=y.substring(10).trim();else if(y.startsWith("EVs:"))e.evs=N_(y.substring(4).trim());else if(y.startsWith("IVs:"))e.ivs=N_(y.substring(4).trim());else if(y.includes("Nature"))e.nature=y.split(" Nature")[0].trim();else if(y.startsWith("-")){e.moves||(e.moves=[]);const T=y.substring(1).trim();if(T.includes(" / ")){const b=T.split(" / ").map(D=>D.trim());e.moves.push({primary:b[0],alternatives:b.slice(1)})}else if(T.startsWith("Hidden Power")){const b=T.match(/Hidden Power \[([A-Za-z]+)\]/);if(b)e.moves.push({name:"Hidden Power",type:b[1]});else{const D=T.match(/Hidden Power ([A-Za-z]+)/);D?e.moves.push({name:"Hidden Power",type:D[1]}):e.moves.push(T)}}else e.moves.push(T)}}return e}function N_(a){const e={hp:0,atk:0,def:0,spa:0,spd:0,spe:0},i=a.split("/").map(s=>s.trim());for(const s of i){const[u,h]=s.split(" "),d=Number.parseInt(u,10);switch(h.toLowerCase()){case"hp":e.hp=d;break;case"atk":e.atk=d;break;case"def":e.def=d;break;case"spa":case"spa.":case"sp.a":case"sp.atk":case"spatk":e.spa=d;break;case"spd":case"spd.":case"sp.d":case"sp.def":case"spdef":e.spd=d;break;case"spe":case"speed":e.spe=d;break}}return e}function k0({displayText:a,copyText:e}){const i=async()=>{try{await navigator.clipboard.writeText(e)}catch(s){console.error("Failed to copy text: ",s)}};return te.jsx("button",{onClick:()=>i(),children:a})}function X2({pokemonInfo:a}){const e=K2(a),[i,s]=K.useState(null),[u,h]=K.useState(null);return K.useEffect(()=>{if(!e.searchName)return;(async()=>{const g=await fetch(`https://pokeapi.co/api/v2/pokemon/${e.searchName}`);if(!g.ok)throw new Error("Pokémon not found");const p=await g.json();s(p.sprites.front_default)})()},[e.searchName]),K.useEffect(()=>{if(!e.searchItem)return;(async()=>{const g=await fetch(`https://pokeapi.co/api/v2/item/${e.searchItem}`);if(!g.ok)throw new Error("Item not found");const p=await g.json();h(p.sprites.default)})()},[e.searchItem]),te.jsxs("div",{children:[te.jsx("img",{src:i,alt:e.name}),te.jsx("img",{src:u,alt:e.item}),te.jsx("p",{style:{whiteSpace:"pre-line"},children:a}),te.jsx(k0,{displayText:"Copy pokemon",copyText:a})]})}const B0="pastes";function $2(){const{id:a}=jT(),[e,i]=K.useState([]);return K.useEffect(()=>{(async()=>{const u=w0(z0,B0,a),h=await k2(u);if(h.exists()){const d=h.data(),g=Object.values(d);i(g)}else console.error("Doc not found")})()},[a]),te.jsxs("div",{children:[te.jsx("h1",{children:"Pokémon Team"}),e.map((s,u)=>te.jsx(X2,{pokemonInfo:s},u)),te.jsx(k0,{displayText:"Copy team",copyText:e.join(`

`)})]})}function Z2(){const[a,e]=K.useState(""),i=H_(),s=async u=>{u.preventDefault();const h=a.trim().split(/\n\s*\n/),d={};h.forEach((g,p)=>{d[p.toString()]=g.trim()});try{const g=await q2(S2(z0,B0),d);i(`/${g.id}`)}catch(g){console.error("Error saving data to Firestore:",g)}};return te.jsxs("div",{children:[te.jsx("h1",{children:"Input Pokémon Team"}),te.jsxs("form",{onSubmit:s,children:[te.jsx("textarea",{rows:"85",cols:"75",placeholder:"Paste your Pokémon team here...",autoFocus:!0,value:a,onChange:u=>e(u.target.value)}),te.jsx("br",{}),te.jsx("button",{type:"submit",children:"Save team"})]})]})}function J2(){return te.jsx("div",{children:te.jsxs(rA,{children:[te.jsx(Ff,{path:"/",element:te.jsx(Z2,{})}),te.jsx(Ff,{path:"/:id",element:te.jsx($2,{})})]})})}GA.createRoot(document.getElementById("root")).render(te.jsx(DA,{children:te.jsx(J2,{})}));
